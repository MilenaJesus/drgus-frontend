{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milen\\\\Desktop\\\\4\\xBA ano\\\\projeto\\\\ProjetoDrGus\\\\frontend\\\\src\\\\paginas\\\\Agenda.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport './Agenda.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight, faPlus, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\nimport { useNavigate } from 'react-router-dom';\nimport { format, parseISO, isSameDay, startOfDay, isBefore, subDays, startOfMonth, endOfMonth, startOfWeek, endOfWeek, eachDayOfInterval, addMonths, subMonths, isToday, getDay } from 'date-fns';\nimport ptBR from 'date-fns/locale/pt-BR';\nimport Modal from '../componentes/Modal';\nimport Select from 'react-select';\nimport { useToast } from '../context/ToastContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nconst getNomeConsulta = (consulta, pacientes = []) => {\n  if (consulta.paciente && typeof consulta.paciente === 'object' && consulta.paciente.nome) {\n    return consulta.paciente.nome;\n  }\n  if (typeof consulta.paciente === 'number') {\n    const pacienteObj = pacientes.find(p => p.id_paciente === consulta.paciente);\n    if (pacienteObj) return pacienteObj.nome;\n  }\n  if (consulta.nome_paciente_temp) {\n    return `${consulta.nome_paciente_temp} (Não Cad.)`;\n  }\n  return 'Paciente Indefinido';\n};\nconst capitalize = s => {\n  if (typeof s !== 'string') return \"\";\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\nconst getDayName = dayIndex => {\n  const days = ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'];\n  return days[dayIndex];\n};\nconst getWeekDays = date => {\n  const weekStartsOn = 1;\n  const start = startOfWeek(date, {\n    weekStartsOn,\n    locale: ptBR\n  });\n  const weekDays = eachDayOfInterval({\n    start: start,\n    end: endOfWeek(date, {\n      weekStartsOn,\n      locale: ptBR\n    })\n  });\n  return weekDays;\n};\nconst horariosExcluidos = ['11:30', '12:00', '12:30', '13:00'];\nconst horarios = Array.from({\n  length: 20\n}, (_, i) => {\n  const hora = 8 + Math.floor(i / 2);\n  const minuto = i % 2 === 0 ? '00' : '30';\n  return `${hora.toString().padStart(2, '0')}:${minuto}`;\n}).filter(horario => {\n  return !horariosExcluidos.includes(horario);\n});\nconst getDaysInMonthGrid = date => {\n  const start = startOfMonth(date);\n  const end = endOfMonth(date);\n  const startDate = startOfWeek(start, {\n    weekStartsOn: 0,\n    locale: ptBR\n  });\n  const endDate = endOfWeek(end, {\n    weekStartsOn: 0,\n    locale: ptBR\n  });\n  return eachDayOfInterval({\n    start: startDate,\n    end: endDate\n  });\n};\nfunction Agenda() {\n  _s();\n  const {\n    showToast\n  } = useToast();\n  const [agendamentos, setAgendamentos] = useState([]);\n  const [view, setView] = useState('semanal');\n  const [dataAtual, setDataAtual] = useState(new Date());\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n  const [isUnregisteredPatient, setIsUnregisteredPatient] = useState(false);\n  const [unregisteredPatientName, setUnregisteredPatientName] = useState(\"\");\n  const [novoAgendamento, setNovoAgendamento] = useState({\n    paciente: \"\",\n    data_consulta: \"\",\n    horario_consulta: \"\"\n  });\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedAgendamento, setSelectedAgendamento] = useState(null);\n  const [selectedPaciente, setSelectedPaciente] = useState(null);\n  const [newStatus, setNewStatus] = useState(\"\");\n  const [pacientes, setPacientes] = useState([]);\n  const [isPacientesLoading, setIsPacientesLoading] = useState(false);\n  const navigate = useNavigate();\n  const [modalView, setModalView] = useState('details');\n  const [isAjudaOpen, setIsAjudaOpen] = useState(false);\n  const minDate = format(new Date(), 'yyyy-MM-dd');\n  const todayStartOfDay = startOfDay(new Date());\n  const toggleUnregistered = () => {\n    setIsUnregisteredPatient(prev => !prev);\n    setUnregisteredPatientName(\"\");\n    setNovoAgendamento(prev => ({\n      ...prev,\n      paciente: \"\"\n    }));\n  };\n  const fetchAgendamentos = useCallback(async () => {\n    setError(null);\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) throw new Error('Token de autenticação não encontrado.');\n      const response = await axios.get(`${API_BASE_URL}/api/agendamentos/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      let agendamentosData = response.data.results || response.data || [];\n      if (!Array.isArray(agendamentosData)) {\n        console.error(\"API não retornou um array:\", agendamentosData);\n        agendamentosData = [];\n        setError('Formato de dados inesperado da API.');\n      }\n      setAgendamentos(agendamentosData);\n    } catch (err) {\n      if (err.response && err.response.status === 401) {\n        console.error('Sua sessão expirou. Redirecionando para login.');\n        navigate('/login');\n      } else {\n        setError('Não foi possível carregar os agendamentos.');\n        console.error('Erro ao buscar agendamentos:', err);\n      }\n    }\n  }, [navigate]);\n  useEffect(() => {\n    setLoading(true);\n    const initData = async () => {\n      await Promise.all([fetchAgendamentos()]);\n      setLoading(false);\n    };\n    initData();\n  }, [fetchAgendamentos]);\n  useEffect(() => {\n    if (!showForm) {\n      return;\n    }\n    const buscarPacientesDoModal = async () => {\n      console.log(\"MODAL DEBUG: 1. Modal abriu, buscando pacientes...\");\n      setIsPacientesLoading(true);\n      setError(null);\n      try {\n        const token = localStorage.getItem('access_token');\n        if (!token) throw new Error('Token de autenticação não encontrado.');\n\n        // Busca na rota /api/pacientes/ (que envia 'id_paciente')\n        const response = await axios.get(`${API_BASE_URL}/api/pacientes/`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        console.log(\"MODAL DEBUG: 2. API respondeu:\", response.data);\n        const dadosBrutos = response.data.results || response.data || [];\n        if (Array.isArray(dadosBrutos)) {\n          setPacientes(dadosBrutos);\n          console.log(\"MODAL DEBUG: 3. Dados salvos no estado.\");\n        } else {\n          console.error(\"MODAL DEBUG: ERRO! A API não retornou um array.\");\n          setPacientes([]);\n        }\n      } catch (err) {\n        console.error('MODAL DEBUG: ERRO! A requisição falhou:', err.response || err.message);\n        setError(\"Falha ao carregar pacientes. Verifique o console.\");\n      } finally {\n        console.log(\"MODAL DEBUG: 4. Finalizando, desligando 'Buscando...'.\");\n        setIsPacientesLoading(false);\n      }\n    };\n    buscarPacientesDoModal();\n  }, [showForm]);\n  const opcoesPacientes = useMemo(() => {\n    return pacientes.map(p => ({\n      value: p.id_paciente,\n      label: p.nome\n    }));\n  }, [pacientes]);\n  const handleNavegacao = diasOuMeses => {\n    let novaData = new Date(dataAtual);\n    if (view === 'mensal') {\n      novaData = diasOuMeses > 0 ? addMonths(dataAtual, 1) : subMonths(dataAtual, 1);\n    } else if (view === 'semanal') {\n      novaData.setDate(dataAtual.getDate() + diasOuMeses);\n    } else {\n      novaData.setDate(dataAtual.getDate() + (diasOuMeses > 0 ? 1 : -1));\n    }\n    setDataAtual(novaData);\n  };\n  const isPrevDisabled = () => {\n    const today = startOfDay(new Date());\n    if (view === 'mensal') {\n      return isBefore(startOfMonth(subMonths(dataAtual, 1)), startOfMonth(today));\n    } else if (view === 'semanal') {\n      return isBefore(startOfDay(subDays(dataAtual, 7)), today);\n    } else {\n      return isBefore(startOfDay(subDays(dataAtual, 1)), today);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNovoAgendamento(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSubmitAgendamento = async e => {\n    e.preventDefault();\n    const userId = localStorage.getItem('user_id');\n    if (!userId) {\n      showToast(\"Erro: ID do usuário não encontrado. Faça login novamente.\");\n      return;\n    }\n    let agendamentoData = {\n      data_consulta: novoAgendamento.data_consulta,\n      horario_consulta: novoAgendamento.horario_consulta,\n      observacoes: novoAgendamento.observacoes || null,\n      usuario: parseInt(userId)\n    };\n    if (isUnregisteredPatient) {\n      if (!unregisteredPatientName.trim()) {\n        showToast('Por favor, insira o nome do paciente não cadastrado.');\n        return;\n      }\n      agendamentoData.nome_paciente_temp = unregisteredPatientName.trim();\n      agendamentoData.paciente = null;\n    } else {\n      if (!novoAgendamento.paciente) {\n        showToast('Por favor, selecione um paciente cadastrado.');\n        return;\n      }\n      agendamentoData.paciente = parseInt(novoAgendamento.paciente);\n      agendamentoData.nome_paciente_temp = null;\n    }\n    const dataConsulta = parseISO(novoAgendamento.data_consulta);\n    if (getDay(dataConsulta) === 0 || getDay(dataConsulta) === 6) {\n      showToast('Não é possível agendar consultas aos Sábados ou Domingos.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('access_token');\n      await axios.post(`${API_BASE_URL}/api/agendamentos/`, agendamentoData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      showToast('Consulta agendada com sucesso!');\n      setIsUnregisteredPatient(false);\n      setUnregisteredPatientName(\"\");\n      setShowForm(false);\n      fetchAgendamentos();\n    } catch (err) {\n      let errorMessage = \"Ocorreu um erro desconhecido.\";\n      if (err.response && err.response.data) {\n        const responseData = err.response.data;\n        if (responseData.non_field_errors) {\n          errorMessage = responseData.non_field_errors.join(' ');\n        } else if (responseData.detail) {\n          errorMessage = responseData.detail;\n        } else if (typeof responseData === 'object') {\n          const firstKey = Object.keys(responseData)[0];\n          errorMessage = Array.isArray(responseData[firstKey]) ? `${firstKey}: ${responseData[firstKey].join(' ')}` : `${firstKey}: ${responseData[firstKey]}`;\n        } else {\n          errorMessage = JSON.stringify(err.response.data);\n        }\n      } else {\n        errorMessage = err.message;\n      }\n      showToast(`Erro ao criar agendamento: ${errorMessage}`);\n    }\n  };\n  const weekDays = useMemo(() => getWeekDays(dataAtual), [dataAtual]);\n  const monthDays = useMemo(() => getDaysInMonthGrid(dataAtual), [dataAtual]);\n  const handleAppointmentClick = agendamento => {\n    const paciente = pacientes.find(p => p.id_paciente === agendamento.paciente);\n    setSelectedAgendamento(agendamento);\n    setSelectedPaciente(paciente);\n    setNewStatus(agendamento.status || 'pendente');\n    setModalView('details');\n    setShowDetailModal(true);\n  };\n  const handleSaveStatus = async () => {\n    if (!selectedAgendamento || !newStatus) return;\n    try {\n      const token = localStorage.getItem('access_token');\n      const agendamentoId = selectedAgendamento.id_consulta;\n      const response = await axios.patch(`${API_BASE_URL}/api/agendamentos/${agendamentoId}/`, {\n        status: newStatus\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setAgendamentos(prevAgendamentos => prevAgendamentos.map(ag => ag.id_consulta === agendamentoId ? response.data : ag));\n      setShowDetailModal(false);\n      setSelectedAgendamento(null);\n      setSelectedPaciente(null);\n    } catch (err) {\n      var _err$response;\n      console.error(\"Erro ao atualizar o status:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n    }\n  };\n  const handleDeleteAppointment = async () => {\n    if (!selectedAgendamento) return;\n    try {\n      const token = localStorage.getItem('access_token');\n      const agendamentoId = selectedAgendamento.id_consulta;\n      await axios.delete(`${API_BASE_URL}/api/agendamentos/${agendamentoId}/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setAgendamentos(prevAgendamentos => prevAgendamentos.filter(ag => ag.id_consulta !== agendamentoId));\n      setShowDetailModal(false);\n      setSelectedAgendamento(null);\n      setSelectedPaciente(null);\n    } catch (err) {\n      var _err$response2;\n      console.error(\"Erro ao excluir a consulta:\", ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || err.message);\n    }\n  };\n  const handleCellClick = (day, hora) => {\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\n    const slotTime = new Date(day);\n    slotTime.setHours(slotHour, slotMinute, 0, 0);\n    const now = new Date();\n    if (getDay(day) === 0 || getDay(day) === 6) {\n      return;\n    }\n    if (isBefore(slotTime, now)) {\n      return;\n    }\n    const dataFormatada = format(day, 'yyyy-MM-dd');\n    const horaFormatada = hora.substring(0, 5);\n    setNovoAgendamento(prevState => ({\n      ...prevState,\n      data_consulta: dataFormatada,\n      horario_consulta: horaFormatada,\n      paciente: \"\"\n    }));\n    setShowForm(true);\n  };\n  const renderHeaders = () => {\n    if (view === 'semanal') {\n      return weekDays.map(day => /*#__PURE__*/_jsxDEV(\"th\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: capitalize(getDayName(getDay(day)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-number\",\n          children: format(day, 'dd', {\n            locale: ptBR\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, day.toISOString(), true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this));\n    } else {\n      const dayToShow = dataAtual;\n      return /*#__PURE__*/_jsxDEV(\"th\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: capitalize(getDayName(getDay(dayToShow)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-number\",\n          children: format(dayToShow, 'dd', {\n            locale: ptBR\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)]\n      }, dayToShow.toISOString(), true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const renderCells = hora => {\n    const daysToRender = view === 'semanal' ? weekDays : [dataAtual];\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\n    const now = new Date();\n    return daysToRender.map(day => {\n      const slotStart = new Date(day);\n      slotStart.setHours(slotHour, slotMinute, 0, 0);\n      const slotEnd = new Date(slotStart);\n      slotEnd.setMinutes(slotStart.getMinutes() + 30);\n      const agendamento = agendamentos.find(ag => {\n        try {\n          const agendamentoDate = parseISO(ag.data_consulta);\n          const [agHour, agMinute] = ag.horario_consulta.split(':').map(Number);\n          const agendamentoTime = new Date(agendamentoDate);\n          agendamentoTime.setHours(agHour, agMinute, 0, 0);\n          return isSameDay(agendamentoDate, day) && agendamentoTime >= slotStart && agendamentoTime < slotEnd;\n        } catch (e) {\n          console.error(\"Erro ao processar data/hora do agendamento:\", ag, e);\n          return false;\n        }\n      });\n      const isPastSlot = isBefore(slotStart, now);\n      const isSunday = getDay(day) === 0;\n      const isSaturday = getDay(day) === 6;\n      const isClickable = !agendamento && !isPastSlot && !isSunday && !isSaturday;\n      return /*#__PURE__*/_jsxDEV(\"td\", {\n        onClick: isClickable ? () => handleCellClick(day, hora) : null,\n        className: !agendamento ? isPastSlot || isSunday || isSaturday ? 'cell-past' : 'cell-empty' : 'cell-filled',\n        children: [agendamento && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `appointment-cell status-${agendamento.status || 'pendente'}`,\n          onClick: e => {\n            e.stopPropagation();\n            handleAppointmentClick(agendamento);\n          },\n          title: `Clique para ver detalhes de: ${getNomeConsulta(agendamento, pacientes)}`,\n          children: [agendamento.horario_consulta.substring(0, 5), \" -\", getNomeConsulta(agendamento, pacientes)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this), !agendamento && (isSunday || isSaturday) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell-closed-text\",\n          children: \"Fechado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 56\n        }, this), !agendamento && isPastSlot && !isSunday && !isSaturday && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell-past-text\",\n          children: \"Encerrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 70\n        }, this)]\n      }, `${day.toISOString()}-${hora}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  const renderMonthlyView = () => {\n    const appointmentsByDay = agendamentos.reduce((acc, ag) => {\n      const dateKey = format(parseISO(ag.data_consulta), 'yyyy-MM-dd');\n      acc[dateKey] = (acc[dateKey] || 0) + 1;\n      return acc;\n    }, {});\n    const startOfCurrentMonth = startOfMonth(dataAtual);\n    const endOfCurrentMonth = endOfMonth(dataAtual);\n    const weekDaysNames = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monthly-grid-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"month-header-row\",\n        children: weekDaysNames.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"month-day-name\",\n          children: capitalize(day)\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"month-days-grid\",\n        children: monthDays.map(day => {\n          const dateKey = format(day, 'yyyy-MM-dd');\n          const isCurrentMonth = day >= startOfCurrentMonth && day <= endOfCurrentMonth;\n          const isPastDay = isBefore(startOfDay(day), todayStartOfDay);\n          const isTodayMark = isToday(day);\n          const appointmentCount = appointmentsByDay[dateKey] || 0;\n          let dayClasses = 'month-day-cell';\n          if (!isCurrentMonth) dayClasses += ' outside-month';\n          if (isPastDay) dayClasses += ' cell-past-monthly';\n          if (isTodayMark) dayClasses += ' is-today';\n          const isSunday = getDay(day) === 0;\n          const isSaturday = getDay(day) === 6;\n          const isClickable = isCurrentMonth && !isPastDay && !isSunday && !isSaturday;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: dayClasses,\n            onClick: () => {\n              if (isClickable) {\n                setDataAtual(day);\n                setView('diaria');\n              }\n            },\n            title: isClickable ? \"Ver detalhes do dia\" : isSunday || isSaturday ? \"Fechado\" : \"Dia passado\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"day-number-monthly\",\n              children: format(day, 'd')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this), isCurrentMonth && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"monthly-status-footer\",\n              children: appointmentCount > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"appointment-count\",\n                children: [appointmentCount, \" \", appointmentCount === 1 ? 'consulta' : 'consultas']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 23\n              }, this) : isSunday || isSaturday ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cell-closed-text\",\n                children: \"Fechado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 25\n              }, this) : isPastDay ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cell-past-text\",\n                children: \"Encerrado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-appointment-label\",\n                children: \"Livre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 19\n            }, this)]\n          }, dateKey, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this);\n  };\n  const formatAndCapitalizeHeader = (date, view) => {\n    if (view === 'semanal') {\n      const weekStartsOn = 1;\n      const start = startOfWeek(date, {\n        weekStartsOn,\n        locale: ptBR\n      });\n      const end = endOfWeek(date, {\n        weekStartsOn,\n        locale: ptBR\n      });\n      const startDateFormatted = format(start, 'dd/MM');\n      const endDateFormatted = format(end, 'dd/MM');\n      return `${startDateFormatted} - ${endDateFormatted}`;\n    }\n    const fullHeaderDate = format(date, \"EEEE, d 'de' MMMM 'de' yyyy\", {\n      locale: ptBR\n    });\n    return capitalize(fullHeaderDate);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-message\",\n    children: \"Carregando agenda...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 529,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"agenda-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"agenda-header-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button\",\n          onClick: () => handleNavegacao(view === 'semanal' ? -7 : view === 'mensal' ? -1 : -1),\n          disabled: isPrevDisabled(),\n          title: view === 'mensal' ? \"Mês anterior\" : view === 'semanal' ? \"Semana anterior\" : \"Dia anterior\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faChevronLeft\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"current-display-date\",\n          children: view === 'mensal' ? capitalize(format(dataAtual, 'MMMM yyyy', {\n            locale: ptBR\n          })) : formatAndCapitalizeHeader(dataAtual, view)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button\",\n          onClick: () => handleNavegacao(view === 'semanal' ? 7 : view === 'mensal' ? 1 : 1),\n          title: view === 'mensal' ? \"Próximo mês\" : view === 'semanal' ? \"Próxima semana\" : \"Próximo dia\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faChevronRight\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"novo-agendamento-button\",\n        onClick: () => setShowForm(true),\n        title: \"Adicionar uma nova consulta na agenda\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faPlus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), \" Nova consulta\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 17\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowForm(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nova-consulta-card\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Nova Consulta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitAgendamento,\n          className: \"nova-consulta-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-compact\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-label-with-action\",\n              style: {\n                display: 'block'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"link-button\",\n                onClick: toggleUnregistered,\n                title: isUnregisteredPatient ? \"Selecionar Paciente Cadastrado\" : \"Habilitar nome manual\",\n                style: {\n                  paddingLeft: '0',\n                  textDecoration: 'underline',\n                  marginTop: '2px'\n                },\n                children: isUnregisteredPatient ? '<< Usar Lista de Cadastrados' : 'Agendar paciente não cadastrado'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"paciente\",\n                children: \"Nome do Paciente:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 17\n            }, this), isUnregisteredPatient ? /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"unregistered_paciente_name\",\n              name: \"unregistered_paciente_name\",\n              value: unregisteredPatientName,\n              onChange: e => setUnregisteredPatientName(e.target.value),\n              className: \"input-field\",\n              placeholder: \"Digite o nome do paciente...\",\n              required: true,\n              title: \"Nome do paciente que n\\xE3o possui cadastro.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Select, {\n              id: \"paciente\",\n              name: \"paciente\",\n              options: opcoesPacientes,\n              value: opcoesPacientes.find(p => p.value === novoAgendamento.paciente),\n              onChange: opcaoSelecionada => {\n                const eventoSimulado = {\n                  target: {\n                    name: 'paciente',\n                    value: opcaoSelecionada ? opcaoSelecionada.value : \"\"\n                  }\n                };\n                handleInputChange(eventoSimulado);\n              },\n              className: \"input-field-react-select\",\n              classNamePrefix: \"react-select\",\n              isLoading: isPacientesLoading,\n              placeholder: isPacientesLoading ? \"Buscando pacientes...\" : \"Digite ou selecione o paciente...\",\n              isSearchable: true,\n              isClearable: true,\n              required: true,\n              title: \"Selecione um paciente j\\xE1 cadastrado.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group-compact\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"data_consulta\",\n                children: \"Data: *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"data_consulta\",\n                name: \"data_consulta\",\n                value: novoAgendamento.data_consulta,\n                onChange: handleInputChange,\n                className: \"input-field\",\n                required: true,\n                min: minDate,\n                title: \"Data da consulta.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group-compact\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"horario_consulta\",\n                children: \"Hora: *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"horario_consulta\",\n                name: \"horario_consulta\",\n                value: novoAgendamento.horario_consulta,\n                onChange: handleInputChange,\n                className: \"input-field\",\n                required: true,\n                title: \"Hor\\xE1rio da consulta.\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"--:--\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 21\n                }, this), horarios.map(hora => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: hora,\n                  children: hora\n                }, hora, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-secondary\",\n              onClick: () => setShowForm(false),\n              title: \"Cancelar e fechar\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button-primary\",\n              title: \"Salvar a nova consulta\",\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-options\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule-options-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"horarios-text\",\n          children: view === 'mensal' ? 'Visualização Mensal' : 'Horários'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"separator-text\",\n          children: \"|\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"current-month\",\n          children: capitalize(format(dataAtual, 'MMMM', {\n            locale: ptBR\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${view === 'mensal' ? 'active' : ''}`,\n          onClick: () => setView('mensal'),\n          title: \"Alternar para visualiza\\xE7\\xE3o mensal\",\n          children: \"M\\xEAs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${view === 'semanal' ? 'active' : ''}`,\n          onClick: () => setView('semanal'),\n          title: \"Alternar para visualiza\\xE7\\xE3o semanal\",\n          children: \"Semana\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${view === 'diaria' ? 'active' : ''}`,\n          onClick: () => setView('diaria'),\n          title: \"Alternar para visualiza\\xE7\\xE3o di\\xE1ria\",\n          children: \"Dia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 670,\n      columnNumber: 7\n    }, this), view === 'mensal' ? renderMonthlyView() : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-table-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"schedule-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"horario-col\",\n              children: \"Hor\\xE1rio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this), renderHeaders()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: horarios.map(hora => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"horario-col\",\n              children: hora\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 19\n            }, this), renderCells(hora)]\n          }, hora, true, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 690,\n      columnNumber: 9\n    }, this), view !== 'mensal' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legend-fixed-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator confirmado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 42\n          }, this), \" Confirmado\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator pendente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 42\n          }, this), \" Pendente\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator cancelado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 42\n          }, this), \" Cancelado\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator reagendado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 42\n          }, this), \" Reagendado\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 713,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 712,\n      columnNumber: 9\n    }, this), showDetailModal && selectedAgendamento && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowDetailModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: modalView === 'details' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Detalhes da Consulta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Paciente:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 19\n            }, this), ' ', selectedPaciente !== null && selectedPaciente !== void 0 && selectedPaciente.nome ? selectedPaciente.nome : selectedAgendamento !== null && selectedAgendamento !== void 0 && selectedAgendamento.nome_paciente_temp ? `${selectedAgendamento.nome_paciente_temp} (Não Cad.)` : 'Paciente Indefinido']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Data:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 20\n            }, this), \" \", format(parseISO(selectedAgendamento.data_consulta), 'dd/MM/yyyy')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Hora:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 20\n            }, this), \" \", selectedAgendamento.horario_consulta.substring(0, 5)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-compact\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"status\",\n              title: \"Mude o status da consulta (Ex: de Pendente para Confirmado)\",\n              children: \"Alterar Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"status\",\n              className: \"input-field\",\n              value: newStatus,\n              onChange: e => setNewStatus(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pendente\",\n                children: \"Pendente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"confirmado\",\n                children: \"Confirmado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 748,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cancelado\",\n                children: \"Cancelado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"reagendado\",\n                children: \"Reagendado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions-footer\",\n            style: {\n              justifyContent: 'space-between',\n              marginTop: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-danger\",\n              onClick: () => setModalView('confirmDelete'),\n              title: \"Excluir esta consulta permanentemente\",\n              children: \"Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"button-secondary\",\n                onClick: () => setShowDetailModal(false),\n                title: \"Fechar esta janela\",\n                children: \"Fechar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"button-primary\",\n                onClick: handleSaveStatus,\n                style: {\n                  marginLeft: '10px'\n                },\n                title: \"Salvar o novo status desta consulta\",\n                children: \"Salvar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) :\n        /*#__PURE__*/\n        //MODAL DE CONFIRMAR EXCLUSÃO\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Confirmar Exclus\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Tem certeza que deseja excluir esta consulta?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.9rem',\n              color: '#666'\n            },\n            children: \"Esta a\\xE7\\xE3o n\\xE3o pode ser desfeita.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions-footer\",\n            style: {\n              justifyContent: 'flex-end',\n              marginTop: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-secondary\",\n              onClick: () => setModalView('details'),\n              title: \"N\\xE3o excluir e voltar\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-danger\",\n              onClick: handleDeleteAppointment,\n              style: {\n                marginLeft: '10px'\n              },\n              title: \"Confirmar exclus\\xE3o\",\n              children: \"Sim, Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"floating-help-button\",\n      onClick: () => setIsAjudaOpen(true),\n      title: \"Ajuda sobre esta p\\xE1gina\",\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faQuestionCircle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 815,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isAjudaOpen,\n      onClose: () => setIsAjudaOpen(false),\n      titulo: \"Ajuda - Agenda\",\n      footer: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-button modal-button-secondary\",\n        onClick: () => setIsAjudaOpen(false),\n        children: \"Fechar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 11\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Esta tela guia voc\\xEA pelo cadastro de um novo paciente em 4 etapas:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          paddingLeft: '20px',\n          lineHeight: '1.6'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dados Pessoais:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 13\n          }, this), \" Informa\\xE7\\xF5es b\\xE1sicas de cadastro e contato. Campos com * (asterisco) s\\xE3o obrigat\\xF3rios.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 838,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Anamnese 1 e 2:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 13\n          }, this), \" Question\\xE1rio de sa\\xFAde. Os campos \\\"Motivo da consulta\\\" e \\\"\\xDAltimo tratamento\\\" s\\xE3o obrigat\\xF3rios. Nas demais perguntas (checkboxes), a descri\\xE7\\xE3o se torna obrigat\\xF3ria caso a op\\xE7\\xE3o seja marcada (selecionada).\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Concluir e Salvar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 13\n          }, this), \" Permite salvar o paciente no sistema e imprimir a ficha de anamnese.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 823,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 532,\n    columnNumber: 5\n  }, this);\n}\n_s(Agenda, \"Y6zFoJUEDEDvp4GVy2LGJvNbTVA=\", false, function () {\n  return [useToast, useNavigate];\n});\n_c = Agenda;\nexport default Agenda;\nvar _c;\n$RefreshReg$(_c, \"Agenda\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","FontAwesomeIcon","faChevronLeft","faChevronRight","faPlus","faQuestionCircle","useNavigate","format","parseISO","isSameDay","startOfDay","isBefore","subDays","startOfMonth","endOfMonth","startOfWeek","endOfWeek","eachDayOfInterval","addMonths","subMonths","isToday","getDay","ptBR","Modal","Select","useToast","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","getNomeConsulta","consulta","pacientes","paciente","nome","pacienteObj","find","p","id_paciente","nome_paciente_temp","capitalize","s","charAt","toUpperCase","slice","getDayName","dayIndex","days","getWeekDays","date","weekStartsOn","start","locale","weekDays","end","horariosExcluidos","horarios","Array","from","length","_","i","hora","Math","floor","minuto","toString","padStart","filter","horario","includes","getDaysInMonthGrid","startDate","endDate","Agenda","_s","showToast","agendamentos","setAgendamentos","view","setView","dataAtual","setDataAtual","Date","loading","setLoading","error","setError","showForm","setShowForm","isUnregisteredPatient","setIsUnregisteredPatient","unregisteredPatientName","setUnregisteredPatientName","novoAgendamento","setNovoAgendamento","data_consulta","horario_consulta","showDetailModal","setShowDetailModal","selectedAgendamento","setSelectedAgendamento","selectedPaciente","setSelectedPaciente","newStatus","setNewStatus","setPacientes","isPacientesLoading","setIsPacientesLoading","navigate","modalView","setModalView","isAjudaOpen","setIsAjudaOpen","minDate","todayStartOfDay","toggleUnregistered","prev","fetchAgendamentos","token","localStorage","getItem","Error","response","get","headers","agendamentosData","data","results","isArray","console","err","status","initData","Promise","all","buscarPacientesDoModal","log","dadosBrutos","message","opcoesPacientes","map","value","label","handleNavegacao","diasOuMeses","novaData","setDate","getDate","isPrevDisabled","today","handleInputChange","e","name","target","prevState","handleSubmitAgendamento","preventDefault","userId","agendamentoData","observacoes","usuario","parseInt","trim","dataConsulta","post","errorMessage","responseData","non_field_errors","join","detail","firstKey","Object","keys","JSON","stringify","monthDays","handleAppointmentClick","agendamento","handleSaveStatus","agendamentoId","id_consulta","patch","prevAgendamentos","ag","_err$response","handleDeleteAppointment","delete","_err$response2","handleCellClick","day","slotHour","slotMinute","split","Number","slotTime","setHours","now","dataFormatada","horaFormatada","substring","renderHeaders","children","fileName","_jsxFileName","lineNumber","columnNumber","className","toISOString","dayToShow","renderCells","daysToRender","slotStart","slotEnd","setMinutes","getMinutes","agendamentoDate","agHour","agMinute","agendamentoTime","isPastSlot","isSunday","isSaturday","isClickable","onClick","stopPropagation","title","renderMonthlyView","appointmentsByDay","reduce","acc","dateKey","startOfCurrentMonth","endOfCurrentMonth","weekDaysNames","isCurrentMonth","isPastDay","isTodayMark","appointmentCount","dayClasses","formatAndCapitalizeHeader","startDateFormatted","endDateFormatted","fullHeaderDate","disabled","icon","onSubmit","style","display","type","paddingLeft","textDecoration","marginTop","htmlFor","id","onChange","placeholder","required","options","opcaoSelecionada","eventoSimulado","classNamePrefix","isLoading","isSearchable","isClearable","min","justifyContent","marginLeft","fontSize","color","isOpen","onClose","titulo","footer","lineHeight","_c","$RefreshReg$"],"sources":["C:/Users/milen/Desktop/4º ano/projeto/ProjetoDrGus/frontend/src/paginas/Agenda.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport './Agenda.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faChevronRight, faPlus, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  format, parseISO, isSameDay, startOfDay, isBefore, subDays,\r\n  startOfMonth, endOfMonth, startOfWeek, endOfWeek, eachDayOfInterval,\r\n  addMonths, subMonths, isToday, getDay\r\n} from 'date-fns';\r\nimport ptBR from 'date-fns/locale/pt-BR';\r\nimport Modal from '../componentes/Modal';\r\nimport Select from 'react-select';\r\nimport { useToast } from '../context/ToastContext';\r\n\r\nconst API_BASE_URL = 'http://localhost:8000'; \r\nconst getNomeConsulta = (consulta, pacientes = []) => {\r\n  if (consulta.paciente && typeof consulta.paciente === 'object' && consulta.paciente.nome) {\r\n    return consulta.paciente.nome;\r\n  }\r\n  if (typeof consulta.paciente === 'number') {\r\n    const pacienteObj = pacientes.find(p => p.id_paciente === consulta.paciente); \r\n    if (pacienteObj) return pacienteObj.nome;\r\n  }\r\n  if (consulta.nome_paciente_temp) {\r\n    return `${consulta.nome_paciente_temp} (Não Cad.)`;\r\n  }\r\n  return 'Paciente Indefinido';\r\n};\r\n\r\n\r\nconst capitalize = (s) => {\r\n  if (typeof s !== 'string') return \"\";\r\n  return s.charAt(0).toUpperCase() + s.slice(1);\r\n};\r\n\r\nconst getDayName = (dayIndex) => {\r\n  const days = ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'];\r\n  return days[dayIndex];\r\n};\r\n\r\nconst getWeekDays = (date) => {\r\n  const weekStartsOn = 1;\r\n  const start = startOfWeek(date, { weekStartsOn, locale: ptBR });\r\n  const weekDays = eachDayOfInterval({\r\n    start: start,\r\n    end: endOfWeek(date, { weekStartsOn, locale: ptBR })\r\n  });\r\n  return weekDays;\r\n};\r\n\r\nconst horariosExcluidos = ['11:30', '12:00', '12:30', '13:00'];\r\nconst horarios = Array.from({ length: 20 }, (_, i) => {\r\n  const hora = 8 + Math.floor(i / 2);\r\n  const minuto = i % 2 === 0 ? '00' : '30';\r\n  return `${hora.toString().padStart(2, '0')}:${minuto}`;\r\n}).filter(horario => {\r\n  return !horariosExcluidos.includes(horario);\r\n});\r\n\r\nconst getDaysInMonthGrid = (date) => {\r\n  const start = startOfMonth(date);\r\n  const end = endOfMonth(date);\r\n  const startDate = startOfWeek(start, { weekStartsOn: 0, locale: ptBR });\r\n  const endDate = endOfWeek(end, { weekStartsOn: 0, locale: ptBR });\r\n  return eachDayOfInterval({ start: startDate, end: endDate });\r\n};\r\n\r\nfunction Agenda() {\r\n  const { showToast } = useToast();\r\n  const [agendamentos, setAgendamentos] = useState([]);\r\n  const [view, setView] = useState('semanal');\r\n  const [dataAtual, setDataAtual] = useState(new Date());\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isUnregisteredPatient, setIsUnregisteredPatient] = useState(false);\r\n  const [unregisteredPatientName, setUnregisteredPatientName] = useState(\"\");\r\n  const [novoAgendamento, setNovoAgendamento] = useState({\r\n    paciente: \"\",\r\n    data_consulta: \"\",\r\n    horario_consulta: \"\",\r\n  });\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selectedAgendamento, setSelectedAgendamento] = useState(null);\r\n  const [selectedPaciente, setSelectedPaciente] = useState(null);\r\n  const [newStatus, setNewStatus] = useState(\"\");\r\n  const [pacientes, setPacientes] = useState([]);\r\n  const [isPacientesLoading, setIsPacientesLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [modalView, setModalView] = useState('details');\r\n  const [isAjudaOpen, setIsAjudaOpen] = useState(false);\r\n  \r\n  const minDate = format(new Date(), 'yyyy-MM-dd');\r\n  const todayStartOfDay = startOfDay(new Date());\r\n\r\n  const toggleUnregistered = () => {\r\n    setIsUnregisteredPatient(prev => !prev);\r\n    setUnregisteredPatientName(\"\");\r\n    setNovoAgendamento(prev => ({ ...prev, paciente: \"\" }));\r\n  };\r\n\r\n  const fetchAgendamentos = useCallback(async () => {\r\n    setError(null);\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) throw new Error('Token de autenticação não encontrado.');\r\n      const response = await axios.get(`${API_BASE_URL}/api/agendamentos/`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      let agendamentosData = response.data.results || response.data || [];\r\n      if (!Array.isArray(agendamentosData)) {\r\n        console.error(\"API não retornou um array:\", agendamentosData);\r\n        agendamentosData = [];\r\n        setError('Formato de dados inesperado da API.');\r\n      }\r\n      setAgendamentos(agendamentosData);\r\n    } catch (err) {\r\n      if (err.response && err.response.status === 401) {\r\n        console.error('Sua sessão expirou. Redirecionando para login.');\r\n        navigate('/login');\r\n      } else {\r\n        setError('Não foi possível carregar os agendamentos.');\r\n        console.error('Erro ao buscar agendamentos:', err);\r\n      }\r\n    }\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const initData = async () => {\r\n      await Promise.all([\r\n        fetchAgendamentos(),\r\n      ]);\r\n      setLoading(false);\r\n    };\r\n    initData();\r\n  }, [fetchAgendamentos]);\r\n\r\n  useEffect(() => {\r\n    if (!showForm) {\r\n      return;\r\n    }\r\n\r\n    const buscarPacientesDoModal = async () => {\r\n      console.log(\"MODAL DEBUG: 1. Modal abriu, buscando pacientes...\");\r\n      setIsPacientesLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const token = localStorage.getItem('access_token');\r\n        if (!token) throw new Error('Token de autenticação não encontrado.');\r\n\r\n        // Busca na rota /api/pacientes/ (que envia 'id_paciente')\r\n        const response = await axios.get(`${API_BASE_URL}/api/pacientes/`, { \r\n          headers: { 'Authorization': `Bearer ${token}` }\r\n        });\r\n\r\n        console.log(\"MODAL DEBUG: 2. API respondeu:\", response.data);\r\n\r\n        const dadosBrutos = response.data.results || response.data || []; \r\n\r\n        if (Array.isArray(dadosBrutos)) {\r\n          setPacientes(dadosBrutos); \r\n          console.log(\"MODAL DEBUG: 3. Dados salvos no estado.\");\r\n        } else {\r\n          console.error(\"MODAL DEBUG: ERRO! A API não retornou um array.\");\r\n          setPacientes([]);\r\n        }\r\n\r\n      } catch (err) { \r\n        console.error('MODAL DEBUG: ERRO! A requisição falhou:', err.response || err.message);\r\n        setError(\"Falha ao carregar pacientes. Verifique o console.\");\r\n      } finally {\r\n        console.log(\"MODAL DEBUG: 4. Finalizando, desligando 'Buscando...'.\");\r\n        setIsPacientesLoading(false);\r\n      }\r\n    };\r\n\r\n    buscarPacientesDoModal();\r\n\r\n  }, [showForm]);\r\n\r\n  const opcoesPacientes = useMemo(() => {\r\n    return pacientes.map(p => ({\r\n      value: p.id_paciente, \r\n      label: p.nome\r\n    }));\r\n  }, [pacientes]);\r\n\r\n  const handleNavegacao = (diasOuMeses) => {\r\n    let novaData = new Date(dataAtual);\r\n    if (view === 'mensal') {\r\n      novaData = diasOuMeses > 0 ? addMonths(dataAtual, 1) : subMonths(dataAtual, 1);\r\n    } else if (view === 'semanal') {\r\n      novaData.setDate(dataAtual.getDate() + diasOuMeses);\r\n    } else {\r\n      novaData.setDate(dataAtual.getDate() + (diasOuMeses > 0 ? 1 : -1));\r\n    }\r\n    setDataAtual(novaData);\r\n  };\r\n\r\n  const isPrevDisabled = () => {\r\n    const today = startOfDay(new Date());\r\n    if (view === 'mensal') {\r\n      return isBefore(startOfMonth(subMonths(dataAtual, 1)), startOfMonth(today));\r\n    } else if (view === 'semanal') {\r\n      return isBefore(startOfDay(subDays(dataAtual, 7)), today);\r\n    } else {\r\n      return isBefore(startOfDay(subDays(dataAtual, 1)), today);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNovoAgendamento(prevState => ({ ...prevState, [name]: value }));\r\n  };\r\n\r\n  const handleSubmitAgendamento = async (e) => {\r\n    e.preventDefault();\r\n    const userId = localStorage.getItem('user_id');\r\n    if (!userId) {\r\n      showToast(\"Erro: ID do usuário não encontrado. Faça login novamente.\");\r\n      return;\r\n    }\r\n\r\n    let agendamentoData = {\r\n      data_consulta: novoAgendamento.data_consulta,\r\n      horario_consulta: novoAgendamento.horario_consulta,\r\n      observacoes: novoAgendamento.observacoes || null,\r\n      usuario: parseInt(userId),\r\n    };\r\n\r\n    if (isUnregisteredPatient) {\r\n      if (!unregisteredPatientName.trim()) {\r\n        showToast('Por favor, insira o nome do paciente não cadastrado.');\r\n        return;\r\n      }\r\n      agendamentoData.nome_paciente_temp = unregisteredPatientName.trim();\r\n      agendamentoData.paciente = null;\r\n    } else {\r\n      if (!novoAgendamento.paciente) {\r\n        showToast('Por favor, selecione um paciente cadastrado.');\r\n        return;\r\n      }\r\n      agendamentoData.paciente = parseInt(novoAgendamento.paciente);\r\n      agendamentoData.nome_paciente_temp = null;\r\n    }\r\n    \r\n    const dataConsulta = parseISO(novoAgendamento.data_consulta);\r\n    if (getDay(dataConsulta) === 0 || getDay(dataConsulta) === 6) { \r\n      showToast('Não é possível agendar consultas aos Sábados ou Domingos.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      await axios.post(`${API_BASE_URL}/api/agendamentos/`, agendamentoData, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      showToast('Consulta agendada com sucesso!');\r\n      setIsUnregisteredPatient(false);\r\n      setUnregisteredPatientName(\"\");\r\n      setShowForm(false);\r\n      fetchAgendamentos();\r\n    } catch (err) {\r\n      let errorMessage = \"Ocorreu um erro desconhecido.\";\r\n      if (err.response && err.response.data) {\r\n        const responseData = err.response.data;\r\n        if (responseData.non_field_errors) {\r\n          errorMessage = responseData.non_field_errors.join(' ');\r\n        } else if (responseData.detail) {\r\n          errorMessage = responseData.detail;\r\n        } else if (typeof responseData === 'object') {\r\n          const firstKey = Object.keys(responseData)[0];\r\n          errorMessage = Array.isArray(responseData[firstKey]) ? `${firstKey}: ${responseData[firstKey].join(' ')}` : `${firstKey}: ${responseData[firstKey]}`;\r\n        } else {\r\n          errorMessage = JSON.stringify(err.response.data);\r\n        }\r\n      } else {\r\n        errorMessage = err.message;\r\n      }\r\n      showToast(`Erro ao criar agendamento: ${errorMessage}`);\r\n    }\r\n  };\r\n\r\n\r\n  const weekDays = useMemo(() => getWeekDays(dataAtual), [dataAtual]);\r\n  const monthDays = useMemo(() => getDaysInMonthGrid(dataAtual), [dataAtual]);\r\n\r\n  const handleAppointmentClick = (agendamento) => {\r\n    const paciente = pacientes.find(p => p.id_paciente === agendamento.paciente);\r\n    setSelectedAgendamento(agendamento);\r\n    setSelectedPaciente(paciente);\r\n    setNewStatus(agendamento.status || 'pendente');\r\n    setModalView('details');\r\n    setShowDetailModal(true);\r\n  };\r\n\r\n  const handleSaveStatus = async () => {\r\n    if (!selectedAgendamento || !newStatus) return;\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      const agendamentoId = selectedAgendamento.id_consulta;\r\n      const response = await axios.patch(\r\n        `${API_BASE_URL}/api/agendamentos/${agendamentoId}/`,\r\n        { status: newStatus },\r\n        { headers: { 'Authorization': `Bearer ${token}` } }\r\n      );\r\n      setAgendamentos(prevAgendamentos =>\r\n        prevAgendamentos.map(ag =>\r\n          ag.id_consulta === agendamentoId ? response.data : ag\r\n        )\r\n      );\r\n      setShowDetailModal(false);\r\n      setSelectedAgendamento(null);\r\n      setSelectedPaciente(null);\r\n    } catch (err) {\r\n      console.error(\"Erro ao atualizar o status:\", err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAppointment = async () => {\r\n    if (!selectedAgendamento) return;\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      const agendamentoId = selectedAgendamento.id_consulta;\r\n      await axios.delete(\r\n        `${API_BASE_URL}/api/agendamentos/${agendamentoId}/`,\r\n        { headers: { 'Authorization': `Bearer ${token}` } }\r\n      );\r\n      setAgendamentos(prevAgendamentos =>\r\n        prevAgendamentos.filter(ag => ag.id_consulta !== agendamentoId)\r\n      );\r\n      setShowDetailModal(false);\r\n      setSelectedAgendamento(null);\r\n      setSelectedPaciente(null);\r\n    } catch (err) {\r\n      console.error(\"Erro ao excluir a consulta:\", err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n  const handleCellClick = (day, hora) => {\r\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\r\n    const slotTime = new Date(day);\r\n    slotTime.setHours(slotHour, slotMinute, 0, 0);\r\n    const now = new Date();\r\n    \r\n    if (getDay(day) === 0 || getDay(day) === 6) {\r\n      return; \r\n    }\r\n    if (isBefore(slotTime, now)) {\r\n      return; \r\n    }\r\n\r\n    const dataFormatada = format(day, 'yyyy-MM-dd');\r\n    const horaFormatada = hora.substring(0, 5);\r\n    setNovoAgendamento(prevState => ({\r\n      ...prevState,\r\n      data_consulta: dataFormatada,\r\n      horario_consulta: horaFormatada,\r\n      paciente: \"\",\r\n    }));\r\n    setShowForm(true);\r\n  };\r\n\r\n  const renderHeaders = () => {\r\n    if (view === 'semanal') {\r\n      return weekDays.map(day => (\r\n        <th key={day.toISOString()}>\r\n          <div>{capitalize(getDayName(getDay(day)))}</div>\r\n          <div className=\"day-number\">{format(day, 'dd', { locale: ptBR })}</div>\r\n        </th>\r\n      ));\r\n    } else {\r\n      const dayToShow = dataAtual;\r\n      return (\r\n        <th key={dayToShow.toISOString()}>\r\n          <div>{capitalize(getDayName(getDay(dayToShow)))}</div>\r\n          <div className=\"day-number\">{format(dayToShow, 'dd', { locale: ptBR })}</div>\r\n        </th>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderCells = (hora) => {\r\n    const daysToRender = view === 'semanal' ? weekDays : [dataAtual];\r\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\r\n    const now = new Date();\r\n\r\n    return daysToRender.map(day => {\r\n      const slotStart = new Date(day);\r\n      slotStart.setHours(slotHour, slotMinute, 0, 0);\r\n      const slotEnd = new Date(slotStart);\r\n      slotEnd.setMinutes(slotStart.getMinutes() + 30);\r\n      \r\n      const agendamento = agendamentos.find(ag => {\r\n        try {\r\n          const agendamentoDate = parseISO(ag.data_consulta);\r\n          const [agHour, agMinute] = ag.horario_consulta.split(':').map(Number);\r\n          const agendamentoTime = new Date(agendamentoDate);\r\n          agendamentoTime.setHours(agHour, agMinute, 0, 0);\r\n          return isSameDay(agendamentoDate, day) &&\r\n            agendamentoTime >= slotStart &&\r\n            agendamentoTime < slotEnd;\r\n        } catch (e) {\r\n          console.error(\"Erro ao processar data/hora do agendamento:\", ag, e);\r\n          return false;\r\n        }\r\n      });\r\n\r\n      const isPastSlot = isBefore(slotStart, now);\r\n      const isSunday = getDay(day) === 0;\r\n      const isSaturday = getDay(day) === 6;\r\n      const isClickable = !agendamento && !isPastSlot && !isSunday && !isSaturday;\r\n\r\n      return (\r\n        <td\r\n          key={`${day.toISOString()}-${hora}`}\r\n          onClick={isClickable ? () => handleCellClick(day, hora) : null}\r\n          className={\r\n            !agendamento\r\n              ? (isPastSlot || isSunday || isSaturday ? 'cell-past' : 'cell-empty')\r\n              : 'cell-filled'\r\n          }\r\n        >\r\n          {agendamento && (\r\n            <div\r\n              className={`appointment-cell status-${agendamento.status || 'pendente'}`}\r\n              onClick={(e) => { e.stopPropagation(); handleAppointmentClick(agendamento); }}\r\n              title={`Clique para ver detalhes de: ${getNomeConsulta(agendamento, pacientes)}`}\r\n            >\r\n              {agendamento.horario_consulta.substring(0, 5)} -\r\n              {getNomeConsulta(agendamento, pacientes)}\r\n            </div>\r\n          )}\r\n          {!agendamento && (isSunday || isSaturday) && <div className=\"cell-closed-text\">Fechado</div>}\r\n          {!agendamento && isPastSlot && !isSunday && !isSaturday && <div className=\"cell-past-text\">Encerrado</div>}\r\n        </td>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderMonthlyView = () => {\r\n    const appointmentsByDay = agendamentos.reduce((acc, ag) => {\r\n      const dateKey = format(parseISO(ag.data_consulta), 'yyyy-MM-dd');\r\n      acc[dateKey] = (acc[dateKey] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n    const startOfCurrentMonth = startOfMonth(dataAtual);\r\n    const endOfCurrentMonth = endOfMonth(dataAtual);\r\n    const weekDaysNames = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'];\r\n\r\n    return (\r\n      <div className=\"monthly-grid-wrapper\">\r\n        <div className=\"month-header-row\">\r\n          {weekDaysNames.map(day => (\r\n            <div key={day} className=\"month-day-name\">{capitalize(day)}</div>\r\n          ))}\r\n        </div>\r\n        <div className=\"month-days-grid\">\r\n          {monthDays.map(day => {\r\n            const dateKey = format(day, 'yyyy-MM-dd');\r\n            const isCurrentMonth = day >= startOfCurrentMonth && day <= endOfCurrentMonth;\r\n            const isPastDay = isBefore(startOfDay(day), todayStartOfDay);\r\n            const isTodayMark = isToday(day);\r\n            const appointmentCount = appointmentsByDay[dateKey] || 0;\r\n            let dayClasses = 'month-day-cell';\r\n            if (!isCurrentMonth) dayClasses += ' outside-month';\r\n            if (isPastDay) dayClasses += ' cell-past-monthly';\r\n            if (isTodayMark) dayClasses += ' is-today';\r\n            \r\n            const isSunday = getDay(day) === 0;\r\n            const isSaturday = getDay(day) === 6;\r\n            const isClickable = isCurrentMonth && !isPastDay && !isSunday && !isSaturday;\r\n            \r\n            return (\r\n              <div\r\n                key={dateKey}\r\n                className={dayClasses}\r\n                onClick={() => {\r\n                  if (isClickable) {\r\n                    setDataAtual(day);\r\n                    setView('diaria');\r\n                  }\r\n                }}\r\n                title={isClickable ? \"Ver detalhes do dia\" : (isSunday || isSaturday ? \"Fechado\" : \"Dia passado\")}\r\n              >\r\n                <div className=\"day-number-monthly\">{format(day, 'd')}</div>\r\n                {isCurrentMonth && (\r\n                  <div className=\"monthly-status-footer\">\r\n                    {appointmentCount > 0 ? (\r\n                      <div className=\"appointment-count\">\r\n                        {appointmentCount} {appointmentCount === 1 ? 'consulta' : 'consultas'}\r\n                      </div>\r\n                    ) : (\r\n                      isSunday || isSaturday ? (\r\n                        <div className=\"cell-closed-text\">Fechado</div>\r\n                      ) : isPastDay ? (\r\n                        <div className=\"cell-past-text\">Encerrado</div>\r\n                      ) : (\r\n                        <div className=\"no-appointment-label\">Livre</div>\r\n                      )\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const formatAndCapitalizeHeader = (date, view) => {\r\n    if (view === 'semanal') {\r\n      const weekStartsOn = 1;\r\n      const start = startOfWeek(date, { weekStartsOn, locale: ptBR });\r\n      const end = endOfWeek(date, { weekStartsOn, locale: ptBR });\r\n      const startDateFormatted = format(start, 'dd/MM');\r\n      const endDateFormatted = format(end, 'dd/MM');\r\n      return `${startDateFormatted} - ${endDateFormatted}`;\r\n    }\r\n    const fullHeaderDate = format(date, \"EEEE, d 'de' MMMM 'de' yyyy\", { locale: ptBR });\r\n    return capitalize(fullHeaderDate);\r\n  };\r\n\r\n  if (loading) return <div className=\"loading-message\">Carregando agenda...</div>;\r\n  \r\n  return (\r\n    <div className=\"agenda-container\">\r\n      <div className=\"agenda-header-content\">\r\n        <div className=\"date-navigation\">\r\n          <button\r\n            className=\"nav-button\"\r\n            onClick={() => handleNavegacao(view === 'semanal' ? -7 : (view === 'mensal' ? -1 : -1))}\r\n            disabled={isPrevDisabled()}\r\n            title={view === 'mensal' ? \"Mês anterior\" : (view === 'semanal' ? \"Semana anterior\" : \"Dia anterior\")}\r\n          >\r\n            <FontAwesomeIcon icon={faChevronLeft} />\r\n          </button>\r\n          <span className=\"current-display-date\">\r\n            {view === 'mensal'\r\n              ? capitalize(format(dataAtual, 'MMMM yyyy', { locale: ptBR }))\r\n              : formatAndCapitalizeHeader(dataAtual, view)}\r\n          </span>\r\n          <button \r\n            className=\"nav-button\" \r\n            onClick={() => handleNavegacao(view === 'semanal' ? 7 : (view === 'mensal' ? 1 : 1))}\r\n            title={view === 'mensal' ? \"Próximo mês\" : (view === 'semanal' ? \"Próxima semana\" : \"Próximo dia\")}\r\n          >\r\n            <FontAwesomeIcon icon={faChevronRight} />\r\n          </button>\r\n        </div>\r\n        <button \r\n          className=\"novo-agendamento-button\" \r\n          onClick={() => setShowForm(true)}\r\n          title=\"Adicionar uma nova consulta na agenda\"\r\n        >\r\n          <FontAwesomeIcon icon={faPlus} /> Nova consulta\r\n        </button>\r\n      </div>\r\n      \r\n      {error && <p className=\"error-message\">{error}</p>}\r\n      \r\n      {showForm && (\r\n        <div className=\"modal-backdrop\" onClick={() => setShowForm(false)}>\r\n          <div className=\"nova-consulta-card\" onClick={(e) => e.stopPropagation()}>\r\n            <h3>Nova Consulta</h3>\r\n            <form onSubmit={handleSubmitAgendamento} className=\"nova-consulta-form\">\r\n              <div className=\"form-group-compact\">\r\n                <div className=\"form-label-with-action\" style={{ display: 'block' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"link-button\"\r\n                    onClick={toggleUnregistered}\r\n                    title={isUnregisteredPatient ? \"Selecionar Paciente Cadastrado\" : \"Habilitar nome manual\"}\r\n                    style={{ paddingLeft: '0', textDecoration: 'underline', marginTop: '2px' }} \r\n                  >\r\n                    {isUnregisteredPatient ? '<< Usar Lista de Cadastrados' : 'Agendar paciente não cadastrado'}\r\n                  </button>\r\n                  <label htmlFor=\"paciente\">Nome do Paciente:</label>\r\n                </div>\r\n                {isUnregisteredPatient ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"unregistered_paciente_name\"\r\n                    name=\"unregistered_paciente_name\"\r\n                    value={unregisteredPatientName}\r\n                    onChange={(e) => setUnregisteredPatientName(e.target.value)}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Digite o nome do paciente...\"\r\n                    required\r\n                    title=\"Nome do paciente que não possui cadastro.\"\r\n                  />\r\n                ) : (\r\n                  <Select\r\n                    id=\"paciente\"\r\n                    name=\"paciente\"\r\n                    options={opcoesPacientes}\r\n                    value={opcoesPacientes.find(p => p.value === novoAgendamento.paciente)}\r\n                    onChange={(opcaoSelecionada) => {\r\n                      const eventoSimulado = {\r\n                        target: {\r\n                          name: 'paciente',\r\n                          value: opcaoSelecionada ? opcaoSelecionada.value : \"\" \r\n                        }\r\n                      };\r\n                      handleInputChange(eventoSimulado);\r\n                    }}\r\n                    className=\"input-field-react-select\"\r\n                    classNamePrefix=\"react-select\"\r\n                    isLoading={isPacientesLoading}\r\n                    placeholder={\r\n                      isPacientesLoading \r\n                        ? \"Buscando pacientes...\" \r\n                        : \"Digite ou selecione o paciente...\"\r\n                    }\r\n                    isSearchable={true}\r\n                    isClearable={true}\r\n                    required\r\n                    title=\"Selecione um paciente já cadastrado.\"\r\n                  />\r\n                )}\r\n              </div>\r\n              <div className=\"form-group-inline\">\r\n                <div className=\"form-group-compact\">\r\n                  <label htmlFor=\"data_consulta\">Data: *</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    id=\"data_consulta\"\r\n                    name=\"data_consulta\"\r\n                    value={novoAgendamento.data_consulta}\r\n                    onChange={handleInputChange}\r\n                    className=\"input-field\"\r\n                    required\r\n                    min={minDate}\r\n                    title=\"Data da consulta.\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group-compact\">\r\n                  <label htmlFor=\"horario_consulta\">Hora: *</label>\r\n                  <select\r\n                    id=\"horario_consulta\"\r\n                    name=\"horario_consulta\"\r\n                    value={novoAgendamento.horario_consulta}\r\n                    onChange={handleInputChange}\r\n                    className=\"input-field\"\r\n                    required\r\n                    title=\"Horário da consulta.\"\r\n                  >\r\n                    <option value=\"\">--:--</option>\r\n                    {horarios.map(hora => (\r\n                      <option key={hora} value={hora}>{hora}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-actions-footer\">\r\n                <button type=\"button\" className=\"button-secondary\" onClick={() => setShowForm(false)} title=\"Cancelar e fechar\">Cancelar</button>\r\n                <button type=\"submit\" className=\"button-primary\" title=\"Salvar a nova consulta\">Salvar</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/*VISUALIZAÇÃO DA AGENDA*/}\r\n      <div className=\"schedule-options\">\r\n        <div className=\"schedule-options-left\">\r\n          <span className=\"horarios-text\">\r\n            {view === 'mensal' ? 'Visualização Mensal' : 'Horários'}\r\n          </span>\r\n          <span className=\"separator-text\">|</span>\r\n          <span className=\"current-month\">\r\n            {capitalize(format(dataAtual, 'MMMM', { locale: ptBR }))}\r\n          </span>\r\n        </div>\r\n        <div className=\"view-toggle\">\r\n          <button className={`toggle-button ${view === 'mensal' ? 'active' : ''}`} onClick={() => setView('mensal')} title=\"Alternar para visualização mensal\">Mês</button>\r\n          <button className={`toggle-button ${view === 'semanal' ? 'active' : ''}`} onClick={() => setView('semanal')} title=\"Alternar para visualização semanal\">Semana</button>\r\n          <button className={`toggle-button ${view === 'diaria' ? 'active' : ''}`} onClick={() => setView('diaria')} title=\"Alternar para visualização diária\">Dia</button>\r\n        </div>\r\n      </div>\r\n      \r\n      {view === 'mensal' ? (\r\n        renderMonthlyView()\r\n      ) : (\r\n        <div className=\"schedule-table-wrapper\">\r\n          <table className=\"schedule-table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"horario-col\">Horário</th>\r\n                {renderHeaders()}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {horarios.map(hora => (\r\n                <tr key={hora}>\r\n                  <td className=\"horario-col\">{hora}</td>\r\n                  {renderCells(hora)}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n      \r\n      {/*LEGENDA*/}\r\n      {view !== 'mensal' && (\r\n        <div className=\"legend-fixed-footer\">\r\n          <div className=\"legend\">\r\n            <div className=\"legend-item\"><span className=\"status-indicator confirmado\"></span> Confirmado</div>\r\n            <div className=\"legend-item\"><span className=\"status-indicator pendente\"></span> Pendente</div>\r\n            <div className=\"legend-item\"><span className=\"status-indicator cancelado\"></span> Cancelado</div>\r\n            <div className=\"legend-item\"><span className=\"status-indicator reagendado\"></span> Reagendado</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/*MODAL DE DETALHES DA CONSULTA*/}\r\n      {showDetailModal && selectedAgendamento && (\r\n        <div className=\"modal-backdrop\" onClick={() => setShowDetailModal(false)}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            {modalView === 'details' ? (\r\n              <>\r\n                <h3>Detalhes da Consulta</h3>\r\n                <p>\r\n                  <strong>Paciente:</strong>{' '}\r\n                  {selectedPaciente?.nome\r\n                    ? selectedPaciente.nome\r\n                    : selectedAgendamento?.nome_paciente_temp\r\n                      ? `${selectedAgendamento.nome_paciente_temp} (Não Cad.)`\r\n                      : 'Paciente Indefinido'}\r\n                </p>\r\n                <p><strong>Data:</strong> {format(parseISO(selectedAgendamento.data_consulta), 'dd/MM/yyyy')}</p>\r\n                <p><strong>Hora:</strong> {selectedAgendamento.horario_consulta.substring(0, 5)}</p>\r\n                <div className=\"form-group-compact\">\r\n                  <label htmlFor=\"status\" title=\"Mude o status da consulta (Ex: de Pendente para Confirmado)\">Alterar Status:</label>\r\n                  <select\r\n                    id=\"status\"\r\n                    className=\"input-field\"\r\n                    value={newStatus}\r\n                    onChange={(e) => setNewStatus(e.target.value)}\r\n                  >\r\n                    <option value=\"pendente\">Pendente</option>\r\n                    <option value=\"confirmado\">Confirmado</option>\r\n                    <option value=\"cancelado\">Cancelado</option>\r\n                    <option value=\"reagendado\">Reagendado</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-actions-footer\" style={{ justifyContent: 'space-between', marginTop: '2rem' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"button-danger\"\r\n                    onClick={() => setModalView('confirmDelete')}\r\n                    title=\"Excluir esta consulta permanentemente\"\r\n                  >\r\n                    Excluir\r\n                  </button>\r\n                  <div>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"button-secondary\"\r\n                      onClick={() => setShowDetailModal(false)}\r\n                      title=\"Fechar esta janela\"\r\n                    >\r\n                      Fechar\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"button-primary\"\r\n                      onClick={handleSaveStatus}\r\n                      style={{ marginLeft: '10px' }}\r\n                      title=\"Salvar o novo status desta consulta\"\r\n                    >\r\n                      Salvar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              //MODAL DE CONFIRMAR EXCLUSÃO\r\n              <>\r\n                <h3>Confirmar Exclusão</h3>\r\n                <p>Tem certeza que deseja excluir esta consulta?</p>\r\n                <p style={{ fontSize: '0.9rem', color: '#666' }}>Esta ação não pode ser desfeita.</p>\r\n                <div className=\"form-actions-footer\" style={{ justifyContent: 'flex-end', marginTop: '2rem' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"button-secondary\"\r\n                    onClick={() => setModalView('details')}\r\n                    title=\"Não excluir e voltar\"\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"button-danger\"\r\n                    onClick={handleDeleteAppointment}\r\n                    style={{ marginLeft: '10px' }}\r\n                    title=\"Confirmar exclusão\"\r\n                  >\r\n                    Sim, Excluir\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/*BOTÃO E MODAL DE AJUDA*/}\r\n      <button \r\n        className=\"floating-help-button\" \r\n        onClick={() => setIsAjudaOpen(true)}\r\n        title=\"Ajuda sobre esta página\"\r\n      >\r\n        <FontAwesomeIcon icon={faQuestionCircle} />\r\n      </button>\r\n\r\n      <Modal\r\n        isOpen={isAjudaOpen}\r\n        onClose={() => setIsAjudaOpen(false)}\r\n        titulo=\"Ajuda - Agenda\"\r\n        footer={\r\n          <button \r\n            className=\"modal-button modal-button-secondary\" \r\n            onClick={() => setIsAjudaOpen(false)}\r\n          >\r\n            Fechar\r\n          </button>\r\n        }\r\n      >\r\n        <p>Esta tela guia você pelo cadastro de um novo paciente em 4 etapas:</p>\r\n        <ul style={{ paddingLeft: '20px', lineHeight: '1.6' }}>\r\n          <li>\r\n            <strong>Dados Pessoais:</strong> Informações básicas de cadastro e contato. Campos com * (asterisco) são obrigatórios.\r\n          </li>\r\n          <li>\r\n            <strong>Anamnese 1 e 2:</strong> Questionário de saúde. Os campos \"Motivo da consulta\" e \"Último tratamento\" são obrigatórios. Nas demais perguntas (checkboxes), a descrição se torna obrigatória caso a opção seja marcada (selecionada).\r\n          </li>\r\n          <li>\r\n            <strong>Concluir e Salvar:</strong> Permite salvar o paciente no sistema e imprimir a ficha de anamnese.\r\n          </li>\r\n        </ul>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Agenda;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}