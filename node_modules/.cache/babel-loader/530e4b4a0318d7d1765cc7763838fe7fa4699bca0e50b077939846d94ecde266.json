{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milen\\\\Desktop\\\\4\\xBA ano\\\\projeto\\\\ProjetoDrGus\\\\frontend\\\\src\\\\paginas\\\\Orcamentos.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport './Orcamentos.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashCan, faCheck, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\nimport { useNavigate } from 'react-router-dom';\nimport Modal from '../componentes/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\nconst dentesArcadaSuperior = [18, 17, 16, 15, 14, 13, 12, 11, 21, 22, 23, 24, 25, 26, 27, 28];\nconst dentesArcadaInferior = [48, 47, 46, 45, 44, 43, 42, 41, 31, 32, 33, 34, 35, 36, 37, 38];\nconst mockFaces = ['V', 'P', 'M', 'D', 'L'];\nconst mockParcelas = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\nfunction Orcamentos() {\n  _s();\n  var _procedimentoData$val;\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [servicos, setServicos] = useState([]);\n  const [pacientes, setPacientes] = useState([]);\n  const [filtroPaciente, setFiltroPaciente] = useState('');\n  const [pacienteSelecionadoId, setPacienteSelecionadoId] = useState(''); // string sempre\n  const [showAutocomplete, setShowAutocomplete] = useState(false); // controla exibição da lista\n  const navigate = useNavigate();\n  const [isAjudaOpen, setIsAjudaOpen] = useState(false);\n  const [selectedDente, setSelectedDente] = useState(null);\n  const [procedimentosDoOrcamento, setProcedimentosDoOrcamento] = useState([]);\n  const [procedimentoData, setProcedimentoData] = useState({\n    dente: '',\n    faces: [],\n    servico: '',\n    valor: ''\n  });\n  const [procedimentoAjuda, setProcedimentoAjuda] = useState(\"\");\n  const [orcamentoForm, setOrcamentoForm] = useState({\n    paciente_id: '',\n    // sempre string\n    data_orcamento: new Date().toISOString().split('T')[0],\n    parcelas: ''\n  });\n\n  // Filtragem (usa toLowerCase com fallback)\n  const pacientesFiltrados = pacientes.filter(paciente => (paciente.nome || '').toLowerCase().includes((filtroPaciente || '').toLowerCase()));\n\n  // Seleção robusta do paciente\n  const handleSelecionarPaciente = paciente => {\n    var _ref, _ref2, _ref3, _paciente$id_paciente, _paciente$nome;\n    // DEBUG (comente/remova se quiser): console.log('Selecionado paciente:', paciente);\n    const id = (_ref = (_ref2 = (_ref3 = (_paciente$id_paciente = paciente === null || paciente === void 0 ? void 0 : paciente.id_paciente) !== null && _paciente$id_paciente !== void 0 ? _paciente$id_paciente : paciente === null || paciente === void 0 ? void 0 : paciente.id) !== null && _ref3 !== void 0 ? _ref3 : paciente === null || paciente === void 0 ? void 0 : paciente.pk) !== null && _ref2 !== void 0 ? _ref2 : paciente === null || paciente === void 0 ? void 0 : paciente._id) !== null && _ref !== void 0 ? _ref : '';\n    setFiltroPaciente((_paciente$nome = paciente.nome) !== null && _paciente$nome !== void 0 ? _paciente$nome : '');\n    setPacienteSelecionadoId(String(id)); // sempre string\n    setOrcamentoForm(prev => ({\n      ...prev,\n      paciente_id: String(id)\n    }));\n    setShowAutocomplete(false); // fechar lista ao selecionar\n  };\n\n  // Ao digitar, mostra autocomplete\n  const handleFiltroChange = e => {\n    var _e$target$value;\n    const nome = (_e$target$value = e.target.value) !== null && _e$target$value !== void 0 ? _e$target$value : '';\n    setFiltroPaciente(nome);\n    // mostra lista se tiver texto e resultados\n    setShowAutocomplete(nome.length > 0);\n    // limpa seleção se o texto não corresponder exatamente\n    if (!pacientes.find(p => p.nome === nome)) {\n      setPacienteSelecionadoId('');\n      setOrcamentoForm(prev => ({\n        ...prev,\n        paciente_id: ''\n      }));\n    } else {\n      // não sobrescreve se for exato (mantém seleção)\n    }\n  };\n  const fetchServicos = useCallback(async () => {\n    try {\n      var _ref4, _response$data$result, _response$data;\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        console.error(\"fetchServicos: Token não encontrado. Redirecionando para login.\");\n        navigate('/login');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/servicos/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const services = (_ref4 = (_response$data$result = (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.results) !== null && _response$data$result !== void 0 ? _response$data$result : response.data) !== null && _ref4 !== void 0 ? _ref4 : [];\n      setServicos(Array.isArray(services) ? services : []);\n    } catch (err) {\n      var _err$response;\n      if ((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) navigate('/login');else {\n        setError('Erro ao carregar serviços.');\n        console.error('Erro serv (API):', err.response || err);\n      }\n    }\n  }, [navigate]);\n  const fetchPacientes = useCallback(async () => {\n    try {\n      var _ref5, _response$data$result2, _response$data2;\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        console.error(\"fetchPacientes: Token não encontrado. Redirecionando para login.\");\n        navigate('/login');\n        return;\n      }\n      const response = await axios.get(`${API_BASE_URL}/api/pacientes/lookup/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const patients = (_ref5 = (_response$data$result2 = (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.results) !== null && _response$data$result2 !== void 0 ? _response$data$result2 : response.data) !== null && _ref5 !== void 0 ? _ref5 : [];\n      if (Array.isArray(patients)) {\n        // Normaliza id_paciente com vários fallbacks\n        const pacientesCorrigidos = patients.map((p, idx) => {\n          var _ref6, _ref7, _ref8, _p$id_paciente, _p$nome, _p$cpf;\n          return {\n            ...p,\n            id_paciente: String((_ref6 = (_ref7 = (_ref8 = (_p$id_paciente = p === null || p === void 0 ? void 0 : p.id_paciente) !== null && _p$id_paciente !== void 0 ? _p$id_paciente : p === null || p === void 0 ? void 0 : p.id) !== null && _ref8 !== void 0 ? _ref8 : p === null || p === void 0 ? void 0 : p.pk) !== null && _ref7 !== void 0 ? _ref7 : p === null || p === void 0 ? void 0 : p._id) !== null && _ref6 !== void 0 ? _ref6 : `no-id-${idx}`),\n            nome: (_p$nome = p === null || p === void 0 ? void 0 : p.nome) !== null && _p$nome !== void 0 ? _p$nome : '',\n            cpf: (_p$cpf = p === null || p === void 0 ? void 0 : p.cpf) !== null && _p$cpf !== void 0 ? _p$cpf : ''\n          };\n        });\n        setPacientes(pacientesCorrigidos);\n      } else {\n        setPacientes([]);\n      }\n    } catch (err) {\n      var _err$response2;\n      if ((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n        console.error(\"fetchPacientes: Sessão expirada (401). Redirecionando.\");\n        navigate('/login');\n      } else {\n        setError('Erro ao carregar pacientes.');\n        console.error('Erro pac (API):', err.response || err);\n      }\n    }\n  }, [navigate]);\n  useEffect(() => {\n    setLoading(true);\n    const initData = async () => {\n      await Promise.all([fetchServicos(), fetchPacientes()]);\n      setLoading(false);\n    };\n    initData();\n  }, [fetchServicos, fetchPacientes]);\n\n  // Handlers restantes (mantive seu comportamento)\n  const handleOrcamentoFormChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    // garante string não undefined\n    setOrcamentoForm(prev => ({\n      ...prev,\n      [name]: value !== null && value !== void 0 ? value : ''\n    }));\n  };\n  const handleDenteClick = dente => {\n    const novoDente = selectedDente === dente ? null : dente;\n    setSelectedDente(novoDente);\n    setProcedimentoData(prevData => ({\n      ...prevData,\n      dente: novoDente ? String(novoDente) : ''\n    }));\n  };\n  const handleFaceClick = face => {\n    setProcedimentoData(prevData => {\n      const newFaces = prevData.faces.includes(face) ? prevData.faces.filter(f => f !== face) : [...prevData.faces, face];\n      return {\n        ...prevData,\n        faces: newFaces\n      };\n    });\n  };\n  const handleProcedimentoChange = e => {\n    var _e$target$value2, _servicoSelecionado$v;\n    const servicold = (_e$target$value2 = e.target.value) !== null && _e$target$value2 !== void 0 ? _e$target$value2 : '';\n    const servicoSelecionado = servicos.find(s => String(s.id_servico) === String(servicold));\n    const novoValor = servicoSelecionado ? (_servicoSelecionado$v = servicoSelecionado.valor_referencia) !== null && _servicoSelecionado$v !== void 0 ? _servicoSelecionado$v : '' : '';\n    setProcedimentoData(prevData => ({\n      ...prevData,\n      servico: servicold,\n      valor: novoValor !== null && novoValor !== void 0 ? novoValor : '',\n      dente: servicoSelecionado && servicoSelecionado.exige_dente ? prevData.dente : '',\n      faces: servicoSelecionado && servicoSelecionado.exige_face ? prevData.faces : []\n    }));\n    if (servicoSelecionado && !servicoSelecionado.exige_dente) setSelectedDente(null);\n    if (servicoSelecionado) {\n      if (servicoSelecionado.exige_dente && servicoSelecionado.exige_face) setProcedimentoAjuda(\"Este procedimento exige a seleção de Dente e Faces.\");else if (servicoSelecionado.exige_dente) setProcedimentoAjuda(\"Este procedimento exige a seleção de Dente.\");else if (servicoSelecionado.exige_face) setProcedimentoAjuda(\"Este procedimento exige a seleção de Faces.\");else setProcedimentoAjuda(\"\");\n    } else setProcedimentoAjuda(\"\");\n  };\n  const handleAdicionarProcedimento = () => {\n    const servicoSelecionado = servicos.find(s => String(s.id_servico) === String(procedimentoData.servico));\n    if (!servicoSelecionado) {\n      alert('Selecione um procedimento válido.');\n      return;\n    }\n    const exigeDente = servicoSelecionado.exige_dente;\n    const exigeFace = servicoSelecionado.exige_face;\n    const denteValido = !exigeDente || procedimentoData.dente && procedimentoData.dente !== '';\n    const faceValida = !exigeFace || procedimentoData.faces && procedimentoData.faces.length > 0;\n    if (denteValido && faceValida && procedimentoData.servico && procedimentoData.valor !== undefined && procedimentoData.valor !== '') {\n      const novoProcedimento = {\n        idTemporario: Date.now(),\n        dente: procedimentoData.dente || null,\n        faces: procedimentoData.faces.join(','),\n        servico: procedimentoData.servico,\n        valor: procedimentoData.valor,\n        nomeServico: servicoSelecionado.desc_servico\n      };\n      setProcedimentosDoOrcamento(prev => [...prev, novoProcedimento]);\n      setProcedimentoData({\n        dente: '',\n        faces: [],\n        servico: '',\n        valor: ''\n      });\n      setSelectedDente(null);\n      setProcedimentoAjuda(\"\");\n    } else {\n      let errorMsg = 'Preencha todos os detalhes obrigatórios do procedimento.\\n';\n      if (exigeDente && !denteValido) errorMsg += '- Selecione um dente.\\n';\n      if (exigeFace && !faceValida) errorMsg += '- Selecione pelo menos uma face.\\n';\n      if (!procedimentoData.servico) errorMsg += '- Selecione um procedimento.\\n';\n      alert(errorMsg);\n    }\n  };\n  const handleRemoverProcedimento = idTemporario => {\n    setProcedimentosDoOrcamento(procedimentosAtuais => procedimentosAtuais.filter(p => p.idTemporario !== idTemporario));\n  };\n  const calcularTotalEstimado = () => {\n    return procedimentosDoOrcamento.reduce((total, item) => total + parseFloat(item.valor || 0), 0).toFixed(2);\n  };\n  const handleSaveOrcamento = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        throw new Error('Token de autenticação não encontrado.');\n      }\n\n      // validação paciente\n      if (!pacienteSelecionadoId) {\n        alert('Por favor, selecione um paciente.');\n        return;\n      }\n      if (procedimentosDoOrcamento.length === 0) {\n        alert('Adicione pelo menos um procedimento.');\n        return;\n      }\n      const orcamentoData = {\n        paciente: parseInt(pacienteSelecionadoId),\n        data_orcamento: orcamentoForm.data_orcamento,\n        n_vezes: orcamentoForm.parcelas ? parseInt(orcamentoForm.parcelas) : null,\n        itens_para_criar: procedimentosDoOrcamento.map(proc => ({\n          servico: parseInt(proc.servico),\n          data_execucao: new Date().toISOString().split('T')[0],\n          valor: parseFloat(proc.valor),\n          n_dente: proc.dente || null,\n          face: proc.faces || null\n        }))\n      };\n      await axios.post(`${API_BASE_URL}/api/orcamentos/`, orcamentoData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      alert('Orçamento salvo com sucesso! As parcelas foram geradas (se aplicável).');\n      setProcedimentosDoOrcamento([]);\n      setOrcamentoForm({\n        paciente_id: '',\n        data_orcamento: new Date().toISOString().split('T')[0],\n        parcelas: ''\n      });\n      setPacienteSelecionadoId('');\n      setFiltroPaciente('');\n    } catch (err) {\n      var _err$response3;\n      const errorMsg = (_err$response3 = err.response) !== null && _err$response3 !== void 0 && _err$response3.data ? JSON.stringify(err.response.data) : err.message;\n      alert(`Erro ao salvar o orçamento: ${errorMsg}`);\n      console.error('Erro ao salvar orçamento:', err.response ? err.response.data : err);\n    }\n  };\n  const servicoSelecionado = servicos.find(s => String(s.id_servico) === String(procedimentoData.servico));\n  const exigeDente = servicoSelecionado === null || servicoSelecionado === void 0 ? void 0 : servicoSelecionado.exige_dente;\n  const exigeFace = servicoSelecionado === null || servicoSelecionado === void 0 ? void 0 : servicoSelecionado.exige_face;\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Carregando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Erro: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"orcamento-container\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSaveOrcamento,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orcamento-content-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orcamento-details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"Or\\xE7amento:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row-compact\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              style: {\n                position: 'relative'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"filtroPaciente\",\n                children: \"Paciente *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                autoComplete: \"off\",\n                type: \"text\",\n                id: \"filtroPaciente\",\n                className: \"input-field\",\n                placeholder: \"Digite o nome para buscar o paciente...\",\n                value: filtroPaciente,\n                onChange: handleFiltroChange,\n                onFocus: () => setShowAutocomplete(filtroPaciente.length > 0),\n                required: true,\n                title: \"Busque pelo nome do paciente para quem o or\\xE7amento ser\\xE1 criado.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), showAutocomplete && filtroPaciente.length > 0 && pacientesFiltrados.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"paciente-autocomplete-list\",\n                role: \"listbox\",\n                children: [pacientesFiltrados.slice(0, 8).map((paciente, idx) => {\n                  var _ref9, _paciente$id_paciente2, _paciente$cpf;\n                  // key seguro: id_paciente preferencial, fallback para cpf, fallback para nome+idx\n                  const keySafe = (_ref9 = (_paciente$id_paciente2 = paciente.id_paciente) !== null && _paciente$id_paciente2 !== void 0 ? _paciente$id_paciente2 : paciente.cpf) !== null && _ref9 !== void 0 ? _ref9 : `${paciente.nome}-${idx}`;\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    onMouseDown: () => handleSelecionarPaciente(paciente) // mousedown evita perda por blur\n                    ,\n                    title: `Selecionar ${paciente.nome}`,\n                    role: \"option\",\n                    tabIndex: 0,\n                    children: [paciente.nome, \" (\", (_paciente$cpf = paciente.cpf) !== null && _paciente$cpf !== void 0 ? _paciente$cpf : '', \")\"]\n                  }, keySafe, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 25\n                  }, this);\n                }), pacientesFiltrados.length > 8 && /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"autocomplete-info\",\n                  children: \"Mais resultados...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), showAutocomplete && pacientesFiltrados.length === 0 && filtroPaciente.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"autocomplete-info\",\n                style: {\n                  color: '#dc3545'\n                },\n                children: \"Nenhum paciente encontrado.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"hidden\",\n                name: \"paciente_id\",\n                value: pacienteSelecionadoId !== null && pacienteSelecionadoId !== void 0 ? pacienteSelecionadoId : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"data\",\n                children: \"Data *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"data\",\n                name: \"data_orcamento\",\n                value: orcamentoForm.data_orcamento,\n                onChange: handleOrcamentoFormChange,\n                className: \"input-field\",\n                required: true,\n                title: \"Data em que o or\\xE7amento est\\xE1 sendo criado.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-section-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"odontograma-vis-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"section-title\",\n              children: \"Odontograma\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"odontograma-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"arcada-numeros-superior\",\n                children: dentesArcadaSuperior.map(d => /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: d\n                }, d, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 89\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"arcada-superior\",\n                children: dentesArcadaSuperior.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `dente-box ${selectedDente === d ? 'selected' : ''}`,\n                  onClick: () => exigeDente && handleDenteClick(d),\n                  title: exigeDente ? `Selecionar dente ${d}` : \"Selecione um procedimento que exija dente.\"\n                }, d, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"arcada-inferior\",\n                children: dentesArcadaInferior.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `dente-box ${selectedDente === d ? 'selected' : ''}`,\n                  onClick: () => exigeDente && handleDenteClick(d),\n                  title: exigeDente ? `Selecionar dente ${d}` : \"Selecione um procedimento que exija dente.\"\n                }, d, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"arcada-numeros-inferior\",\n                children: dentesArcadaInferior.map(d => /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: d\n                }, d, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 89\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"procedimento-form-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"procedimento-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"dente-label\",\n                children: \"Dente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"selected-dente\",\n                children: procedimentoData.dente || 'Nenhum'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"faces-container\",\n              children: mockFaces.map(face => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                disabled: !exigeFace,\n                className: `face-button ${procedimentoData.faces.includes(face) ? 'selected' : ''}`,\n                onClick: () => exigeFace && handleFaceClick(face),\n                title: exigeFace ? `Selecionar face ${face}` : \"Selecione um procedimento que exija faces.\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"face-circle\",\n                  children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faCheck,\n                    className: \"face-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 50\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: face\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 21\n                }, this)]\n              }, face, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"procedimento-inputs stacked\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"procedimento\",\n                  children: \"Procedimento *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"procedimento\",\n                  id: \"procedimento\",\n                  value: procedimentoData.servico,\n                  onChange: handleProcedimentoChange,\n                  className: \"select-field\",\n                  title: \"Escolha o servi\\xE7o a ser realizado.\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Selecione\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 21\n                  }, this), servicos.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: String(s.id_servico),\n                    children: s.desc_servico\n                  }, String(s.id_servico), false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 41\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), procedimentoAjuda && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"procedimento-ajuda-texto\",\n                  children: procedimentoAjuda\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"valor\",\n                  children: \"Valor (R$) *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"valor\",\n                  name: \"valor\",\n                  value: (_procedimentoData$val = procedimentoData.valor) !== null && _procedimentoData$val !== void 0 ? _procedimentoData$val : '',\n                  readOnly: true,\n                  className: \"input-field input-field-readonly\",\n                  title: \"O valor \\xE9 preenchido automaticamente com base no procedimento selecionado.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"add-button\",\n              onClick: handleAdicionarProcedimento,\n              title: \"Adicionar o procedimento selecionado \\xE0 lista abaixo.\",\n              children: \"Adicionar ao or\\xE7amento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orcamento-details-section\",\n          children: [procedimentosDoOrcamento.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tabela-procedimentos-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Procedimentos Adicionados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Dente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Face\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Procedimento\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Valor (R$)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Remover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: procedimentosDoOrcamento.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.dente || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.faces || '-'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.nomeServico\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: parseFloat(item.valor || 0).toFixed(2)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"remove-button\",\n                      onClick: () => handleRemoverProcedimento(item.idTemporario),\n                      title: \"Remover este procedimento da lista.\",\n                      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                        icon: faTrashCan\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 25\n                  }, this)]\n                }, item.idTemporario, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"no-data-message\",\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Nenhum procedimento adicionado ainda.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"orcamento-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row-compact total-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"total\",\n                  children: \"Total estimado: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"total\",\n                  value: `R$ ${calcularTotalEstimado()}`,\n                  readOnly: true,\n                  className: \"input-field input-field-readonly\",\n                  title: \"Soma total dos procedimentos listados.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"parcelas\",\n                  children: \"N\\xB0 de parcelas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"parcelas\",\n                  name: \"parcelas\",\n                  className: \"select-field\",\n                  value: orcamentoForm.parcelas,\n                  onChange: handleOrcamentoFormChange,\n                  title: \"Selecione o n\\xFAmero de parcelas para gerar o financeiro deste or\\xE7amento (opcional).\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Selecione (para gerar parcelas)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 21\n                  }, this), mockParcelas.map((num, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: num,\n                    children: num\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button-save\",\n              title: \"Salvar este or\\xE7amento no hist\\xF3rico do paciente.\",\n              children: \"Salvar or\\xE7amento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"floating-help-button\",\n      onClick: () => setIsAjudaOpen(true),\n      title: \"Ajuda sobre esta p\\xE1gina\",\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faQuestionCircle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isAjudaOpen,\n      onClose: () => setIsAjudaOpen(false),\n      titulo: \"Ajuda - Criar Or\\xE7amento\",\n      footer: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-button modal-button-secondary\",\n        onClick: () => setIsAjudaOpen(false),\n        children: \"Fechar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 11\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Esta tela \\xE9 usada para criar um novo or\\xE7amento para um paciente.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          paddingLeft: '20px',\n          lineHeight: '1.6'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Paciente e Data:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), \" Selecione o paciente e a data do or\\xE7amento (obrigat\\xF3rios).\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Odontograma e Procedimento:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            style: {\n              paddingLeft: '20px',\n              margin: '5px 0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Selecione um \\\"Procedimento\\\".\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Se o procedimento exigir, clique no \\\"Dente\\\" e nas \\\"Faces\\\" correspondentes.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Clique em \\\"Adicionar ao or\\xE7amento\\\".\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Lista de Procedimentos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 13\n          }, this), \" Confira os itens adicionados na tabela inferior.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Parcelas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this), \" (Opcional) Selecione um n\\xFAmero de parcelas para que o sistema gere o financeiro automaticamente quando o or\\xE7amento for aprovado.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Salvar Or\\xE7amento:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), \" Salva o or\\xE7amento no hist\\xF3rico do paciente.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n}\n_s(Orcamentos, \"qu1PTOSVDbeV0g3690CUxb8lMys=\", false, function () {\n  return [useNavigate];\n});\n_c = Orcamentos;\nexport default Orcamentos;\nvar _c;\n$RefreshReg$(_c, \"Orcamentos\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","FontAwesomeIcon","faTrashCan","faCheck","faQuestionCircle","useNavigate","Modal","jsxDEV","_jsxDEV","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","dentesArcadaSuperior","dentesArcadaInferior","mockFaces","mockParcelas","Orcamentos","_s","_procedimentoData$val","loading","setLoading","error","setError","servicos","setServicos","pacientes","setPacientes","filtroPaciente","setFiltroPaciente","pacienteSelecionadoId","setPacienteSelecionadoId","showAutocomplete","setShowAutocomplete","navigate","isAjudaOpen","setIsAjudaOpen","selectedDente","setSelectedDente","procedimentosDoOrcamento","setProcedimentosDoOrcamento","procedimentoData","setProcedimentoData","dente","faces","servico","valor","procedimentoAjuda","setProcedimentoAjuda","orcamentoForm","setOrcamentoForm","paciente_id","data_orcamento","Date","toISOString","split","parcelas","pacientesFiltrados","filter","paciente","nome","toLowerCase","includes","handleSelecionarPaciente","_ref","_ref2","_ref3","_paciente$id_paciente","_paciente$nome","id","id_paciente","pk","_id","String","prev","handleFiltroChange","e","_e$target$value","target","value","length","find","p","fetchServicos","_ref4","_response$data$result","_response$data","token","localStorage","getItem","console","response","get","headers","services","data","results","Array","isArray","err","_err$response","status","fetchPacientes","_ref5","_response$data$result2","_response$data2","patients","pacientesCorrigidos","map","idx","_ref6","_ref7","_ref8","_p$id_paciente","_p$nome","_p$cpf","cpf","_err$response2","initData","Promise","all","handleOrcamentoFormChange","name","handleDenteClick","novoDente","prevData","handleFaceClick","face","newFaces","f","handleProcedimentoChange","_e$target$value2","_servicoSelecionado$v","servicold","servicoSelecionado","s","id_servico","novoValor","valor_referencia","exige_dente","exige_face","handleAdicionarProcedimento","alert","exigeDente","exigeFace","denteValido","faceValida","undefined","novoProcedimento","idTemporario","now","join","nomeServico","desc_servico","errorMsg","handleRemoverProcedimento","procedimentosAtuais","calcularTotalEstimado","reduce","total","item","parseFloat","toFixed","handleSaveOrcamento","preventDefault","Error","orcamentoData","parseInt","n_vezes","itens_para_criar","proc","data_execucao","n_dente","post","_err$response3","JSON","stringify","message","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","style","position","htmlFor","autoComplete","type","placeholder","onChange","onFocus","required","title","role","slice","_ref9","_paciente$id_paciente2","_paciente$cpf","keySafe","onMouseDown","tabIndex","color","d","onClick","disabled","icon","readOnly","textAlign","num","index","isOpen","onClose","titulo","footer","paddingLeft","lineHeight","margin","_c","$RefreshReg$"],"sources":["C:/Users/milen/Desktop/4º ano/projeto/ProjetoDrGus/frontend/src/paginas/Orcamentos.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport './Orcamentos.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashCan, faCheck, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Modal from '../componentes/Modal';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\nconst dentesArcadaSuperior = [18, 17, 16, 15, 14, 13, 12, 11, 21, 22, 23, 24, 25, 26, 27, 28];\r\nconst dentesArcadaInferior = [48, 47, 46, 45, 44, 43, 42, 41, 31, 32, 33, 34, 35, 36, 37, 38];\r\nconst mockFaces = ['V', 'P', 'M', 'D', 'L'];\r\nconst mockParcelas = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n\r\nfunction Orcamentos() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [servicos, setServicos] = useState([]);\r\n  const [pacientes, setPacientes] = useState([]);\r\n  const [filtroPaciente, setFiltroPaciente] = useState('');\r\n  const [pacienteSelecionadoId, setPacienteSelecionadoId] = useState(''); // string sempre\r\n  const [showAutocomplete, setShowAutocomplete] = useState(false); // controla exibição da lista\r\n  const navigate = useNavigate();\r\n  const [isAjudaOpen, setIsAjudaOpen] = useState(false);\r\n  const [selectedDente, setSelectedDente] = useState(null);\r\n  const [procedimentosDoOrcamento, setProcedimentosDoOrcamento] = useState([]);\r\n  const [procedimentoData, setProcedimentoData] = useState({ dente: '', faces: [], servico: '', valor: '' });\r\n  const [procedimentoAjuda, setProcedimentoAjuda] = useState(\"\");\r\n  const [orcamentoForm, setOrcamentoForm] = useState({\r\n    paciente_id: '', // sempre string\r\n    data_orcamento: new Date().toISOString().split('T')[0],\r\n    parcelas: '',\r\n  });\r\n\r\n  // Filtragem (usa toLowerCase com fallback)\r\n  const pacientesFiltrados = pacientes.filter(paciente =>\r\n    (paciente.nome || '').toLowerCase().includes((filtroPaciente || '').toLowerCase())\r\n  );\r\n\r\n  // Seleção robusta do paciente\r\n  const handleSelecionarPaciente = (paciente) => {\r\n    // DEBUG (comente/remova se quiser): console.log('Selecionado paciente:', paciente);\r\n    const id = paciente?.id_paciente ?? paciente?.id ?? paciente?.pk ?? paciente?._id ?? '';\r\n    setFiltroPaciente(paciente.nome ?? '');\r\n    setPacienteSelecionadoId(String(id)); // sempre string\r\n    setOrcamentoForm(prev => ({ ...prev, paciente_id: String(id) }));\r\n    setShowAutocomplete(false); // fechar lista ao selecionar\r\n  };\r\n\r\n  // Ao digitar, mostra autocomplete\r\n  const handleFiltroChange = (e) => {\r\n    const nome = e.target.value ?? '';\r\n    setFiltroPaciente(nome);\r\n    // mostra lista se tiver texto e resultados\r\n    setShowAutocomplete(nome.length > 0);\r\n    // limpa seleção se o texto não corresponder exatamente\r\n    if (!pacientes.find(p => p.nome === nome)) {\r\n      setPacienteSelecionadoId('');\r\n      setOrcamentoForm(prev => ({ ...prev, paciente_id: '' }));\r\n    } else {\r\n      // não sobrescreve se for exato (mantém seleção)\r\n    }\r\n  };\r\n\r\n  const fetchServicos = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) {\r\n        console.error(\"fetchServicos: Token não encontrado. Redirecionando para login.\");\r\n        navigate('/login');\r\n        return;\r\n      }\r\n      const response = await axios.get(`${API_BASE_URL}/api/servicos/`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      const services = response.data?.results ?? response.data ?? [];\r\n      setServicos(Array.isArray(services) ? services : []);\r\n    } catch (err) {\r\n      if (err?.response?.status === 401) navigate('/login');\r\n      else {\r\n        setError('Erro ao carregar serviços.');\r\n        console.error('Erro serv (API):', err.response || err);\r\n      }\r\n    }\r\n  }, [navigate]);\r\n\r\n  const fetchPacientes = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) {\r\n        console.error(\"fetchPacientes: Token não encontrado. Redirecionando para login.\");\r\n        navigate('/login');\r\n        return;\r\n      }\r\n      const response = await axios.get(`${API_BASE_URL}/api/pacientes/lookup/`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      const patients = response.data?.results ?? response.data ?? [];\r\n      if (Array.isArray(patients)) {\r\n        // Normaliza id_paciente com vários fallbacks\r\n        const pacientesCorrigidos = patients.map((p, idx) => ({\r\n          ...p,\r\n          id_paciente: String(p?.id_paciente ?? p?.id ?? p?.pk ?? p?._id ?? `no-id-${idx}`),\r\n          nome: p?.nome ?? '',\r\n          cpf: p?.cpf ?? '',\r\n        }));\r\n        setPacientes(pacientesCorrigidos);\r\n      } else {\r\n        setPacientes([]);\r\n      }\r\n    } catch (err) {\r\n      if (err?.response?.status === 401) {\r\n        console.error(\"fetchPacientes: Sessão expirada (401). Redirecionando.\");\r\n        navigate('/login');\r\n      } else {\r\n        setError('Erro ao carregar pacientes.');\r\n        console.error('Erro pac (API):', err.response || err);\r\n      }\r\n    }\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const initData = async () => {\r\n      await Promise.all([fetchServicos(), fetchPacientes()]);\r\n      setLoading(false);\r\n    };\r\n    initData();\r\n  }, [fetchServicos, fetchPacientes]);\r\n\r\n  // Handlers restantes (mantive seu comportamento)\r\n  const handleOrcamentoFormChange = (e) => {\r\n    const { name, value } = e.target;\r\n    // garante string não undefined\r\n    setOrcamentoForm(prev => ({ ...prev, [name]: value ?? '' }));\r\n  };\r\n\r\n  const handleDenteClick = (dente) => {\r\n    const novoDente = selectedDente === dente ? null : dente;\r\n    setSelectedDente(novoDente);\r\n    setProcedimentoData(prevData => ({\r\n      ...prevData,\r\n      dente: novoDente ? String(novoDente) : '',\r\n    }));\r\n  };\r\n\r\n  const handleFaceClick = (face) => {\r\n    setProcedimentoData(prevData => {\r\n      const newFaces = prevData.faces.includes(face)\r\n        ? prevData.faces.filter(f => f !== face)\r\n        : [...prevData.faces, face];\r\n      return { ...prevData, faces: newFaces };\r\n    });\r\n  };\r\n\r\n  const handleProcedimentoChange = (e) => {\r\n    const servicold = e.target.value ?? '';\r\n    const servicoSelecionado = servicos.find(s => String(s.id_servico) === String(servicold));\r\n    const novoValor = servicoSelecionado ? (servicoSelecionado.valor_referencia ?? '') : '';\r\n    setProcedimentoData(prevData => ({\r\n      ...prevData,\r\n      servico: servicold,\r\n      valor: novoValor ?? '',\r\n      dente: (servicoSelecionado && servicoSelecionado.exige_dente) ? prevData.dente : '',\r\n      faces: (servicoSelecionado && servicoSelecionado.exige_face) ? prevData.faces : [],\r\n    }));\r\n    if (servicoSelecionado && !servicoSelecionado.exige_dente) setSelectedDente(null);\r\n\r\n    if (servicoSelecionado) {\r\n      if (servicoSelecionado.exige_dente && servicoSelecionado.exige_face) setProcedimentoAjuda(\"Este procedimento exige a seleção de Dente e Faces.\");\r\n      else if (servicoSelecionado.exige_dente) setProcedimentoAjuda(\"Este procedimento exige a seleção de Dente.\");\r\n      else if (servicoSelecionado.exige_face) setProcedimentoAjuda(\"Este procedimento exige a seleção de Faces.\");\r\n      else setProcedimentoAjuda(\"\");\r\n    } else setProcedimentoAjuda(\"\");\r\n  };\r\n\r\n  const handleAdicionarProcedimento = () => {\r\n    const servicoSelecionado = servicos.find(s => String(s.id_servico) === String(procedimentoData.servico));\r\n    if (!servicoSelecionado) { alert('Selecione um procedimento válido.'); return; }\r\n    const exigeDente = servicoSelecionado.exige_dente;\r\n    const exigeFace = servicoSelecionado.exige_face;\r\n    const denteValido = !exigeDente || (procedimentoData.dente && procedimentoData.dente !== '');\r\n    const faceValida = !exigeFace || (procedimentoData.faces && procedimentoData.faces.length > 0);\r\n    if (denteValido && faceValida && procedimentoData.servico && (procedimentoData.valor !== undefined && procedimentoData.valor !== '')) {\r\n      const novoProcedimento = {\r\n        idTemporario: Date.now(),\r\n        dente: procedimentoData.dente || null,\r\n        faces: procedimentoData.faces.join(','),\r\n        servico: procedimentoData.servico,\r\n        valor: procedimentoData.valor,\r\n        nomeServico: servicoSelecionado.desc_servico\r\n      };\r\n      setProcedimentosDoOrcamento(prev => [...prev, novoProcedimento]);\r\n      setProcedimentoData({ dente: '', faces: [], servico: '', valor: '' });\r\n      setSelectedDente(null);\r\n      setProcedimentoAjuda(\"\");\r\n    } else {\r\n      let errorMsg = 'Preencha todos os detalhes obrigatórios do procedimento.\\n';\r\n      if (exigeDente && !denteValido) errorMsg += '- Selecione um dente.\\n';\r\n      if (exigeFace && !faceValida) errorMsg += '- Selecione pelo menos uma face.\\n';\r\n      if (!procedimentoData.servico) errorMsg += '- Selecione um procedimento.\\n';\r\n      alert(errorMsg);\r\n    }\r\n  };\r\n\r\n  const handleRemoverProcedimento = (idTemporario) => {\r\n    setProcedimentosDoOrcamento(procedimentosAtuais =>\r\n      procedimentosAtuais.filter(p => p.idTemporario !== idTemporario)\r\n    );\r\n  };\r\n\r\n  const calcularTotalEstimado = () => {\r\n    return procedimentosDoOrcamento.reduce((total, item) => total + parseFloat(item.valor || 0), 0).toFixed(2);\r\n  };\r\n\r\n  const handleSaveOrcamento = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) { throw new Error('Token de autenticação não encontrado.'); }\r\n\r\n      // validação paciente\r\n      if (!pacienteSelecionadoId) { alert('Por favor, selecione um paciente.'); return; }\r\n      if (procedimentosDoOrcamento.length === 0) { alert('Adicione pelo menos um procedimento.'); return; }\r\n\r\n      const orcamentoData = {\r\n        paciente: parseInt(pacienteSelecionadoId),\r\n        data_orcamento: orcamentoForm.data_orcamento,\r\n        n_vezes: orcamentoForm.parcelas ? parseInt(orcamentoForm.parcelas) : null,\r\n        itens_para_criar: procedimentosDoOrcamento.map(proc => ({\r\n          servico: parseInt(proc.servico),\r\n          data_execucao: new Date().toISOString().split('T')[0],\r\n          valor: parseFloat(proc.valor),\r\n          n_dente: proc.dente || null,\r\n          face: proc.faces || null,\r\n        })),\r\n      };\r\n\r\n      await axios.post(`${API_BASE_URL}/api/orcamentos/`, orcamentoData, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      alert('Orçamento salvo com sucesso! As parcelas foram geradas (se aplicável).');\r\n      setProcedimentosDoOrcamento([]);\r\n      setOrcamentoForm({ paciente_id: '', data_orcamento: new Date().toISOString().split('T')[0], parcelas: '' });\r\n      setPacienteSelecionadoId('');\r\n      setFiltroPaciente('');\r\n    } catch (err) {\r\n      const errorMsg = err.response?.data ? JSON.stringify(err.response.data) : err.message;\r\n      alert(`Erro ao salvar o orçamento: ${errorMsg}`);\r\n      console.error('Erro ao salvar orçamento:', err.response ? err.response.data : err);\r\n    }\r\n  };\r\n\r\n  const servicoSelecionado = servicos.find(s => String(s.id_servico) === String(procedimentoData.servico));\r\n  const exigeDente = servicoSelecionado?.exige_dente;\r\n  const exigeFace = servicoSelecionado?.exige_face;\r\n\r\n  if (loading) return <div>Carregando...</div>;\r\n  if (error) return <div>Erro: {error}</div>;\r\n\r\n  return (\r\n    <div className=\"orcamento-container\">\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n\r\n      <form onSubmit={handleSaveOrcamento}>\r\n        <div className=\"orcamento-content-wrapper\">\r\n          <div className=\"orcamento-details-section\">\r\n            <h3 className=\"section-title\">Orçamento:</h3>\r\n            <div className=\"form-row-compact\">\r\n              <div className=\"form-group\" style={{ position: 'relative' }}>\r\n                <label htmlFor=\"filtroPaciente\">Paciente *</label>\r\n                <input\r\n                  autoComplete=\"off\"\r\n                  type=\"text\"\r\n                  id=\"filtroPaciente\"\r\n                  className=\"input-field\"\r\n                  placeholder=\"Digite o nome para buscar o paciente...\"\r\n                  value={filtroPaciente}\r\n                  onChange={handleFiltroChange}\r\n                  onFocus={() => setShowAutocomplete(filtroPaciente.length > 0)}\r\n                  required\r\n                  title=\"Busque pelo nome do paciente para quem o orçamento será criado.\"\r\n                />\r\n\r\n                {/* LISTA: aparece apenas quando showAutocomplete true */}\r\n                {showAutocomplete && filtroPaciente.length > 0 && pacientesFiltrados.length > 0 && (\r\n                  <ul className=\"paciente-autocomplete-list\" role=\"listbox\">\r\n                    {pacientesFiltrados.slice(0, 8).map((paciente, idx) => {\r\n                      // key seguro: id_paciente preferencial, fallback para cpf, fallback para nome+idx\r\n                      const keySafe = paciente.id_paciente ?? paciente.cpf ?? `${paciente.nome}-${idx}`;\r\n                      return (\r\n                        <li\r\n                          key={keySafe}\r\n                          onMouseDown={() => handleSelecionarPaciente(paciente)} // mousedown evita perda por blur\r\n                          title={`Selecionar ${paciente.nome}`}\r\n                          role=\"option\"\r\n                          tabIndex={0}\r\n                        >\r\n                          {paciente.nome} ({paciente.cpf ?? ''})\r\n                        </li>\r\n                      );\r\n                    })}\r\n                    {pacientesFiltrados.length > 8 && (\r\n                      <li className=\"autocomplete-info\">Mais resultados...</li>\r\n                    )}\r\n                  </ul>\r\n                )}\r\n\r\n                {/* MENSAGEM DE ERRO (Se digitou e não achou) */}\r\n                {showAutocomplete && pacientesFiltrados.length === 0 && filtroPaciente.length > 0 && (\r\n                  <div className=\"autocomplete-info\" style={{ color: '#dc3545' }}>\r\n                    Nenhum paciente encontrado.\r\n                  </div>\r\n                )}\r\n\r\n                {/* TAG DE PACIENTE SELECIONADO */}\r\n                {/*pacienteSelecionadoId && (\r\n                  <div className=\"paciente-selecionado-tag\">\r\n                    Paciente Selecionado: <strong>{(pacientes.find(p => p.id_paciente === pacienteSelecionadoId)?.nome) ?? filtroPaciente}</strong>\r\n                  </div>\r\n                )*/}\r\n\r\n                {/* Campo oculto para submissão (value sempre string) */}\r\n                <input type=\"hidden\" name=\"paciente_id\" value={pacienteSelecionadoId ?? ''} />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"data\">Data *</label>\r\n                <input type=\"date\" id=\"data\" name=\"data_orcamento\" value={orcamentoForm.data_orcamento}\r\n                  onChange={handleOrcamentoFormChange} className=\"input-field\" required\r\n                  title=\"Data em que o orçamento está sendo criado.\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                {/* Espaçador */}\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"top-section-wrapper\">\r\n            <div className=\"odontograma-vis-container\">\r\n              <h2 className=\"section-title\">Odontograma</h2>\r\n              <div className=\"odontograma-grid\">\r\n                <div className=\"arcada-numeros-superior\">{dentesArcadaSuperior.map(d => <span key={d}>{d}</span>)}</div>\r\n                <div className=\"arcada-superior\">{dentesArcadaSuperior.map(d => (\r\n                  <div\r\n                    key={d}\r\n                    className={`dente-box ${selectedDente === d ? 'selected' : ''}`}\r\n                    onClick={() => exigeDente && handleDenteClick(d)}\r\n                    title={exigeDente ? `Selecionar dente ${d}` : \"Selecione um procedimento que exija dente.\"}\r\n                  ></div>\r\n                ))}</div>\r\n                <div className=\"arcada-inferior\">{dentesArcadaInferior.map(d => (\r\n                  <div\r\n                    key={d}\r\n                    className={`dente-box ${selectedDente === d ? 'selected' : ''}`}\r\n                    onClick={() => exigeDente && handleDenteClick(d)}\r\n                    title={exigeDente ? `Selecionar dente ${d}` : \"Selecione um procedimento que exija dente.\"}\r\n                  ></div>\r\n                ))}</div>\r\n                <div className=\"arcada-numeros-inferior\">{dentesArcadaInferior.map(d => <span key={d}>{d}</span>)}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"procedimento-form-card\">\r\n              <div className=\"procedimento-header\">\r\n                <label className=\"dente-label\">Dente</label>\r\n                <span className=\"selected-dente\">{procedimentoData.dente || 'Nenhum'}</span>\r\n              </div>\r\n              <div className=\"faces-container\">\r\n                {mockFaces.map(face => (\r\n                  <button\r\n                    type=\"button\"\r\n                    key={face}\r\n                    disabled={!exigeFace}\r\n                    className={`face-button ${procedimentoData.faces.includes(face) ? 'selected' : ''}`}\r\n                    onClick={() => exigeFace && handleFaceClick(face)}\r\n                    title={exigeFace ? `Selecionar face ${face}` : \"Selecione um procedimento que exija faces.\"}\r\n                  >\r\n                    <div className=\"face-circle\"><FontAwesomeIcon icon={faCheck} className=\"face-icon\" /></div>\r\n                    <span>{face}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              <div className=\"procedimento-inputs stacked\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"procedimento\">Procedimento *</label>\r\n                  <select\r\n                    name=\"procedimento\"\r\n                    id=\"procedimento\"\r\n                    value={procedimentoData.servico}\r\n                    onChange={handleProcedimentoChange}\r\n                    className=\"select-field\"\r\n                    title=\"Escolha o serviço a ser realizado.\"\r\n                  >\r\n                    <option value=\"\">Selecione</option>\r\n                    {servicos.map(s => (<option key={String(s.id_servico)} value={String(s.id_servico)}>{s.desc_servico}</option>))}\r\n                  </select>\r\n                  {procedimentoAjuda && (\r\n                    <p className=\"procedimento-ajuda-texto\">{procedimentoAjuda}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"valor\">Valor (R$) *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"valor\"\r\n                    name=\"valor\"\r\n                    value={procedimentoData.valor ?? ''}\r\n                    readOnly\r\n                    className=\"input-field input-field-readonly\"\r\n                    title=\"O valor é preenchido automaticamente com base no procedimento selecionado.\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"add-button\"\r\n                onClick={handleAdicionarProcedimento}\r\n                title=\"Adicionar o procedimento selecionado à lista abaixo.\"\r\n              >\r\n                Adicionar ao orçamento\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"orcamento-details-section\">\r\n            {procedimentosDoOrcamento.length > 0 ? (\r\n              <div className=\"tabela-procedimentos-wrapper\">\r\n                <h4>Procedimentos Adicionados</h4>\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Dente</th>\r\n                      <th>Face</th>\r\n                      <th>Procedimento</th>\r\n                      <th>Valor (R$)</th>\r\n                      <th>Remover</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {procedimentosDoOrcamento.map((item) => (\r\n                      <tr key={item.idTemporario}>\r\n                        <td>{item.dente || '-'}</td>\r\n                        <td>{item.faces || '-'}</td>\r\n                        <td>{item.nomeServico}</td>\r\n                        <td>{(parseFloat(item.valor || 0)).toFixed(2)}</td>\r\n                        <td>\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"remove-button\"\r\n                            onClick={() => handleRemoverProcedimento(item.idTemporario)}\r\n                            title=\"Remover este procedimento da lista.\"\r\n                          >\r\n                            <FontAwesomeIcon icon={faTrashCan} />\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <p className='no-data-message' style={{textAlign: 'center'}}>Nenhum procedimento adicionado ainda.</p>\r\n            )}\r\n\r\n            <div className=\"orcamento-footer\">\r\n              <div className=\"form-row-compact total-row\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"total\">Total estimado: </label>\r\n                  <input type=\"text\" id=\"total\" value={`R$ ${calcularTotalEstimado()}`} readOnly\r\n                    className=\"input-field input-field-readonly\"\r\n                    title=\"Soma total dos procedimentos listados.\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"parcelas\">N° de parcelas</label>\r\n                  <select\r\n                    id=\"parcelas\"\r\n                    name=\"parcelas\"\r\n                    className=\"select-field\"\r\n                    value={orcamentoForm.parcelas}\r\n                    onChange={handleOrcamentoFormChange}\r\n                    title=\"Selecione o número de parcelas para gerar o financeiro deste orçamento (opcional).\"\r\n                  >\r\n                    <option value=\"\">Selecione (para gerar parcelas)</option>\r\n                    {mockParcelas.map((num, index) => (\r\n                      <option key={index} value={num}>{num}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                </div>\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"button-save\"\r\n                title=\"Salvar este orçamento no histórico do paciente.\"\r\n              >\r\n                Salvar orçamento\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n      <button\r\n        className=\"floating-help-button\"\r\n        onClick={() => setIsAjudaOpen(true)}\r\n        title=\"Ajuda sobre esta página\"\r\n      >\r\n        <FontAwesomeIcon icon={faQuestionCircle} />\r\n      </button>\r\n\r\n      <Modal\r\n        isOpen={isAjudaOpen}\r\n        onClose={() => setIsAjudaOpen(false)}\r\n        titulo=\"Ajuda - Criar Orçamento\"\r\n        footer={\r\n          <button\r\n            className=\"modal-button modal-button-secondary\"\r\n            onClick={() => setIsAjudaOpen(false)}\r\n          >\r\n            Fechar\r\n          </button>\r\n        }\r\n      >\r\n        <p>Esta tela é usada para criar um novo orçamento para um paciente.</p>\r\n        <ul style={{ paddingLeft: '20px', lineHeight: '1.6' }}>\r\n          <li>\r\n            <strong>Paciente e Data:</strong> Selecione o paciente e a data do orçamento (obrigatórios).\r\n          </li>\r\n          <li>\r\n            <strong>Odontograma e Procedimento:</strong>\r\n            <ol style={{ paddingLeft: '20px', margin: '5px 0' }}>\r\n              <li>Selecione um \"Procedimento\".</li>\r\n              <li>Se o procedimento exigir, clique no \"Dente\" e nas \"Faces\" correspondentes.</li>\r\n              <li>Clique em \"Adicionar ao orçamento\".</li>\r\n            </ol>\r\n          </li>\r\n          <li>\r\n            <strong>Lista de Procedimentos:</strong> Confira os itens adicionados na tabela inferior.\r\n          </li>\r\n          <li>\r\n            <strong>Parcelas:</strong> (Opcional) Selecione um número de parcelas para que o sistema gere o financeiro automaticamente quando o orçamento for aprovado.\r\n          </li>\r\n          <li>\r\n            <strong>Salvar Orçamento:</strong> Salva o orçamento no histórico do paciente.\r\n          </li>\r\n        </ul>\r\n      </Modal>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orcamentos;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}