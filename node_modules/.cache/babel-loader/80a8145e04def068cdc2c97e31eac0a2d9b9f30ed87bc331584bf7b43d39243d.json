{"ast":null,"code":"import _objectSpread from\"C:/Users/milen/Desktop/4\\xBA ano/projeto/ProjetoDrGus/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'./RegistroPacientes.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheck,faPrint}from'@fortawesome/free-solid-svg-icons';import{faQuestionCircle}from'@fortawesome/free-solid-svg-icons';import Modal from'../componentes/Modal';import{useToast}from'../context/ToastContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const validaCPF=cpf=>{if(!cpf)return false;const cpfLimpo=String(cpf).replace(/\\D/g,'');if(cpfLimpo.length!==11)return false;if(/^(\\d)\\1{10}$/.test(cpfLimpo))return false;let soma=0;let resto;for(let i=1;i<=9;i++){soma+=parseInt(cpfLimpo.substring(i-1,i))*(11-i);}resto=soma*10%11;if(resto===10||resto===11)resto=0;if(resto!==parseInt(cpfLimpo.substring(9,10)))return false;soma=0;for(let i=1;i<=10;i++){soma+=parseInt(cpfLimpo.substring(i-1,i))*(12-i);}resto=soma*10%11;if(resto===10||resto===11)resto=0;if(resto!==parseInt(cpfLimpo.substring(10,11)))return false;return true;};//Breadcrumbs\nconst Breadcrumbs=_ref=>{let{step}=_ref;const steps=['Dados Pessoais','Anamnese 1','Anamnese 2','Concluir e Salvar'];const currentPath=steps.slice(0,step);return/*#__PURE__*/_jsx(\"div\",{className:\"breadcrumbs-container\",children:currentPath.map((name,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"breadcrumb-item\",children:[name,index<currentPath.length-1&&/*#__PURE__*/_jsx(\"span\",{className:\"separator\",children:\"/\"})]},index))});};const DadosPessoais=_ref2=>{let{onNext,data,onChange,showToast}=_ref2;const[ufs,setUfs]=useState([]);const[cidades,setCidades]=useState([]);const[isCidadesLoading,setIsCidadesLoading]=useState(false);useEffect(()=>{const fetchUfs=async()=>{try{const token=localStorage.getItem('access_token');const response=await axios.get(\"\".concat(API_BASE_URL,\"/api/ufs/\"),{headers:{'Authorization':\"Bearer \".concat(token)}});const ufsData=response.data.results||response.data||[];setUfs(ufsData);}catch(error){console.error('Erro ao buscar UFs:',error);}};fetchUfs();},[]);useEffect(()=>{if(data.uf){setIsCidadesLoading(true);setCidades([]);const fetchCidades=async()=>{try{const token=localStorage.getItem('access_token');if(!token)return;const response=await axios.get(\"\".concat(API_BASE_URL,\"/api/cidades/by_uf/?uf_id=\").concat(data.uf),{headers:{'Authorization':\"Bearer \".concat(token)}});setCidades(response.data||[]);}catch(error){console.error('Erro ao buscar Cidades:',error);setCidades([]);}finally{setIsCidadesLoading(false);}};fetchCidades();}else{setCidades([]);setIsCidadesLoading(false);}},[data.uf]);const handleValidateAndNext=e=>{e.preventDefault();if(!validaCPF(data.cpf)){showToast('CPF inválido! Por favor, verifique o número digitado.','error');return;}onNext();};return/*#__PURE__*/_jsxs(\"div\",{className:\"dados-pessoais-container registro-tela\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Dados Pessoais:\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'0.9rem',marginBottom:'1rem'},children:\"Campos com * s\\xE3o obrigat\\xF3rios.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleValidateAndNext,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nome\",children:\"Nome: *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nome\",name:\"nome\",value:data.nome||'',onChange:onChange,className:\"input-field\",required:true,title:\"Nome completo do paciente.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-inline\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cpf\",children:\"CPF: *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cpf\",name:\"cpf\",value:data.cpf||'',onChange:onChange,className:\"input-field\",required:true,title:\"CPF (apenas n\\xFAmeros).\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"data_nasc\",children:\"Data de Nascimento: *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"data_nasc\",name:\"data_nasc\",value:data.data_nasc||'',onChange:onChange,className:\"input-field\",required:true,title:\"Data de nascimento do paciente.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"telefone\",children:\"Telefone:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"telefone\",name:\"telefone\",value:data.telefone||'',onChange:onChange,className:\"input-field\",title:\"Telefone principal (Ex: (42) 99999-8888).\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-inline\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"uf\",children:\"UF: *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"uf\",id:\"uf\",value:data.uf||'',onChange:onChange,className:\"input-field\",required:true,title:\"Selecione o estado (UF).\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione o Estado\"}),ufs.map(uf=>/*#__PURE__*/_jsx(\"option\",{value:uf.id_uf,children:uf.sigla_uf},uf.id_uf))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cidade\",children:\"Cidade: *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"cidade\",id:\"cidade\",value:data.cidade||'',onChange:onChange,className:\"input-field\",required:true,disabled:!data.uf||isCidadesLoading,title:\"Selecione a cidade (requer UF selecionada).\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione a Cidade\"}),cidades.map(cidade=>/*#__PURE__*/_jsx(\"option\",{value:cidade.id_cidade,children:cidade.nome_cidade},cidade.id_cidade))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"logradouro\",children:\"Endere\\xE7o (Rua, N\\xBA): *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"logradouro\",name:\"logradouro\",value:data.logradouro||'',onChange:onChange,className:\"input-field\",required:true,title:\"Endere\\xE7o (Rua, n\\xFAmero, bairro, etc.).\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:data.email||'',onChange:onChange,className:\"input-field\",title:\"Email (opcional).\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions-full\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button-primary\",title:\"Salvar dados pessoais e ir para a pr\\xF3xima etapa.\",children:\"Pr\\xF3ximo\"})})]})]});};const Anamnese1=_ref3=>{let{onNext,onBack,data,onChange,showToast}=_ref3;const handleValidateAndNext=e=>{var _data$trat_med_desc,_data$medicamento_des,_data$sensi_dentes_de;e.preventDefault();if(data.trat_medico&&!((_data$trat_med_desc=data.trat_med_desc)!==null&&_data$trat_med_desc!==void 0&&_data$trat_med_desc.trim())){showToast(\"Por favor, descreva o tratamento médico.\",'error');return;}if(data.medicamento&&!((_data$medicamento_des=data.medicamento_desc)!==null&&_data$medicamento_des!==void 0&&_data$medicamento_des.trim())){showToast(\"Por favor, descreva o medicamento utilizado.\",'error');return;}if(data.sensi_dentes&&!((_data$sensi_dentes_de=data.sensi_dentes_desc)!==null&&_data$sensi_dentes_de!==void 0&&_data$sensi_dentes_de.trim())){showToast(\"Por favor, descreva a sensibilidade nos dentes.\",'error');return;}onNext();};return/*#__PURE__*/_jsxs(\"div\",{className:\"registro-tela\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Registro de Anamnese (1/2):\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'0.9rem',marginBottom:'1rem'},children:\"Campos com * s\\xE3o obrigat\\xF3rios. Para as perguntas de sele\\xE7\\xE3o, a descri\\xE7\\xE3o \\xE9 obrigat\\xF3ria se a op\\xE7\\xE3o for marcada.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleValidateAndNext,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-textarea\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"motivo_consulta\",children:\"Motivo da consulta: *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"motivo_consulta\",name:\"motivo_consulta\",value:data.motivo_consulta||'',onChange:onChange,rows:\"2\",className:\"input-field\",required:true,title:\"Principal queixa ou motivo da visita.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group-textarea\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ultimo_trat\",children:\"\\xDAltimo tratamento odontol\\xF3gico: *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"ultimo_trat\",name:\"ultimo_trat\",value:data.ultimo_trat||'',onChange:onChange,rows:\"2\",className:\"input-field\",required:true,title:\"Descreva o \\xFAltimo tratamento e quando foi.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente est\\xE1 sob cuidados m\\xE9dicos.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"trat_medico\",checked:data.trat_medico||false,onChange:onChange}),\"Em tratamento m\\xE9dico? \",data.trat_medico&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"trat_med_desc\",value:data.trat_med_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Qual?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente utiliza algum rem\\xE9dio cont\\xEDnuo.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"medicamento\",checked:data.medicamento||false,onChange:onChange}),\"Faz uso de medicamento?\",data.medicamento&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"medicamento_desc\",value:data.medicamento_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Qual?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente j\\xE1 teve alergia ou rea\\xE7\\xE3o \\xE0 anestesia dental.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"reacao_anestesia\",checked:data.reacao_anestesia||false,onChange:onChange}),\"Teve rea\\xE7\\xE3o \\xE0 anestesia?\",data.reacao_anestesia&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"reacao_anest_desc\",value:data.reacao_anest_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Qual?*\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente sente dor com frio, calor ou doces.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"sensi_dentes\",checked:data.sensi_dentes||false,onChange:onChange}),\"Tem sensibilidade nos dentes?\",data.sensi_dentes&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sensi_dentes_desc\",value:data.sensi_dentes_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Com qu\\xEA?*\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-secondary\",onClick:onBack,title:\"oltar para a etapa anterior (Dados Pessoais).\",children:\"Voltar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button-primary\",title:\"Salvar esta etapa e ir para a pr\\xF3xima (Anamnese 2/2).\",children:\"Pr\\xF3ximo\"})]})]})]});};const Anamnese2=_ref4=>{let{onNext,onBack,data,onChange,showToast}=_ref4;const handleValidateAndNext=e=>{var _data$range_apert_des,_data$gengiva_sang_de,_data$diabetico_desc,_data$corte_sang_desc,_data$prob_card_desc,_data$dores_cabeca_de,_data$desmaio_atq_des,_data$pressao_art_des;e.preventDefault();if(data.range_apertamento&&!((_data$range_apert_des=data.range_apert_desc)!==null&&_data$range_apert_des!==void 0&&_data$range_apert_des.trim())){showToast(\"Descreva sobre ranger/apertar os dentes.\",'error');return;}if(data.gengiva_sangra&&!((_data$gengiva_sang_de=data.gengiva_sang_desc)!==null&&_data$gengiva_sang_de!==void 0&&_data$gengiva_sang_de.trim())){showToast(\"Descreva sobre o sangramento na gengiva.\",'error');return;}if(data.fuma&&!data.fuma_desc){showToast(\"Informe a quantidade de cigarros.\",'error');return;}if(data.diabetico&&!((_data$diabetico_desc=data.diabetico_desc)!==null&&_data$diabetico_desc!==void 0&&_data$diabetico_desc.trim())){showToast(\"Descreva sobre a diabetes.\",'error');return;}if(data.corte_sangra&&!((_data$corte_sang_desc=data.corte_sang_desc)!==null&&_data$corte_sang_desc!==void 0&&_data$corte_sang_desc.trim())){showToast(\"Descreva sobre o sangramento.\",'error');return;}if(data.prob_cardiaco&&!((_data$prob_card_desc=data.prob_card_desc)!==null&&_data$prob_card_desc!==void 0&&_data$prob_card_desc.trim())){showToast(\"Descreva o problema cardíaco.\",'error');return;}if(data.dores_cabeca&&!((_data$dores_cabeca_de=data.dores_cabeca_desc)!==null&&_data$dores_cabeca_de!==void 0&&_data$dores_cabeca_de.trim())){showToast(\"Descreva as dores de cabeça.\",'error');return;}if(data.desmaio_ataques&&!((_data$desmaio_atq_des=data.desmaio_atq_desc)!==null&&_data$desmaio_atq_des!==void 0&&_data$desmaio_atq_des.trim())){showToast(\"Descreva os desmaios/ataques.\",'error');return;}if(data.pressao_art&&!((_data$pressao_art_des=data.pressao_art_desc)!==null&&_data$pressao_art_des!==void 0&&_data$pressao_art_des.trim())){showToast(\"Descreva a alteração na pressão.\",'error');return;}onNext();};return/*#__PURE__*/_jsxs(\"div\",{className:\"registro-tela\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Registro de Anamnese (2/2):\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#666',fontSize:'0.9rem',marginBottom:'1rem'},children:\"Para as perguntas de sele\\xE7\\xE3o, a descri\\xE7\\xE3o \\xE9 obrigat\\xF3ria se a op\\xE7\\xE3o for marcada.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleValidateAndNext,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-checkbox-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente range ou aperta os dentes, especialmente ao dormir.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"range_apertamento\",checked:data.range_apertamento||false,onChange:onChange}),\"Range os dentes/apertamento?\",data.range_apertamento&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"range_apert_desc\",value:data.range_apert_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Quando percebe?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se a gengiva sangra ao escovar ou espontaneamente.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"gengiva_sangra\",checked:data.gengiva_sangra||false,onChange:onChange}),\"Gengiva sangra facilmente?\",data.gengiva_sangra&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"gengiva_sang_desc\",value:data.gengiva_sang_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Ao escovar, espontaneamente?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente \\xE9 fumante.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"fuma\",checked:data.fuma||false,onChange:onChange}),\"Fumante?\",data.fuma&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fuma_desc\",value:data.fuma_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Cigarros ou Pod? Quantos cigarros por dia?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente tem diabetes (Tipo 1 ou 2).\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"diabetico\",checked:data.diabetico||false,onChange:onChange}),\"Diab\\xE9tico?\",data.diabetico&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"diabetico_desc\",value:data.diabetico_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Tipo? Controlada?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente tem problemas de coagula\\xE7\\xE3o.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"corte_sangra\",checked:data.corte_sangra||false,onChange:onChange}),\"Quando se corta, sangra muito?\",data.corte_sangra&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"corte_sang_desc\",value:data.corte_sang_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Por quanto tempo?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente tem alguma condi\\xE7\\xE3o card\\xEDaca.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"prob_cardiaco\",checked:data.prob_cardiaco||false,onChange:onChange}),\"Tem problema card\\xEDaco?\",data.prob_cardiaco&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"prob_card_desc\",value:data.prob_card_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Qual?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente sofre de dores de cabe\\xE7a frequentes ou enxaqueca.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"dores_cabeca\",checked:data.dores_cabeca||false,onChange:onChange}),\"Dores de cabe\\xE7a?\",data.dores_cabeca&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"dores_cabeca_desc\",value:data.dores_cabeca_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Frequ\\xEAncia?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente j\\xE1 teve epis\\xF3dios de desmaio ou convuls\\xF5es.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"desmaio_ataques\",checked:data.desmaio_ataques||false,onChange:onChange}),\"J\\xE1 teve desmaios ou ataques?\",data.desmaio_ataques&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"desmaio_atq_desc\",value:data.desmaio_atq_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Quando?*\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",title:\"Marque se o paciente tem press\\xE3o alta ou baixa.\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"pressao_art\",checked:data.pressao_art||false,onChange:onChange}),\"Tem press\\xE3o arterial alterada?\",data.pressao_art&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pressao_art_desc\",value:data.pressao_art_desc||'',onChange:onChange,className:\"input-conditional\",placeholder:\"Alta ou baixa? Controlada?*\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-secondary\",onClick:onBack,title:\"Voltar para a etapa anterior (Anamnese 1/2).\",children:\"Voltar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button-primary\",title:\"Salvar esta etapa e ir para a tela de conclus\\xE3o.\",children:\"Pr\\xF3ximo\"})]})]})]});};const Concluido=_ref5=>{let{formData,onSave,onBack,showToast}=_ref5;const navigate=useNavigate();const[isSaving,setIsSaving]=useState(false);const handlePrint=()=>{const formatDate=dateString=>{if(!dateString)return\"-\";const[year,month,day]=dateString.split('-');return\"\".concat(day,\"/\").concat(month,\"/\").concat(year);};const renderBooleanField=(label,value,description)=>{let desc=value&&description?\" (\".concat(description,\")\"):'';return\"<p style=\\\"margin: 5px 0;\\\"><strong>\".concat(label,\":</strong> \").concat(value?'Sim':'Não').concat(desc,\"</p>\");};let printHtml=\"\\n            <html>\\n                <head>\\n                <title>Ficha de Anamnese - \".concat(formData.nome,\"</title>\\n                   <style>\\n                        body { font-family: Arial, sans-serif; margin: 25px; }\\n                        h2, h3 { border-bottom: 1px solid #ccc; padding-bottom: 5px; color: #333; }\\n                        .section { margin-bottom: 20px; }\\n                    </style>\\n                </head>\\n                <body>\\n                    <h2>Ficha de Anamnese</h2>\\n                    \\n                    <div class=\\\"section\\\">\\n                        <h3>Dados do Paciente</h3>\\n                        <p><strong>Nome:</strong> \").concat(formData.nome||'-',\"</p>\\n                        <p><strong>CPF:</strong> \").concat(formData.cpf||'-',\"</p>\\n                        <p><strong>Data de Nascimento:</strong> \").concat(formatDate(formData.data_nasc),\"</p>\\n                    </div>\\n\\n                    <div class=\\\"section\\\">\\n                        <h3>Informa\\xE7\\xF5es da Anamnese</h3>\\n                        <p><strong>Motivo da Consulta:</strong> \").concat(formData.motivo_consulta||'-',\"</p>\\n                        <p><strong>\\xDAltimo Tratamento Odontol\\xF3gico:</strong> \").concat(formData.ultimo_trat||'-',\"</p>\\n                    </div>\\n\\n                    <div class=\\\"section\\\">\\n                        <h3>Question\\xE1rio</h3>\\n                        \").concat(renderBooleanField('Em tratamento médico?',formData.trat_medico,formData.trat_med_desc),\"\\n                        \").concat(renderBooleanField('Faz uso de medicamento?',formData.medicamento,formData.medicamento_desc),\"\\n                        \").concat(renderBooleanField('Teve reação à anestesia?',formData.reacao_anestesia,formData.reacao_anest_desc),\"\\n                        \").concat(renderBooleanField('Tem sensibilidade nos dentes?',formData.sensi_dentes,formData.sensi_dentes_desc),\"\\n                        \").concat(renderBooleanField('Range os dentes/apertamento?',formData.range_apertamento,formData.range_apert_desc),\"\\n                        \").concat(renderBooleanField('Gengiva sangra facilmente?',formData.gengiva_sangra,formData.gengiva_sang_desc),\"\\n                        \").concat(renderBooleanField('Fumante?',formData.fuma,formData.fuma_desc),\"\\n                        \").concat(renderBooleanField('Diabético?',formData.diabetico,formData.diabetico_desc),\"\\n                        \").concat(renderBooleanField('Quando se corta, sangra muito?',formData.corte_sangra,formData.corte_sang_desc),\"\\n                        \").concat(renderBooleanField('Tem problema cardíaco?',formData.prob_cardiaco,formData.prob_card_desc),\"\\n                        \").concat(renderBooleanField('Dores de cabeça?',formData.dores_cabeca,formData.dores_cabeca_desc),\"\\n                        \").concat(renderBooleanField('Já teve desmaios ou ataques?',formData.desmaio_ataques,formData.desmaio_atq_desc),\"\\n                        \").concat(renderBooleanField('Tem pressão arterial alterada?',formData.pressao_art,formData.pressao_art_desc),\"\\n                    </div>\\n                </body>\\n                </html>\\n        \");const printWindow=window.open('','_blank','width=800,height=600');printWindow.document.open();printWindow.document.write(printHtml);printWindow.document.close();printWindow.focus();printWindow.print();printWindow.close();};const handleFinalSave=async()=>{setIsSaving(true);const success=await onSave();setIsSaving(false);if(success){showToast('Paciente e anamnese cadastrados com sucesso!','success');navigate('/pacientes');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"registro-tela registro-concluido\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-success\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck})}),/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",style:{color:'#000',fontSize:'1.5rem',marginBottom:'1rem'},children:\"Cadastro Conclu\\xEDdo!\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#555',fontSize:'1rem',marginBottom:'2rem'},children:\"Os dados do paciente e a anamnese foram preenchidos.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handlePrint,className:\"imprimir-button\",disabled:isSaving,title:\"Gera uma vers\\xE3o para impress\\xE3o da ficha de anamnese.\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPrint}),\"Imprimir Anamnese\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-secondary\",onClick:onBack,disabled:isSaving,title:\"Voltar para a etapa anterior (Anamnese 2).\",children:\"Voltar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-primary\",onClick:handleFinalSave,disabled:isSaving,title:\"Salva permanentemente o paciente e a anamnese no sistema.\",children:isSaving?'Salvando...':'Salvar e Concluir'})]})]});};function RegistroPacientes(){const[step,setStep]=useState(1);const[formData,setFormData]=useState({});const{showToast}=useToast();const navigate=useNavigate();const[isAjudaOpen,setIsAjudaOpen]=useState(false);const handleNext=()=>setStep(prevStep=>prevStep+1);const handleBack=()=>setStep(prevStep=>prevStep-1);const handleInputChange=e=>{const{name,value,type,checked}=e.target;const finalValue=type==='checkbox'?checked:value;setFormData(prevData=>{const newData=_objectSpread(_objectSpread({},prevData),{},{[name]:finalValue});if(name==='uf'){newData.cidade='';}return newData;});};const handleSave=async()=>{console.log('handleSave iniciado. Dados atuais:',formData);try{const token=localStorage.getItem('access_token');if(!token){showToast('Token de autenticação não encontrado. Faça login novamente.','error');navigate('/');return false;}const pacienteData={nome:formData.nome,cpf:formData.cpf,data_nasc:formData.data_nasc,telefone:formData.telefone||null,logradouro:formData.logradouro,email:formData.email||null,cidade_id:parseInt(formData.cidade,10)||null};if(!pacienteData.nome||!pacienteData.cpf||!pacienteData.data_nasc||!pacienteData.cidade_id||!pacienteData.logradouro){showToast(\"Erro: Dados Pessoais obrigatórios estão faltando.\",'error');setStep(1);return false;}let pacienteResponse;try{pacienteResponse=await axios.post(\"\".concat(API_BASE_URL,\"/api/pacientes/\"),pacienteData,{headers:{'Authorization':\"Bearer \".concat(token)}});console.log(\"Paciente salvo com sucesso:\",pacienteResponse.data);}catch(pacienteError){var _pacienteError$respon;const errorMsg=(_pacienteError$respon=pacienteError.response)!==null&&_pacienteError$respon!==void 0&&_pacienteError$respon.data?JSON.stringify(pacienteError.response.data):pacienteError.message;showToast(\"Erro ao salvar dados do paciente: \".concat(errorMsg),'error');console.error('Erro ao salvar paciente:',pacienteError.response||pacienteError);return false;}const novoPacienteId=pacienteResponse.data.id_paciente;const anamneseData={paciente:novoPacienteId,data_anamnese:new Date().toISOString().split('T')[0],motivo_consulta:formData.motivo_consulta,ultimo_trat:formData.ultimo_trat,trat_medico:formData.trat_medico||false,trat_med_desc:formData.trat_medico?formData.trat_med_desc||null:null,medicamento:formData.medicamento||false,medicamento_desc:formData.medicamento?formData.medicamento_desc||null:null,reacao_anestesia:formData.reacao_anestesia||false,reacao_anest_desc:formData.reacao_anestesia?formData.reacao_anest_desc||null:null,sensi_dentes:formData.sensi_dentes||false,sensi_dentes_desc:formData.sensi_dentes?formData.sensi_dentes_desc||null:null,range_apertamento:formData.range_apertamento||false,range_apert_desc:formData.range_apertamento?formData.range_apert_desc||null:null,gengiva_sangra:formData.gengiva_sangra||false,gengiva_sang_desc:formData.gengiva_sangra?formData.gengiva_sang_desc||null:null,fuma:formData.fuma||false,fuma_desc:formData.fuma?formData.fuma_desc||null:null,diabetico:formData.diabetico||false,diabetico_desc:formData.diabetico?formData.diabetico_desc||null:null,corte_sangra:formData.corte_sangra||false,corte_sang_desc:formData.corte_sangra?formData.corte_sang_desc||null:null,prob_cardiaco:formData.prob_cardiaco||false,prob_card_desc:formData.prob_cardiaco?formData.prob_card_desc||null:null,dores_cabeca:formData.dores_cabeca||false,dores_cabeca_desc:formData.dores_cabeca?formData.dores_cabeca_desc||null:null,desmaio_ataques:formData.desmaio_ataques||false,desmaio_atq_desc:formData.desmaio_ataques?formData.desmaio_atq_desc||null:null,pressao_art:formData.pressao_art||false,pressao_art_desc:formData.pressao_art?formData.pressao_art_desc||null:null};try{await axios.post(\"\".concat(API_BASE_URL,\"/api/anamneses/\"),anamneseData,{headers:{'Authorization':\"Bearer \".concat(token)}});console.log(\"Anamnese salva com sucesso.\");}catch(anamneseError){var _anamneseError$respon;const errorMsg=(_anamneseError$respon=anamneseError.response)!==null&&_anamneseError$respon!==void 0&&_anamneseError$respon.data?JSON.stringify(anamneseError.response.data):anamneseError.message;showToast(\"Erro ao salvar anamnese: \".concat(errorMsg),'error');console.error('Erro ao salvar anamnese:',anamneseError.response||anamneseError);return false;}return true;}catch(err){if(err.response&&err.response.status===401){showToast('Sua sessão expirou. Faça login novamente.','error');navigate('/');}else{showToast(\"Erro inesperado durante o salvamento: \".concat(err.message),'error');console.error('Erro geral em handleSave:',err);}return false;}};const renderStep=()=>{switch(step){case 1:return/*#__PURE__*/_jsx(DadosPessoais,{onNext:handleNext,data:formData,onChange:handleInputChange,showToast:showToast});case 2:return/*#__PURE__*/_jsx(Anamnese1,{onNext:handleNext,onBack:handleBack,data:formData,onChange:handleInputChange,showToast:showToast});case 3:return/*#__PURE__*/_jsx(Anamnese2,{onNext:handleNext,onBack:handleBack,data:formData,onChange:handleInputChange,showToast:showToast});case 4:return/*#__PURE__*/_jsx(Concluido,{formData:formData,onSave:handleSave,onBack:handleBack,showToast:showToast});default:return/*#__PURE__*/_jsx(\"div\",{children:\"Etapa desconhecida\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"pacientes-container\",children:[/*#__PURE__*/_jsx(Breadcrumbs,{step:step}),renderStep(),/*#__PURE__*/_jsx(\"button\",{className:\"floating-help-button\",onClick:()=>setIsAjudaOpen(true),title:\"Ajuda sobre o cadastro de pacientes\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faQuestionCircle})}),/*#__PURE__*/_jsxs(Modal,{isOpen:isAjudaOpen,onClose:()=>setIsAjudaOpen(false),titulo:\"Ajuda - Cadastro de Paciente\",footer:/*#__PURE__*/_jsx(\"button\",{className:\"modal-button modal-button-secondary\",onClick:()=>setIsAjudaOpen(false),children:\"Fechar\"}),children:[/*#__PURE__*/_jsx(\"p\",{children:\"Esta tela guia voc\\xEA pelo cadastro de um novo paciente em 4 etapas:\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{paddingLeft:'20px',lineHeight:'1.6'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dados Pessoais:\"}),\" Informa\\xE7\\xF5es b\\xE1sicas de cadastro e contato. Campos com * (asterisco) s\\xE3o obrigat\\xF3rios.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Anamnese 1 e 2:\"}),\" Question\\xE1rio de sa\\xFAde. Os campos \\\"Motivo da consulta\\\" e \\\"\\xDAltimo tratamento\\\" s\\xE3o obrigat\\xF3rios. Nas demais perguntas (checkboxes), a descri\\xE7\\xE3o se torna obrigat\\xF3ria caso a op\\xE7\\xE3o seja marcada (selecionada).\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Concluir e Salvar:\"}),\" Permite salvar o paciente no sistema e imprimir a ficha de anamnese.\"]})]})]})]});}export default RegistroPacientes;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","FontAwesomeIcon","faCheck","faPrint","faQuestionCircle","Modal","useToast","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","validaCPF","cpf","cpfLimpo","String","replace","length","test","soma","resto","i","parseInt","substring","Breadcrumbs","_ref","step","steps","currentPath","slice","className","children","map","name","index","DadosPessoais","_ref2","onNext","data","onChange","showToast","ufs","setUfs","cidades","setCidades","isCidadesLoading","setIsCidadesLoading","fetchUfs","token","localStorage","getItem","response","get","concat","headers","ufsData","results","error","console","uf","fetchCidades","handleValidateAndNext","e","preventDefault","style","color","fontSize","marginBottom","onSubmit","htmlFor","type","id","value","nome","required","title","data_nasc","telefone","id_uf","sigla_uf","cidade","disabled","id_cidade","nome_cidade","logradouro","email","Anamnese1","_ref3","onBack","_data$trat_med_desc","_data$medicamento_des","_data$sensi_dentes_de","trat_medico","trat_med_desc","trim","medicamento","medicamento_desc","sensi_dentes","sensi_dentes_desc","motivo_consulta","rows","ultimo_trat","checked","placeholder","reacao_anestesia","reacao_anest_desc","onClick","Anamnese2","_ref4","_data$range_apert_des","_data$gengiva_sang_de","_data$diabetico_desc","_data$corte_sang_desc","_data$prob_card_desc","_data$dores_cabeca_de","_data$desmaio_atq_des","_data$pressao_art_des","range_apertamento","range_apert_desc","gengiva_sangra","gengiva_sang_desc","fuma","fuma_desc","diabetico","diabetico_desc","corte_sangra","corte_sang_desc","prob_cardiaco","prob_card_desc","dores_cabeca","dores_cabeca_desc","desmaio_ataques","desmaio_atq_desc","pressao_art","pressao_art_desc","Concluido","_ref5","formData","onSave","navigate","isSaving","setIsSaving","handlePrint","formatDate","dateString","year","month","day","split","renderBooleanField","label","description","desc","printHtml","printWindow","window","open","document","write","close","focus","print","handleFinalSave","success","icon","RegistroPacientes","setStep","setFormData","isAjudaOpen","setIsAjudaOpen","handleNext","prevStep","handleBack","handleInputChange","target","finalValue","prevData","newData","_objectSpread","handleSave","log","pacienteData","cidade_id","pacienteResponse","post","pacienteError","_pacienteError$respon","errorMsg","JSON","stringify","message","novoPacienteId","id_paciente","anamneseData","paciente","data_anamnese","Date","toISOString","anamneseError","_anamneseError$respon","err","status","renderStep","isOpen","onClose","titulo","footer","paddingLeft","lineHeight"],"sources":["C:/Users/milen/Desktop/4º ano/projeto/ProjetoDrGus/frontend/src/paginas/RegistroPacientes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './RegistroPacientes.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheck, faPrint } from '@fortawesome/free-solid-svg-icons';\r\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport Modal from '../componentes/Modal';\r\nimport { useToast } from '../context/ToastContext';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\nconst validaCPF = (cpf) => {\r\n    if (!cpf) return false;\r\n    const cpfLimpo = String(cpf).replace(/\\D/g, ''); \r\n\r\n    if (cpfLimpo.length !== 11) return false;\r\n\r\n    if (/^(\\d)\\1{10}$/.test(cpfLimpo)) return false;\r\n\r\n    let soma = 0;\r\n    let resto;\r\n\r\n    for (let i = 1; i <= 9; i++) {\r\n        soma += parseInt(cpfLimpo.substring(i - 1, i)) * (11 - i);\r\n    }\r\n    resto = (soma * 10) % 11;\r\n    if (resto === 10 || resto === 11) resto = 0;\r\n    if (resto !== parseInt(cpfLimpo.substring(9, 10))) return false;\r\n\r\n    soma = 0;\r\n    for (let i = 1; i <= 10; i++) {\r\n        soma += parseInt(cpfLimpo.substring(i - 1, i)) * (12 - i);\r\n    }\r\n    resto = (soma * 10) % 11;\r\n    if (resto === 10 || resto === 11) resto = 0;\r\n    if (resto !== parseInt(cpfLimpo.substring(10, 11))) return false;\r\n\r\n    return true;\r\n};\r\n\r\n//Breadcrumbs\r\nconst Breadcrumbs = ({ step }) => {\r\n  \r\n    const steps = ['Dados Pessoais', 'Anamnese 1', 'Anamnese 2', 'Concluir e Salvar'];\r\n    const currentPath = steps.slice(0, step);\r\n        return (\r\n            <div className=\"breadcrumbs-container\">\r\n            {currentPath.map((name, index) => (\r\n                <span key={index} className=\"breadcrumb-item\">\r\n                {name}\r\n                {index < currentPath.length - 1 && <span className=\"separator\">/</span>}\r\n                </span>\r\n            ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const DadosPessoais = ({ onNext, data, onChange, showToast }) => {\r\n        const [ufs, setUfs] = useState([]);\r\n        const [cidades, setCidades] = useState([]);\r\n        const [isCidadesLoading, setIsCidadesLoading] = useState(false);\r\n\r\n        useEffect(() => {\r\n            const fetchUfs = async () => { try { const token = localStorage.getItem('access_token'); const response = await axios.get(`${API_BASE_URL}/api/ufs/`, { headers: { 'Authorization': `Bearer ${token}` } }); const ufsData = response.data.results || response.data || []; setUfs(ufsData); } catch (error) { console.error('Erro ao buscar UFs:', error); } }; fetchUfs();\r\n        }, []);\r\n\r\n        useEffect(() => {\r\n        if (data.uf) {\r\n        setIsCidadesLoading(true);\r\n        setCidades([]); \r\n\r\n        const fetchCidades = async () => {\r\n            try {\r\n            const token = localStorage.getItem('access_token');\r\n            if (!token) return;\r\n            const response = await axios.get(`${API_BASE_URL}/api/cidades/by_uf/?uf_id=${data.uf}`, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            setCidades(response.data || []);\r\n            } catch (error) {\r\n            console.error('Erro ao buscar Cidades:', error);\r\n            setCidades([]);\r\n            } finally {\r\n            setIsCidadesLoading(false);\r\n            }\r\n        };\r\n        \r\n        fetchCidades();\r\n        } else {\r\n        setCidades([]);\r\n        setIsCidadesLoading(false);\r\n        }\r\n    }, [data.uf]);\r\n\r\n        const handleValidateAndNext = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!validaCPF(data.cpf)) {\r\n            showToast('CPF inválido! Por favor, verifique o número digitado.', 'error');\r\n            return;\r\n        }\r\n        onNext();\r\n    };\r\n\r\n        return (\r\n            <div className=\"dados-pessoais-container registro-tela\">\r\n            \r\n            <h2 className=\"section-title\">Dados Pessoais:</h2>\r\n            \r\n            <p style={{ color: '#666', fontSize: '0.9rem', marginBottom: '1rem' }}>\r\n                Campos com * são obrigatórios.\r\n            </p>\r\n\r\n            <form onSubmit={handleValidateAndNext}>\r\n                \r\n                <div className=\"form-group\">\r\n                <label htmlFor=\"nome\">Nome: *</label>\r\n                <input type=\"text\" id=\"nome\" name=\"nome\" value={data.nome || ''}\r\n                    onChange={onChange} className=\"input-field\" required \r\n                    title=\"Nome completo do paciente.\"\r\n                />\r\n                </div>\r\n                \r\n                <div className=\"form-group-inline\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"cpf\">CPF: *</label>\r\n                    <input type=\"text\" id=\"cpf\" name=\"cpf\" value={data.cpf || ''} onChange={onChange}\r\n                    className=\"input-field\" required \r\n                    title=\"CPF (apenas números).\"\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"data_nasc\">Data de Nascimento: *</label>\r\n                    <input type=\"date\" id=\"data_nasc\" name=\"data_nasc\" value={data.data_nasc || ''}\r\n                    onChange={onChange} className=\"input-field\" required \r\n                    title=\"Data de nascimento do paciente.\"\r\n                    />\r\n                </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                <label htmlFor=\"telefone\">Telefone:</label>\r\n                <input type=\"text\" id=\"telefone\" name=\"telefone\" value={data.telefone || ''}\r\n                    onChange={onChange} className=\"input-field\" \r\n                    title=\"Telefone principal (Ex: (42) 99999-8888).\"\r\n                />\r\n                </div>\r\n\r\n                <div className=\"form-group-inline\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"uf\">UF: *</label>\r\n                    <select name=\"uf\" id=\"uf\" value={data.uf || ''} onChange={onChange}\r\n                    className=\"input-field\" required \r\n                    title=\"Selecione o estado (UF).\"\r\n                    >\r\n                    <option value=\"\">Selecione o Estado</option>\r\n                    {ufs.map(uf => (\r\n                        <option key={uf.id_uf} value={uf.id_uf}>{uf.sigla_uf}</option>\r\n                    ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"cidade\">Cidade: *</label>\r\n                        <select \r\n                        name=\"cidade\" \r\n                        id=\"cidade\" \r\n                        value={data.cidade || ''} \r\n                        onChange={onChange}\r\n                        className=\"input-field\" \r\n                        required \r\n                        disabled={!data.uf || isCidadesLoading}\r\n                        title=\"Selecione a cidade (requer UF selecionada).\"\r\n                    >\r\n                    <option value=\"\">Selecione a Cidade</option>\r\n                    {cidades.map(cidade => (\r\n                        <option key={cidade.id_cidade} value={cidade.id_cidade}>{cidade.nome_cidade}</option>\r\n                    ))}\r\n                    </select>\r\n                </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                <label htmlFor=\"logradouro\">Endereço (Rua, Nº): *</label>\r\n                <input type=\"text\" id=\"logradouro\" name=\"logradouro\" value={data.logradouro || ''}\r\n                    onChange={onChange} className=\"input-field\" required \r\n                    title=\"Endereço (Rua, número, bairro, etc.).\"\r\n                />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email:</label>\r\n                <input type=\"email\" id=\"email\" name=\"email\" value={data.email || ''}\r\n                    onChange={onChange} className=\"input-field\" \r\n                    title=\"Email (opcional).\"\r\n                />\r\n                </div>\r\n                \r\n                <div className=\"form-actions-full\">\r\n                <button type=\"submit\" className=\"button-primary\" title=\"Salvar dados pessoais e ir para a próxima etapa.\">\r\n                    Próximo\r\n                </button>\r\n                </div>\r\n            </form>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const Anamnese1 = ({ onNext, onBack, data, onChange, showToast }) => {\r\n    const handleValidateAndNext = (e) => {\r\n        e.preventDefault();\r\n        if (data.trat_medico && !data.trat_med_desc?.trim()) { showToast(\"Por favor, descreva o tratamento médico.\", 'error'); return; }\r\n        if (data.medicamento && !data.medicamento_desc?.trim()) { showToast(\"Por favor, descreva o medicamento utilizado.\", 'error'); return; }\r\n        if (data.sensi_dentes && !data.sensi_dentes_desc?.trim()) { showToast(\"Por favor, descreva a sensibilidade nos dentes.\", 'error'); return; }\r\n        onNext();\r\n    };\r\n\r\n    return (\r\n        <div className=\"registro-tela\">\r\n        \r\n        <h2 className=\"section-title\">Registro de Anamnese (1/2):</h2>\r\n        \r\n        <p style={{ color: '#666', fontSize: '0.9rem', marginBottom: '1rem' }}>\r\n            Campos com * são obrigatórios.\r\n            Para as perguntas de seleção, a descrição é obrigatória se a opção for marcada.\r\n        </p>\r\n        \r\n        <form onSubmit={handleValidateAndNext}>\r\n            <div className=\"form-group-textarea\">\r\n            <label htmlFor=\"motivo_consulta\">Motivo da consulta: *</label>\r\n            <textarea id=\"motivo_consulta\" name=\"motivo_consulta\" value={data.motivo_consulta || ''}\r\n                onChange={onChange} rows=\"2\" className=\"input-field\" required \r\n                title=\"Principal queixa ou motivo da visita.\"\r\n            />\r\n            </div>\r\n            \r\n            <div className=\"form-group-textarea\">\r\n            <label htmlFor=\"ultimo_trat\">Último tratamento odontológico: *</label>\r\n            <textarea id=\"ultimo_trat\" name=\"ultimo_trat\" value={data.ultimo_trat || ''}\r\n                onChange={onChange} rows=\"2\" className=\"input-field\" required \r\n                title=\"Descreva o último tratamento e quando foi.\"\r\n            />\r\n            </div>\r\n            \r\n            <div className=\"form-checkbox-group\">\r\n            \r\n            <label className=\"checkbox-label\" title=\"Marque se o paciente está sob cuidados médicos.\">\r\n                <input type=\"checkbox\" name=\"trat_medico\" checked={data.trat_medico || false} onChange={onChange} /> \r\n                Em tratamento médico? {data.trat_medico && <input type=\"text\" name=\"trat_med_desc\" value={data.trat_med_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Qual?*\" required />}\r\n            </label>\r\n            \r\n            <label className=\"checkbox-label\" title=\"Marque se o paciente utiliza algum remédio contínuo.\">\r\n                <input type=\"checkbox\" name=\"medicamento\" checked={data.medicamento || false} onChange={onChange} /> \r\n                Faz uso de medicamento?{data.medicamento && <input type=\"text\" name=\"medicamento_desc\" value={data.medicamento_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Qual?*\" required />}\r\n            </label>\r\n            \r\n            <label className=\"checkbox-label\" title=\"Marque se o paciente já teve alergia ou reação à anestesia dental.\">\r\n                <input type=\"checkbox\" name=\"reacao_anestesia\" checked={data.reacao_anestesia || false} onChange={onChange} /> \r\n                Teve reação à anestesia?{data.reacao_anestesia && <input type=\"text\" name=\"reacao_anest_desc\" value={data.reacao_anest_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Qual?*\" />}\r\n            </label>\r\n            \r\n            <label className=\"checkbox-label\" title=\"Marque se o paciente sente dor com frio, calor ou doces.\">\r\n                <input type=\"checkbox\" name=\"sensi_dentes\" checked={data.sensi_dentes || false} onChange={onChange} /> \r\n                Tem sensibilidade nos dentes?{data.sensi_dentes && <input type=\"text\" name=\"sensi_dentes_desc\" value={data.sensi_dentes_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Com quê?*\" required />}\r\n            </label>\r\n            \r\n            </div>\r\n            \r\n            <div className=\"form-actions\">\r\n                <button type=\"button\" className=\"button-secondary\" onClick={onBack} title=\"oltar para a etapa anterior (Dados Pessoais).\">\r\n                    Voltar\r\n                </button>\r\n                <button type=\"submit\" className=\"button-primary\" title=\"Salvar esta etapa e ir para a próxima (Anamnese 2/2).\">\r\n                    Próximo\r\n                </button>\r\n            </div>\r\n        </form>\r\n        </div>\r\n    );\r\n    };\r\n\r\n    const Anamnese2 = ({ onNext, onBack, data, onChange, showToast }) => {\r\n    const handleValidateAndNext = (e) => {\r\n        e.preventDefault();\r\n        if (data.range_apertamento && !data.range_apert_desc?.trim()) { showToast(\"Descreva sobre ranger/apertar os dentes.\", 'error'); return; }\r\n        if (data.gengiva_sangra && !data.gengiva_sang_desc?.trim()) { showToast(\"Descreva sobre o sangramento na gengiva.\", 'error'); return; }\r\n        if (data.fuma && !data.fuma_desc) { showToast(\"Informe a quantidade de cigarros.\", 'error'); return; } \r\n        if (data.diabetico && !data.diabetico_desc?.trim()) { showToast(\"Descreva sobre a diabetes.\", 'error'); return; }\r\n        if (data.corte_sangra && !data.corte_sang_desc?.trim()) { showToast(\"Descreva sobre o sangramento.\", 'error'); return; }\r\n        if (data.prob_cardiaco && !data.prob_card_desc?.trim()) { showToast(\"Descreva o problema cardíaco.\", 'error'); return; }\r\n        if (data.dores_cabeca && !data.dores_cabeca_desc?.trim()) { showToast(\"Descreva as dores de cabeça.\", 'error'); return; }\r\n        if (data.desmaio_ataques && !data.desmaio_atq_desc?.trim()) { showToast(\"Descreva os desmaios/ataques.\", 'error'); return; }\r\n        if (data.pressao_art && !data.pressao_art_desc?.trim()) { showToast(\"Descreva a alteração na pressão.\", 'error'); return; }\r\n        onNext();\r\n    };\r\n\r\n        return (\r\n            <div className=\"registro-tela\">\r\n            <h2 className=\"section-title\">Registro de Anamnese (2/2):</h2>\r\n            \r\n            <p style={{ color: '#666', fontSize: '0.9rem', marginBottom: '1rem' }}>\r\n                Para as perguntas de seleção, a descrição é obrigatória se a opção for marcada.\r\n            </p>\r\n            \r\n            <form onSubmit={handleValidateAndNext}>\r\n                <div className=\"form-checkbox-group\">\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente range ou aperta os dentes, especialmente ao dormir.\">\r\n                    <input type=\"checkbox\" name=\"range_apertamento\" checked={data.range_apertamento || false} onChange={onChange} /> \r\n                    Range os dentes/apertamento?\r\n                    {data.range_apertamento && <input type=\"text\" name=\"range_apert_desc\" value={data.range_apert_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Quando percebe?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se a gengiva sangra ao escovar ou espontaneamente.\">\r\n                    <input type=\"checkbox\" name=\"gengiva_sangra\" checked={data.gengiva_sangra || false} onChange={onChange} /> \r\n                    Gengiva sangra facilmente?\r\n                    {data.gengiva_sangra && <input type=\"text\" name=\"gengiva_sang_desc\" value={data.gengiva_sang_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Ao escovar, espontaneamente?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente é fumante.\">\r\n                    <input type=\"checkbox\" name=\"fuma\" checked={data.fuma || false} onChange={onChange} /> \r\n                    Fumante?\r\n                    {data.fuma && <input type=\"text\" name=\"fuma_desc\" value={data.fuma_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Cigarros ou Pod? Quantos cigarros por dia?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente tem diabetes (Tipo 1 ou 2).\">\r\n                    <input type=\"checkbox\" name=\"diabetico\" checked={data.diabetico || false} onChange={onChange} /> \r\n                    Diabético?\r\n                    {data.diabetico && <input type=\"text\" name=\"diabetico_desc\" value={data.diabetico_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Tipo? Controlada?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente tem problemas de coagulação.\">\r\n                    <input type=\"checkbox\" name=\"corte_sangra\" checked={data.corte_sangra || false} onChange={onChange} /> \r\n                    Quando se corta, sangra muito? \r\n                    {data.corte_sangra && <input type=\"text\" name=\"corte_sang_desc\" value={data.corte_sang_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Por quanto tempo?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente tem alguma condição cardíaca.\">\r\n                    <input type=\"checkbox\" name=\"prob_cardiaco\" checked={data.prob_cardiaco || false} onChange={onChange} /> \r\n                    Tem problema cardíaco?\r\n                    {data.prob_cardiaco && <input type=\"text\" name=\"prob_card_desc\" value={data.prob_card_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Qual?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente sofre de dores de cabeça frequentes ou enxaqueca.\">\r\n                    <input type=\"checkbox\" name=\"dores_cabeca\" checked={data.dores_cabeca || false} onChange={onChange} /> \r\n                    Dores de cabeça?\r\n                    {data.dores_cabeca && <input type=\"text\" name=\"dores_cabeca_desc\" value={data.dores_cabeca_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Frequência?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente já teve episódios de desmaio ou convulsões.\">\r\n                    <input type=\"checkbox\" name=\"desmaio_ataques\" checked={data.desmaio_ataques || false} onChange={onChange} /> \r\n                    Já teve desmaios ou ataques?\r\n                    {data.desmaio_ataques && <input type=\"text\" name=\"desmaio_atq_desc\" value={data.desmaio_atq_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Quando?*\" required />}\r\n                </label>\r\n                \r\n                <label className=\"checkbox-label\" title=\"Marque se o paciente tem pressão alta ou baixa.\">\r\n                    <input type=\"checkbox\" name=\"pressao_art\" checked={data.pressao_art || false} onChange={onChange} /> \r\n                    Tem pressão arterial alterada?\r\n                    {data.pressao_art && <input type=\"text\" name=\"pressao_art_desc\" value={data.pressao_art_desc || ''} onChange={onChange} className=\"input-conditional\" placeholder=\"Alta ou baixa? Controlada?*\" required />}\r\n                </label>\r\n                \r\n                </div>\r\n                \r\n                <div className=\"form-actions\">\r\n                    <button type=\"button\" className=\"button-secondary\" onClick={onBack} title=\"Voltar para a etapa anterior (Anamnese 1/2).\">\r\n                        Voltar\r\n                    </button>\r\n                    <button type=\"submit\" className=\"button-primary\" title=\"Salvar esta etapa e ir para a tela de conclusão.\">\r\n                        Próximo\r\n                    </button>\r\n                </div>\r\n            </form>\r\n            </div>\r\n        );\r\n    };\r\n\r\n\r\n  const Concluido = ({ formData, onSave, onBack, showToast }) => {\r\n    const navigate = useNavigate();\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    const handlePrint = () => {\r\n        const formatDate = (dateString) => {\r\n            if (!dateString) return \"-\";\r\n            const [year, month, day] = dateString.split('-');\r\n            return `${day}/${month}/${year}`;\r\n        };\r\n\r\n        const renderBooleanField = (label, value, description) => {\r\n            let desc = (value && description) ? ` (${description})` : '';\r\n            return `<p style=\"margin: 5px 0;\"><strong>${label}:</strong> ${value ? 'Sim' : 'Não'}${desc}</p>`;\r\n        };\r\n\r\n        let printHtml = `\r\n            <html>\r\n                <head>\r\n                <title>Ficha de Anamnese - ${formData.nome}</title>\r\n                   <style>\r\n                        body { font-family: Arial, sans-serif; margin: 25px; }\r\n                        h2, h3 { border-bottom: 1px solid #ccc; padding-bottom: 5px; color: #333; }\r\n                        .section { margin-bottom: 20px; }\r\n                    </style>\r\n                </head>\r\n                <body>\r\n                    <h2>Ficha de Anamnese</h2>\r\n                    \r\n                    <div class=\"section\">\r\n                        <h3>Dados do Paciente</h3>\r\n                        <p><strong>Nome:</strong> ${formData.nome || '-'}</p>\r\n                        <p><strong>CPF:</strong> ${formData.cpf || '-'}</p>\r\n                        <p><strong>Data de Nascimento:</strong> ${formatDate(formData.data_nasc)}</p>\r\n                    </div>\r\n\r\n                    <div class=\"section\">\r\n                        <h3>Informações da Anamnese</h3>\r\n                        <p><strong>Motivo da Consulta:</strong> ${formData.motivo_consulta || '-'}</p>\r\n                        <p><strong>Último Tratamento Odontológico:</strong> ${formData.ultimo_trat || '-'}</p>\r\n                    </div>\r\n\r\n                    <div class=\"section\">\r\n                        <h3>Questionário</h3>\r\n                        ${renderBooleanField('Em tratamento médico?', formData.trat_medico, formData.trat_med_desc)}\r\n                        ${renderBooleanField('Faz uso de medicamento?', formData.medicamento, formData.medicamento_desc)}\r\n                        ${renderBooleanField('Teve reação à anestesia?', formData.reacao_anestesia, formData.reacao_anest_desc)}\r\n                        ${renderBooleanField('Tem sensibilidade nos dentes?', formData.sensi_dentes, formData.sensi_dentes_desc)}\r\n                        ${renderBooleanField('Range os dentes/apertamento?', formData.range_apertamento, formData.range_apert_desc)}\r\n                        ${renderBooleanField('Gengiva sangra facilmente?', formData.gengiva_sangra, formData.gengiva_sang_desc)}\r\n                        ${renderBooleanField('Fumante?', formData.fuma, formData.fuma_desc)}\r\n                        ${renderBooleanField('Diabético?', formData.diabetico, formData.diabetico_desc)}\r\n                        ${renderBooleanField('Quando se corta, sangra muito?', formData.corte_sangra, formData.corte_sang_desc)}\r\n                        ${renderBooleanField('Tem problema cardíaco?', formData.prob_cardiaco, formData.prob_card_desc)}\r\n                        ${renderBooleanField('Dores de cabeça?', formData.dores_cabeca, formData.dores_cabeca_desc)}\r\n                        ${renderBooleanField('Já teve desmaios ou ataques?', formData.desmaio_ataques, formData.desmaio_atq_desc)}\r\n                        ${renderBooleanField('Tem pressão arterial alterada?', formData.pressao_art, formData.pressao_art_desc)}\r\n                    </div>\r\n                </body>\r\n                </html>\r\n        `;\r\n\r\n        const printWindow = window.open('', '_blank', 'width=800,height=600');\r\n            printWindow.document.open();\r\n            printWindow.document.write(printHtml);\r\n            printWindow.document.close();\r\n            printWindow.focus();\r\n            printWindow.print();\r\n            printWindow.close();\r\n        };\r\n\r\n        const handleFinalSave = async () => {\r\n            setIsSaving(true);\r\n            const success = await onSave();\r\n            setIsSaving(false);\r\n            if (success) {\r\n            showToast('Paciente e anamnese cadastrados com sucesso!', 'success'); \r\n            navigate('/pacientes');\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"registro-tela registro-concluido\">\r\n            \r\n            <div className=\"icon-success\"><FontAwesomeIcon icon={faCheck} /></div>\r\n            <h2 className=\"section-title\" style={{ color: '#000', fontSize: '1.5rem', marginBottom: '1rem' }}>\r\n            Cadastro Concluído!\r\n            </h2>\r\n            <p style={{ color: '#555', fontSize: '1rem', marginBottom: '2rem' }}>\r\n            Os dados do paciente e a anamnese foram preenchidos.\r\n            </p>\r\n            \r\n            <button \r\n            onClick={handlePrint} \r\n            className=\"imprimir-button\"\r\n                    disabled={isSaving}\r\n            title=\"Gera uma versão para impressão da ficha de anamnese.\"\r\n            >\r\n            <FontAwesomeIcon icon={faPrint} /> \r\n                    Imprimir Anamnese\r\n            </button>\r\n\r\n            <div className=\"form-actions\">\r\n            <button \r\n            type=\"button\" \r\n            className=\"button-secondary\" \r\n            onClick={onBack} \r\n            disabled={isSaving}\r\n            title=\"Voltar para a etapa anterior (Anamnese 2).\"\r\n            >\r\n            Voltar\r\n            </button>\r\n            <button \r\n            type=\"button\" \r\n            className=\"button-primary\" \r\n            onClick={handleFinalSave} \r\n            disabled={isSaving}\r\n            title=\"Salva permanentemente o paciente e a anamnese no sistema.\"\r\n            >\r\n            {isSaving ? 'Salvando...' : 'Salvar e Concluir'}\r\n            </button>\r\n            </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    function RegistroPacientes() {\r\n    const [step, setStep] = useState(1);\r\n    const [formData, setFormData] = useState({});\r\n    const { showToast } = useToast();\r\n    const navigate = useNavigate();\r\n    const [isAjudaOpen, setIsAjudaOpen] = useState(false);\r\n\r\n    const handleNext = () => setStep(prevStep => prevStep + 1);\r\n    const handleBack = () => setStep(prevStep => prevStep - 1);\r\n\r\n    const handleInputChange = (e) => {\r\n         const { name, value, type, checked } = e.target;\r\n         const finalValue = type === 'checkbox' ? checked : value;\r\n\r\n         setFormData(prevData => {\r\n             const newData = { ...prevData, [name]: finalValue };\r\n\r\n             if (name === 'uf') {\r\n               newData.cidade = ''; \r\n            }\r\n            return newData;\r\n        });\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        console.log('handleSave iniciado. Dados atuais:', formData);\r\n        try {\r\n        const token = localStorage.getItem('access_token');\r\n        if (!token) {\r\n            showToast('Token de autenticação não encontrado. Faça login novamente.', 'error');\r\n            navigate('/');\r\n            return false; \r\n        }\r\n        \r\n        const pacienteData = {\r\n            nome: formData.nome,\r\n            cpf: formData.cpf,\r\n            data_nasc: formData.data_nasc,\r\n            telefone: formData.telefone || null,\r\n            logradouro: formData.logradouro,\r\n            email: formData.email || null,\r\n            cidade_id: parseInt(formData.cidade, 10) || null,\r\n        };\r\n\r\n        if (!pacienteData.nome || !pacienteData.cpf || !pacienteData.data_nasc || !pacienteData.cidade_id || !pacienteData.logradouro) {\r\n            showToast(\"Erro: Dados Pessoais obrigatórios estão faltando.\", 'error');\r\n            setStep(1); \r\n            return false;\r\n        }\r\n        \r\n        let pacienteResponse;\r\n        try {\r\n            pacienteResponse = await axios.post(`${API_BASE_URL}/api/pacientes/`, pacienteData, {\r\n            headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            console.log(\"Paciente salvo com sucesso:\", pacienteResponse.data);\r\n        } catch (pacienteError) {\r\n            const errorMsg = pacienteError.response?.data ? JSON.stringify(pacienteError.response.data) : pacienteError.message;\r\n            showToast(`Erro ao salvar dados do paciente: ${errorMsg}`, 'error');\r\n            console.error('Erro ao salvar paciente:', pacienteError.response || pacienteError);\r\n            return false;\r\n        }\r\n        \r\n        const novoPacienteId = pacienteResponse.data.id_paciente;\r\n        const anamneseData = {\r\n            paciente: novoPacienteId, \r\n            data_anamnese: new Date().toISOString().split('T')[0],\r\n            motivo_consulta: formData.motivo_consulta,\r\n            ultimo_trat: formData.ultimo_trat,\r\n            trat_medico: formData.trat_medico || false,\r\n            trat_med_desc: formData.trat_medico ? (formData.trat_med_desc || null) : null,\r\n            medicamento: formData.medicamento || false,\r\n            medicamento_desc: formData.medicamento ? (formData.medicamento_desc || null) : null,\r\n            reacao_anestesia: formData.reacao_anestesia || false,\r\n            reacao_anest_desc: formData.reacao_anestesia ? (formData.reacao_anest_desc || null) : null,\r\n            sensi_dentes: formData.sensi_dentes || false,\r\n            sensi_dentes_desc: formData.sensi_dentes ? (formData.sensi_dentes_desc || null) : null,\r\n            range_apertamento: formData.range_apertamento || false,\r\n            range_apert_desc: formData.range_apertamento ? (formData.range_apert_desc || null) : null,\r\n            gengiva_sangra: formData.gengiva_sangra || false,\r\n            gengiva_sang_desc: formData.gengiva_sangra ? (formData.gengiva_sang_desc || null) : null,\r\n            fuma: formData.fuma || false,\r\n            fuma_desc: formData.fuma ? (formData.fuma_desc || null) : null,\r\n            diabetico: formData.diabetico || false,\r\n            diabetico_desc: formData.diabetico ? (formData.diabetico_desc || null) : null,\r\n            corte_sangra: formData.corte_sangra || false,\r\n            corte_sang_desc: formData.corte_sangra ? (formData.corte_sang_desc || null) : null,\r\n            prob_cardiaco: formData.prob_cardiaco || false,\r\n            prob_card_desc: formData.prob_cardiaco ? (formData.prob_card_desc || null) : null,\r\n            dores_cabeca: formData.dores_cabeca || false,\r\n            dores_cabeca_desc: formData.dores_cabeca ? (formData.dores_cabeca_desc || null) : null,\r\n            desmaio_ataques: formData.desmaio_ataques || false,\r\n            desmaio_atq_desc: formData.desmaio_ataques ? (formData.desmaio_atq_desc || null) : null,\r\n            pressao_art: formData.pressao_art || false,\r\n            pressao_art_desc: formData.pressao_art ? (formData.pressao_art_desc || null) : null,\r\n        };\r\n\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/api/anamneses/`, anamneseData, {\r\n            headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            console.log(\"Anamnese salva com sucesso.\");\r\n        } catch (anamneseError) {\r\n            const errorMsg = anamneseError.response?.data ? JSON.stringify(anamneseError.response.data) : anamneseError.message;\r\n            showToast(`Erro ao salvar anamnese: ${errorMsg}`, 'error');\r\n            console.error('Erro ao salvar anamnese:', anamneseError.response || anamneseError);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n        \r\n        } catch (err) { \r\n        if (err.response && err.response.status === 401) {\r\n            showToast('Sua sessão expirou. Faça login novamente.', 'error');\r\n            navigate('/');\r\n        } else {\r\n            showToast(`Erro inesperado durante o salvamento: ${err.message}`, 'error');\r\n            console.error('Erro geral em handleSave:', err);\r\n        }\r\n        return false;\r\n        }\r\n    };\r\n\r\n    const renderStep = () => {\r\n        switch (step) {\r\n        case 1:\r\n            return <DadosPessoais onNext={handleNext} data={formData} onChange={handleInputChange} showToast={showToast} />;\r\n        case 2:\r\n            return <Anamnese1 onNext={handleNext} onBack={handleBack} data={formData} onChange={handleInputChange} showToast={showToast} />;\r\n        case 3:\r\n            return <Anamnese2 onNext={handleNext} onBack={handleBack} data={formData} onChange={handleInputChange} showToast={showToast} />;\r\n        case 4:\r\n            return <Concluido formData={formData} onSave={handleSave} onBack={handleBack} showToast={showToast} />;\r\n        default:\r\n            return <div>Etapa desconhecida</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"pacientes-container\">\r\n        <Breadcrumbs step={step} />\r\n        {renderStep()}\r\n        <button \r\n                className=\"floating-help-button\" \r\n                onClick={() => setIsAjudaOpen(true)}\r\n                title=\"Ajuda sobre o cadastro de pacientes\"\r\n            >\r\n                <FontAwesomeIcon icon={faQuestionCircle} />\r\n            </button>\r\n\r\n            <Modal\r\n                isOpen={isAjudaOpen}\r\n                onClose={() => setIsAjudaOpen(false)}\r\n                titulo=\"Ajuda - Cadastro de Paciente\"\r\n                footer={\r\n                <button \r\n                    className=\"modal-button modal-button-secondary\" \r\n                    onClick={() => setIsAjudaOpen(false)}\r\n                >\r\n                    Fechar\r\n                </button>\r\n                }\r\n            >\r\n                <p>Esta tela guia você pelo cadastro de um novo paciente em 4 etapas:</p>\r\n                <ul style={{ paddingLeft: '20px', lineHeight: '1.6' }}>\r\n                <li>\r\n                    <strong>Dados Pessoais:</strong> Informações básicas de cadastro e contato. Campos com * (asterisco) são obrigatórios.\r\n                </li>\r\n                <li>\r\n                    <strong>Anamnese 1 e 2:</strong> Questionário de saúde. Os campos \"Motivo da consulta\" e \"Último tratamento\" são obrigatórios. Nas demais perguntas (checkboxes), a descrição se torna obrigatória caso a opção seja marcada (selecionada).\r\n                </li>\r\n                <li>\r\n                    <strong>Concluir e Salvar:</strong> Permite salvar o paciente no sistema e imprimir a ficha de anamnese.\r\n                </li>\r\n                </ul>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RegistroPacientes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}