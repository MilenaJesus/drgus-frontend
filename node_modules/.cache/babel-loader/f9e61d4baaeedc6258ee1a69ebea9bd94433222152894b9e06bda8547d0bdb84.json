{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\milen\\\\Desktop\\\\4\\xBA ano\\\\projeto\\\\ProjetoDrGus\\\\frontend\\\\src\\\\paginas\\\\Agenda.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport './Agenda.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight, faPlus, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\nimport { useNavigate } from 'react-router-dom';\nimport { format, parseISO, isSameDay, startOfDay, isBefore, subDays, startOfMonth, endOfMonth, startOfWeek, endOfWeek, eachDayOfInterval, addMonths, subMonths, isToday, getDay } from 'date-fns';\nimport ptBR from 'date-fns/locale/pt-BR';\nimport Modal from '../componentes/Modal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nconst getNomeConsulta = (consulta, pacientes = []) => {\n  if (consulta.paciente && typeof consulta.paciente === 'object' && consulta.paciente.nome) {\n    return consulta.paciente.nome;\n  }\n  if (typeof consulta.paciente === 'number') {\n    const pacienteObj = pacientes.find(p => p.id_paciente === consulta.paciente);\n    if (pacienteObj) return pacienteObj.nome;\n  }\n  if (consulta.nome_paciente_temp) {\n    return `${consulta.nome_paciente_temp} (Não Cad.)`;\n  }\n  return 'Paciente Indefinido';\n};\nconst capitalize = s => {\n  if (typeof s !== 'string') return \"\";\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\nconst getDayName = dayIndex => {\n  const days = ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'];\n  return days[dayIndex];\n};\nconst getWeekDays = date => {\n  const weekStartsOn = 1; // Segunda-feira\n  const start = startOfWeek(date, {\n    weekStartsOn,\n    locale: ptBR\n  });\n  const weekDays = eachDayOfInterval({\n    start: start,\n    end: endOfWeek(date, {\n      weekStartsOn,\n      locale: ptBR\n    })\n  });\n  return weekDays;\n};\nconst horariosExcluidos = ['11:30', '12:00', '12:30', '13:00'];\nconst horarios = Array.from({\n  length: 20\n}, (_, i) => {\n  const hora = 8 + Math.floor(i / 2);\n  const minuto = i % 2 === 0 ? '00' : '30';\n  return `${hora.toString().padStart(2, '0')}:${minuto}`;\n}).filter(horario => {\n  return !horariosExcluidos.includes(horario);\n});\nconst getDaysInMonthGrid = date => {\n  const start = startOfMonth(date);\n  const end = endOfMonth(date);\n  const startDate = startOfWeek(start, {\n    weekStartsOn: 0,\n    locale: ptBR\n  });\n  const endDate = endOfWeek(end, {\n    weekStartsOn: 0,\n    locale: ptBR\n  });\n  return eachDayOfInterval({\n    start: startDate,\n    end: endDate\n  });\n};\nfunction Agenda() {\n  _s();\n  const [agendamentos, setAgendamentos] = useState([]);\n  const [view, setView] = useState('semanal');\n  const [dataAtual, setDataAtual] = useState(new Date());\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n  const [isUnregisteredPatient, setIsUnregisteredPatient] = useState(false);\n  const [unregisteredPatientName, setUnregisteredPatientName] = useState(\"\");\n  const [novoAgendamento, setNovoAgendamento] = useState({\n    paciente: \"\",\n    data_consulta: \"\",\n    horario_consulta: \"\"\n  });\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [selectedAgendamento, setSelectedAgendamento] = useState(null);\n  const [selectedPaciente, setSelectedPaciente] = useState(null);\n  const [newStatus, setNewStatus] = useState(\"\");\n  const [pacientes, setPacientes] = useState([]);\n  const navigate = useNavigate();\n  const [modalView, setModalView] = useState('details');\n  const [isAjudaOpen, setIsAjudaOpen] = useState(false);\n  const minDate = format(new Date(), 'yyyy-MM-dd');\n  const todayStartOfDay = startOfDay(new Date());\n  const toggleUnregistered = () => {\n    setIsUnregisteredPatient(prev => !prev);\n    setUnregisteredPatientName(\"\");\n    setNovoAgendamento(prev => ({\n      ...prev,\n      paciente: \"\"\n    }));\n  };\n  const fetchAgendamentos = useCallback(async () => {\n    setError(null);\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) throw new Error('Token de autenticação não encontrado.');\n      const response = await axios.get(`${API_BASE_URL}/api/agendamentos/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      let agendamentosData = response.data.results || response.data || [];\n      if (!Array.isArray(agendamentosData)) {\n        console.error(\"API não retornou um array:\", agendamentosData);\n        agendamentosData = [];\n        setError('Formato de dados inesperado da API.');\n      }\n      setAgendamentos(agendamentosData);\n    } catch (err) {\n      if (err.response && err.response.status === 401) {\n        console.error('Sua sessão expirou. Redirecionando para login.');\n        navigate('/login');\n      } else {\n        setError('Não foi possível carregar os agendamentos.');\n        console.error('Erro ao buscar agendamentos:', err);\n      }\n    }\n  }, [navigate]);\n  const fetchPacientes = useCallback(async () => {\n    setError(null);\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) throw new Error('Token de autenticação não encontrado.');\n      const response = await axios.get(`${API_BASE_URL}/api/pacientes/lookup/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setPacientes(response.data.results || response.data || []);\n    } catch (err) {\n      console.error('Erro pacientes:', err);\n      setError(\"Falha ao carregar pacientes\");\n    }\n  }, []);\n  useEffect(() => {\n    setLoading(true);\n    const initData = async () => {\n      await Promise.all([fetchAgendamentos(), fetchPacientes()]);\n      setLoading(false);\n    };\n    initData();\n  }, [fetchAgendamentos, fetchPacientes]);\n  const handleNavegacao = diasOuMeses => {\n    let novaData = new Date(dataAtual);\n    if (view === 'mensal') {\n      if (diasOuMeses > 0) {\n        novaData = addMonths(dataAtual, 1);\n      } else {\n        novaData = subMonths(dataAtual, 1);\n      }\n    } else if (view === 'semanal') {\n      novaData.setDate(dataAtual.getDate() + diasOuMeses);\n    } else {\n      novaData.setDate(dataAtual.getDate() + (diasOuMeses > 0 ? 1 : -1));\n    }\n    setDataAtual(novaData);\n  };\n  const isPrevDisabled = () => {\n    const today = startOfDay(new Date());\n    if (view === 'mensal') {\n      return isBefore(startOfMonth(subMonths(dataAtual, 1)), startOfMonth(today));\n    } else if (view === 'semanal') {\n      return isBefore(startOfDay(subDays(dataAtual, 7)), today);\n    } else {\n      return isBefore(startOfDay(subDays(dataAtual, 1)), today);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNovoAgendamento(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSubmitAgendamento = async e => {\n    e.preventDefault();\n    const userId = localStorage.getItem('user_id');\n    if (!userId) {\n      alert(\"Erro: ID do usuário não encontrado. Faça login novamente.\");\n      return;\n    }\n    let agendamentoData = {\n      data_consulta: novoAgendamento.data_consulta,\n      horario_consulta: novoAgendamento.horario_consulta,\n      observacoes: novoAgendamento.observacoes || null,\n      usuario: parseInt(userId)\n    };\n    if (isUnregisteredPatient) {\n      if (!unregisteredPatientName.trim()) {\n        alert('Por favor, insira o nome do paciente não cadastrado.');\n        return;\n      }\n      agendamentoData.nome_paciente_temp = unregisteredPatientName.trim();\n      agendamentoData.paciente = null;\n    } else {\n      if (!novoAgendamento.paciente) {\n        alert('Por favor, selecione um paciente cadastrado.');\n        return;\n      }\n      agendamentoData.paciente = parseInt(novoAgendamento.paciente);\n      agendamentoData.nome_paciente_temp = null;\n    }\n    const dataConsulta = parseISO(novoAgendamento.data_consulta);\n    if (getDay(dataConsulta) === 0 || getDay(dataConsulta) === 6) {\n      alert('Não é possível agendar consultas aos Sábados ou Domingos.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('access_token');\n      await axios.post(`${API_BASE_URL}/api/agendamentos/`, agendamentoData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      alert('Consulta agendada com sucesso!');\n      setIsUnregisteredPatient(false);\n      setUnregisteredPatientName(\"\");\n      setShowForm(false);\n      fetchAgendamentos();\n    } catch (err) {\n      let errorMessage = \"Ocorreu um erro desconhecido.\";\n      if (err.response && err.response.data) {\n        const responseData = err.response.data;\n        if (responseData.non_field_errors) {\n          errorMessage = responseData.non_field_errors.join(' ');\n        } else if (responseData.detail) {\n          errorMessage = responseData.detail;\n        } else if (typeof responseData === 'object') {\n          const firstKey = Object.keys(responseData)[0];\n          errorMessage = Array.isArray(responseData[firstKey]) ? `${firstKey}: ${responseData[firstKey].join(' ')}` : `${firstKey}: ${responseData[firstKey]}`;\n        } else {\n          errorMessage = JSON.stringify(err.response.data);\n        }\n      } else {\n        errorMessage = err.message;\n      }\n      alert(`Erro ao criar agendamento: ${errorMessage}`);\n    }\n  };\n  const weekDays = useMemo(() => getWeekDays(dataAtual), [dataAtual]);\n  const monthDays = useMemo(() => getDaysInMonthGrid(dataAtual), [dataAtual]);\n  const handleAppointmentClick = agendamento => {\n    const paciente = pacientes.find(p => p.id_paciente === agendamento.paciente);\n    setSelectedAgendamento(agendamento);\n    setSelectedPaciente(paciente);\n    setNewStatus(agendamento.status || 'pendente');\n    setModalView('details');\n    setShowDetailModal(true);\n  };\n  const handleSaveStatus = async () => {\n    if (!selectedAgendamento || !newStatus) return;\n    try {\n      const token = localStorage.getItem('access_token');\n      const agendamentoId = selectedAgendamento.id_consulta;\n      const response = await axios.patch(`${API_BASE_URL}/api/agendamentos/${agendamentoId}/`, {\n        status: newStatus\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setAgendamentos(prevAgendamentos => prevAgendamentos.map(ag => ag.id_consulta === agendamentoId ? response.data : ag));\n      setShowDetailModal(false);\n      setSelectedAgendamento(null);\n      setSelectedPaciente(null);\n    } catch (err) {\n      var _err$response;\n      console.error(\"Erro ao atualizar o status:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n    }\n  };\n  const handleDeleteAppointment = async () => {\n    if (!selectedAgendamento) return;\n    try {\n      const token = localStorage.getItem('access_token');\n      const agendamentoId = selectedAgendamento.id_consulta;\n      await axios.delete(`${API_BASE_URL}/api/agendamentos/${agendamentoId}/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setAgendamentos(prevAgendamentos => prevAgendamentos.filter(ag => ag.id_consulta !== agendamentoId));\n      setShowDetailModal(false);\n      setSelectedAgendamento(null);\n      setSelectedPaciente(null);\n    } catch (err) {\n      var _err$response2;\n      console.error(\"Erro ao excluir a consulta:\", ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || err.message);\n    }\n  };\n  const handleCellClick = (day, hora) => {\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\n    const slotTime = new Date(day);\n    slotTime.setHours(slotHour, slotMinute, 0, 0);\n    const now = new Date();\n    if (getDay(day) === 0 || getDay(day) === 6) {\n      return;\n    }\n    if (isBefore(slotTime, now)) {\n      return;\n    }\n    const dataFormatada = format(day, 'yyyy-MM-dd');\n    const horaFormatada = hora.substring(0, 5);\n    setNovoAgendamento(prevState => ({\n      ...prevState,\n      data_consulta: dataFormatada,\n      horario_consulta: horaFormatada,\n      paciente: \"\"\n    }));\n    setShowForm(true);\n  };\n  const renderHeaders = () => {\n    if (view === 'semanal') {\n      return weekDays.map(day => /*#__PURE__*/_jsxDEV(\"th\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: capitalize(getDayName(getDay(day)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-number\",\n          children: format(day, 'dd', {\n            locale: ptBR\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, day.toISOString(), true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this));\n    } else {\n      const dayToShow = dataAtual;\n      return /*#__PURE__*/_jsxDEV(\"th\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: capitalize(getDayName(getDay(dayToShow)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-number\",\n          children: format(dayToShow, 'dd', {\n            locale: ptBR\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, dayToShow.toISOString(), true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const renderCells = hora => {\n    const daysToRender = view === 'semanal' ? weekDays : [dataAtual];\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\n    const now = new Date();\n    return daysToRender.map(day => {\n      const slotStart = new Date(day);\n      slotStart.setHours(slotHour, slotMinute, 0, 0);\n      const slotEnd = new Date(slotStart);\n      slotEnd.setMinutes(slotStart.getMinutes() + 30);\n      const agendamento = agendamentos.find(ag => {\n        const agendamentoDate = parseISO(ag.data_consulta);\n        const [agHour, agMinute] = ag.horario_consulta.split(':').map(Number);\n        const agendamentoTime = new Date(agendamentoDate);\n        agendamentoTime.setHours(agHour, agMinute, 0, 0);\n        return isSameDay(agendamentoDate, day) && agendamentoTime >= slotStart && agendamentoTime < slotEnd;\n      });\n      const isPastSlot = isBefore(slotStart, now);\n      const isSunday = getDay(day) === 0;\n      const isSaturday = getDay(day) === 6;\n      const isClickable = !agendamento && !isPastSlot && !isSunday && !isSaturday;\n      return /*#__PURE__*/_jsxDEV(\"td\", {\n        onClick: isClickable ? () => handleCellClick(day, hora) : null,\n        className: !agendamento ? isPastSlot || isSunday || isSaturday ? 'cell-past' : 'cell-empty' : 'cell-filled',\n        children: [agendamento && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `appointment-cell status-${agendamento.status || 'pendente'}`,\n          onClick: e => {\n            e.stopPropagation();\n            handleAppointmentClick(agendamento);\n          },\n          title: `Clique para ver detalhes de: ${getNomeConsulta(agendamento, pacientes)}`,\n          children: [agendamento.horario_consulta.substring(0, 5), \" -\", getNomeConsulta(agendamento, pacientes)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), !agendamento && (isSunday || isSaturday) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell-closed-text\",\n          children: \"Fechado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 56\n        }, this), !agendamento && isPastSlot && !isSunday && !isSaturday && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell-past-text\",\n          children: \"Encerrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 70\n        }, this)]\n      }, `${day.toISOString()}-${hora}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  const renderMonthlyView = () => {\n    const appointmentsByDay = agendamentos.reduce((acc, ag) => {\n      const dateKey = format(parseISO(ag.data_consulta), 'yyyy-MM-dd');\n      acc[dateKey] = (acc[dateKey] || 0) + 1;\n      return acc;\n    }, {});\n    const startOfCurrentMonth = startOfMonth(dataAtual);\n    const endOfCurrentMonth = endOfMonth(dataAtual);\n    const weekDaysNames = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monthly-grid-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"month-header-row\",\n        children: weekDaysNames.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"month-day-name\",\n          children: capitalize(day)\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"month-days-grid\",\n        children: monthDays.map(day => {\n          const dateKey = format(day, 'yyyy-MM-dd');\n          const isCurrentMonth = day >= startOfCurrentMonth && day <= endOfCurrentMonth;\n          const isPastDay = isBefore(startOfDay(day), todayStartOfDay);\n          const isTodayMark = isToday(day);\n          const appointmentCount = appointmentsByDay[dateKey] || 0;\n          let dayClasses = 'month-day-cell';\n          if (!isCurrentMonth) dayClasses += ' outside-month';\n          if (isPastDay) dayClasses += ' cell-past-monthly';\n          if (isTodayMark) dayClasses += ' is-today';\n          const isSunday = getDay(day) === 0;\n          const isSaturday = getDay(day) === 6;\n          const isClickable = isCurrentMonth && !isPastDay && !isSunday && !isSaturday;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: dayClasses,\n            onClick: () => {\n              if (isClickable) {\n                setDataAtual(day);\n                setView('diaria');\n              }\n            },\n            title: isClickable ? \"Ver detalhes do dia\" : isSunday || isSaturday ? \"Fechado\" : \"Dia passado\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"day-number-monthly\",\n              children: format(day, 'd')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this), isCurrentMonth && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"monthly-status-footer\",\n              children: appointmentCount > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"appointment-count\",\n                children: [appointmentCount, \" \", appointmentCount === 1 ? 'consulta' : 'consultas']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 23\n              }, this) : isSunday || isSaturday ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cell-closed-text\",\n                children: \"Fechado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 25\n              }, this) : isPastDay ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cell-past-text\",\n                children: \"Encerrado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-appointment-label\",\n                children: \"Livre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 19\n            }, this)]\n          }, dateKey, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this);\n  };\n  const formatAndCapitalizeHeader = (date, view) => {\n    if (view === 'semanal') {\n      const weekStartsOn = 1;\n      const start = startOfWeek(date, {\n        weekStartsOn,\n        locale: ptBR\n      });\n      const end = endOfWeek(date, {\n        weekStartsOn,\n        locale: ptBR\n      });\n      const startDateFormatted = format(start, 'dd/MM');\n      const endDateFormatted = format(end, 'dd/MM');\n      return `${startDateFormatted} - ${endDateFormatted}`;\n    }\n    const fullHeaderDate = format(date, \"EEEE, d 'de' MMMM 'de' yyyy\", {\n      locale: ptBR\n    });\n    return capitalize(fullHeaderDate);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-message\",\n    children: \"Carregando agenda...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 483,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"agenda-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"agenda-header-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button\",\n          onClick: () => handleNavegacao(view === 'semanal' ? -7 : view === 'mensal' ? -1 : -1),\n          disabled: isPrevDisabled(),\n          title: view === 'mensal' ? \"Mês anterior\" : view === 'semanal' ? \"Semana anterior\" : \"Dia anterior\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faChevronLeft\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"current-display-date\",\n          children: view === 'mensal' ? capitalize(format(dataAtual, 'MMMM yyyy', {\n            locale: ptBR\n          })) : formatAndCapitalizeHeader(dataAtual, view)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button\",\n          onClick: () => handleNavegacao(view === 'semanal' ? 7 : view === 'mensal' ? 1 : 1),\n          title: view === 'mensal' ? \"Próximo mês\" : view === 'semanal' ? \"Próxima semana\" : \"Próximo dia\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faChevronRight\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"novo-agendamento-button\",\n        onClick: () => setShowForm(true),\n        title: \"Adicionar uma nova consulta na agenda\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faPlus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this), \" Nova consulta\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 17\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowForm(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nova-consulta-card\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Nova Consulta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitAgendamento,\n          className: \"nova-consulta-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-compact\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-label-with-action\",\n              style: {\n                display: 'block'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"paciente\",\n                children: \"Nome do Paciente:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"link-button\",\n                onClick: toggleUnregistered,\n                title: isUnregisteredPatient ? \"Selecionar Paciente Cadastrado\" : \"Habilitar nome manual\",\n                style: {\n                  paddingLeft: '0',\n                  textDecoration: 'underline',\n                  marginTop: '2px'\n                },\n                children: isUnregisteredPatient ? '<< Usar Lista de Cadastrados' : 'Agendar paciente não cadastrado'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this), isUnregisteredPatient ? /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"unregistered_paciente_name\",\n              name: \"unregistered_paciente_name\",\n              value: unregisteredPatientName,\n              onChange: e => setUnregisteredPatientName(e.target.value),\n              className: \"input-field\",\n              placeholder: \"Digite o nome do paciente...\",\n              required: true,\n              title: \"Nome do paciente que n\\xE3o possui cadastro.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"paciente\",\n              name: \"paciente\",\n              value: novoAgendamento.paciente,\n              onChange: handleInputChange,\n              className: \"input-field\",\n              required: true,\n              title: \"Selecione um paciente j\\xE1 cadastrado.\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Selecione um paciente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this), pacientes.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: p.id_paciente,\n                children: p.nome\n              }, p.id_paciente, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 42\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group-compact\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"data_consulta\",\n                children: \"Data: *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"data_consulta\",\n                name: \"data_consulta\",\n                value: novoAgendamento.data_consulta,\n                onChange: handleInputChange,\n                className: \"input-field\",\n                required: true,\n                min: minDate,\n                title: \"Data da consulta.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group-compact\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"horario_consulta\",\n                children: \"Hora: *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"horario_consulta\",\n                name: \"horario_consulta\",\n                value: novoAgendamento.horario_consulta,\n                onChange: handleInputChange,\n                className: \"input-field\",\n                required: true,\n                title: \"Hor\\xE1rio da consulta.\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"--:--\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 21\n                }, this), horarios.map(hora => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: hora,\n                  children: hora\n                }, hora, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-secondary\",\n              onClick: () => setShowForm(false),\n              title: \"Cancelar e fechar\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"button-primary\",\n              title: \"Salvar a nova consulta\",\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-options\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule-options-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"horarios-text\",\n          children: view === 'mensal' ? 'Visualização Mensal' : 'Horários'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"separator-text\",\n          children: \"|\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"current-month\",\n          children: capitalize(format(dataAtual, 'MMMM', {\n            locale: ptBR\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${view === 'mensal' ? 'active' : ''}`,\n          onClick: () => setView('mensal'),\n          title: \"Alternar para visualiza\\xE7\\xE3o mensal\",\n          children: \"M\\xEAs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${view === 'semanal' ? 'active' : ''}`,\n          onClick: () => setView('semanal'),\n          title: \"Alternar para visualiza\\xE7\\xE3o semanal\",\n          children: \"Semana\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `toggle-button ${view === 'diaria' ? 'active' : ''}`,\n          onClick: () => setView('diaria'),\n          title: \"Alternar para visualiza\\xE7\\xE3o di\\xE1ria\",\n          children: \"Dia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 7\n    }, this), view === 'mensal' ? renderMonthlyView() : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-table-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"schedule-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"horario-col\",\n              children: \"Hor\\xE1rio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this), renderHeaders()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: horarios.map(hora => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"horario-col\",\n              children: hora\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 19\n            }, this), renderCells(hora)]\n          }, hora, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 9\n    }, this), view !== 'mensal' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"legend-fixed-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"legend\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator confirmado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 42\n          }, this), \" Confirmado\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator pendente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 42\n          }, this), \" Pendente\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator cancelado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 42\n          }, this), \" Cancelado\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-indicator reagendado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 42\n          }, this), \" Reagendado\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 9\n    }, this), showDetailModal && selectedAgendamento && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      onClick: () => setShowDetailModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: modalView === 'details' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Detalhes da Consulta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Paciente:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 19\n            }, this), ' ', selectedPaciente !== null && selectedPaciente !== void 0 && selectedPaciente.nome ? selectedPaciente.nome : selectedAgendamento !== null && selectedAgendamento !== void 0 && selectedAgendamento.nome_paciente_temp ? `${selectedAgendamento.nome_paciente_temp} (Não Cad.)` : 'Paciente Indefinido']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Data:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 20\n            }, this), \" \", format(parseISO(selectedAgendamento.data_consulta), 'dd/MM/yyyy')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Hora:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 20\n            }, this), \" \", selectedAgendamento.horario_consulta.substring(0, 5)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group-compact\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"status\",\n              title: \"Mude o status da consulta (Ex: de Pendente para Confirmado)\",\n              children: \"Alterar Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"status\",\n              className: \"input-field\",\n              value: newStatus,\n              onChange: e => setNewStatus(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pendente\",\n                children: \"Pendente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"confirmado\",\n                children: \"Confirmado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cancelado\",\n                children: \"Cancelado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"reagendado\",\n                children: \"Reagendado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions-footer\",\n            style: {\n              justifyContent: 'space-between',\n              marginTop: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-danger\",\n              onClick: () => setModalView('confirmDelete'),\n              title: \"Excluir esta consulta permanentemente\",\n              children: \"Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"button-secondary\",\n                onClick: () => setShowDetailModal(false),\n                title: \"Fechar esta janela\",\n                children: \"Fechar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"button-primary\",\n                onClick: handleSaveStatus,\n                style: {\n                  marginLeft: '10px'\n                },\n                title: \"Salvar o novo status desta consulta\",\n                children: \"Salvar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Confirmar Exclus\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Tem certeza que deseja excluir esta consulta?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '0.9rem',\n              color: '#666'\n            },\n            children: \"Esta a\\xE7\\xE3o n\\xE3o pode ser desfeita.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions-footer\",\n            style: {\n              justifyContent: 'flex-end',\n              marginTop: '2rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-secondary\",\n              onClick: () => setModalView('details'),\n              title: \"N\\xE3o excluir e voltar\",\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"button-danger\",\n              onClick: handleDeleteAppointment,\n              style: {\n                marginLeft: '10px'\n              },\n              title: \"Confirmar exclus\\xE3o\",\n              children: \"Sim, Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"floating-help-button\",\n      onClick: () => setIsAjudaOpen(true),\n      title: \"Ajuda sobre esta p\\xE1gina\",\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faQuestionCircle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 750,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isAjudaOpen,\n      onClose: () => setIsAjudaOpen(false),\n      titulo: \"Ajuda - Agenda\",\n      footer: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-button modal-button-secondary\",\n        onClick: () => setIsAjudaOpen(false),\n        title: \"Fechar esta janela.\",\n        children: \"Fechar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 11\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Esta \\xE9 a sua agenda. Por padr\\xE3o, ela bloqueia agendamentos em dias passados, S\\xE1bados e Domingos.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          paddingLeft: '20px',\n          lineHeight: '1.6'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Navega\\xE7\\xE3o:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 13\n          }, this), \" Use as setas (\\u276E \\u276F) para mudar o dia, semana ou m\\xEAs.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Vis\\xF5es:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 13\n          }, this), \" Alterne entre as visualiza\\xE7\\xF5es \\\"M\\xEAs\\\", \\\"Semana\\\" e \\\"Dia\\\" no canto superior direito.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Agendar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 13\n          }, this), \" Clique em um hor\\xE1rio vago (na vis\\xE3o de Semana ou Dia) ou em um dia livre (na vis\\xE3o de M\\xEAs) para abrir o formul\\xE1rio de \\\"Nova Consulta\\\".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Pacientes N\\xE3o Cadastrados:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 13\n          }, this), \" No formul\\xE1rio de \\\"Nova Consulta\\\", voc\\xEA pode usar o link \\\"(Paciente n\\xE3o cadastrado)\\\" para digitar o nome de um paciente que apenas ligou.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Ver Detalhes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 13\n          }, this), \" Clique em um agendamento j\\xE1 existente na grade para ver seus detalhes, alterar o status (ex: Pendente para Confirmado) ou excluir a consulta.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 773,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 758,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 486,\n    columnNumber: 5\n  }, this);\n}\n_s(Agenda, \"2fRA4HsLtHE8MV2qkBuxYLpO1Rw=\", false, function () {\n  return [useNavigate];\n});\n_c = Agenda;\nexport default Agenda;\nvar _c;\n$RefreshReg$(_c, \"Agenda\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","FontAwesomeIcon","faChevronLeft","faChevronRight","faPlus","faQuestionCircle","useNavigate","format","parseISO","isSameDay","startOfDay","isBefore","subDays","startOfMonth","endOfMonth","startOfWeek","endOfWeek","eachDayOfInterval","addMonths","subMonths","isToday","getDay","ptBR","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","getNomeConsulta","consulta","pacientes","paciente","nome","pacienteObj","find","p","id_paciente","nome_paciente_temp","capitalize","s","charAt","toUpperCase","slice","getDayName","dayIndex","days","getWeekDays","date","weekStartsOn","start","locale","weekDays","end","horariosExcluidos","horarios","Array","from","length","_","i","hora","Math","floor","minuto","toString","padStart","filter","horario","includes","getDaysInMonthGrid","startDate","endDate","Agenda","_s","agendamentos","setAgendamentos","view","setView","dataAtual","setDataAtual","Date","loading","setLoading","error","setError","showForm","setShowForm","isUnregisteredPatient","setIsUnregisteredPatient","unregisteredPatientName","setUnregisteredPatientName","novoAgendamento","setNovoAgendamento","data_consulta","horario_consulta","showDetailModal","setShowDetailModal","selectedAgendamento","setSelectedAgendamento","selectedPaciente","setSelectedPaciente","newStatus","setNewStatus","setPacientes","navigate","modalView","setModalView","isAjudaOpen","setIsAjudaOpen","minDate","todayStartOfDay","toggleUnregistered","prev","fetchAgendamentos","token","localStorage","getItem","Error","response","get","headers","agendamentosData","data","results","isArray","console","err","status","fetchPacientes","initData","Promise","all","handleNavegacao","diasOuMeses","novaData","setDate","getDate","isPrevDisabled","today","handleInputChange","e","name","value","target","prevState","handleSubmitAgendamento","preventDefault","userId","alert","agendamentoData","observacoes","usuario","parseInt","trim","dataConsulta","post","errorMessage","responseData","non_field_errors","join","detail","firstKey","Object","keys","JSON","stringify","message","monthDays","handleAppointmentClick","agendamento","handleSaveStatus","agendamentoId","id_consulta","patch","prevAgendamentos","map","ag","_err$response","handleDeleteAppointment","delete","_err$response2","handleCellClick","day","slotHour","slotMinute","split","Number","slotTime","setHours","now","dataFormatada","horaFormatada","substring","renderHeaders","children","fileName","_jsxFileName","lineNumber","columnNumber","className","toISOString","dayToShow","renderCells","daysToRender","slotStart","slotEnd","setMinutes","getMinutes","agendamentoDate","agHour","agMinute","agendamentoTime","isPastSlot","isSunday","isSaturday","isClickable","onClick","stopPropagation","title","renderMonthlyView","appointmentsByDay","reduce","acc","dateKey","startOfCurrentMonth","endOfCurrentMonth","weekDaysNames","isCurrentMonth","isPastDay","isTodayMark","appointmentCount","dayClasses","formatAndCapitalizeHeader","startDateFormatted","endDateFormatted","fullHeaderDate","disabled","icon","onSubmit","style","display","htmlFor","type","paddingLeft","textDecoration","marginTop","id","onChange","placeholder","required","min","justifyContent","marginLeft","fontSize","color","isOpen","onClose","titulo","footer","lineHeight","_c","$RefreshReg$"],"sources":["C:/Users/milen/Desktop/4º ano/projeto/ProjetoDrGus/frontend/src/paginas/Agenda.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport './Agenda.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faChevronRight, faPlus, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  format, parseISO, isSameDay, startOfDay, isBefore, subDays,\r\n  startOfMonth, endOfMonth, startOfWeek, endOfWeek, eachDayOfInterval,\r\n  addMonths, subMonths, isToday, getDay\r\n} from 'date-fns';\r\nimport ptBR from 'date-fns/locale/pt-BR';\r\nimport Modal from '../componentes/Modal';\r\n\r\nconst API_BASE_URL = 'http://localhost:8000';\r\n\r\nconst getNomeConsulta = (consulta, pacientes = []) => {\r\n  if (consulta.paciente && typeof consulta.paciente === 'object' && consulta.paciente.nome) {\r\n    return consulta.paciente.nome;\r\n  }\r\n  if (typeof consulta.paciente === 'number') {\r\n    const pacienteObj = pacientes.find(p => p.id_paciente === consulta.paciente);\r\n    if (pacienteObj) return pacienteObj.nome;\r\n  }\r\n  if (consulta.nome_paciente_temp) {\r\n    return `${consulta.nome_paciente_temp} (Não Cad.)`;\r\n  }\r\n  return 'Paciente Indefinido';\r\n};\r\n\r\nconst capitalize = (s) => {\r\n  if (typeof s !== 'string') return \"\";\r\n  return s.charAt(0).toUpperCase() + s.slice(1);\r\n};\r\n\r\nconst getDayName = (dayIndex) => {\r\n  const days = ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'];\r\n  return days[dayIndex];\r\n};\r\n\r\nconst getWeekDays = (date) => {\r\n  const weekStartsOn = 1; // Segunda-feira\r\n  const start = startOfWeek(date, { weekStartsOn, locale: ptBR });\r\n  const weekDays = eachDayOfInterval({\r\n    start: start,\r\n    end: endOfWeek(date, { weekStartsOn, locale: ptBR })\r\n  });\r\n  return weekDays;\r\n};\r\n\r\nconst horariosExcluidos = ['11:30', '12:00', '12:30', '13:00'];\r\nconst horarios = Array.from({ length: 20 }, (_, i) => {\r\n  const hora = 8 + Math.floor(i / 2);\r\n  const minuto = i % 2 === 0 ? '00' : '30';\r\n  return `${hora.toString().padStart(2, '0')}:${minuto}`;\r\n}).filter(horario => {\r\n  return !horariosExcluidos.includes(horario);\r\n});\r\n\r\nconst getDaysInMonthGrid = (date) => {\r\n  const start = startOfMonth(date);\r\n  const end = endOfMonth(date);\r\n  const startDate = startOfWeek(start, { weekStartsOn: 0, locale: ptBR });\r\n  const endDate = endOfWeek(end, { weekStartsOn: 0, locale: ptBR });\r\n  return eachDayOfInterval({ start: startDate, end: endDate });\r\n};\r\n\r\nfunction Agenda() {\r\n  const [agendamentos, setAgendamentos] = useState([]);\r\n  const [view, setView] = useState('semanal');\r\n  const [dataAtual, setDataAtual] = useState(new Date());\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isUnregisteredPatient, setIsUnregisteredPatient] = useState(false);\r\n  const [unregisteredPatientName, setUnregisteredPatientName] = useState(\"\");\r\n  const [novoAgendamento, setNovoAgendamento] = useState({\r\n    paciente: \"\",\r\n    data_consulta: \"\",\r\n    horario_consulta: \"\",\r\n  });\r\n  const [showDetailModal, setShowDetailModal] = useState(false);\r\n  const [selectedAgendamento, setSelectedAgendamento] = useState(null);\r\n  const [selectedPaciente, setSelectedPaciente] = useState(null);\r\n  const [newStatus, setNewStatus] = useState(\"\");\r\n  const [pacientes, setPacientes] = useState([]);\r\n  const navigate = useNavigate();\r\n  const [modalView, setModalView] = useState('details');\r\n  const [isAjudaOpen, setIsAjudaOpen] = useState(false);\r\n  \r\n  const minDate = format(new Date(), 'yyyy-MM-dd');\r\n  const todayStartOfDay = startOfDay(new Date());\r\n\r\n  const toggleUnregistered = () => {\r\n    setIsUnregisteredPatient(prev => !prev);\r\n    setUnregisteredPatientName(\"\");\r\n    setNovoAgendamento(prev => ({ ...prev, paciente: \"\" }));\r\n  };\r\n\r\n  const fetchAgendamentos = useCallback(async () => {\r\n    setError(null);\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) throw new Error('Token de autenticação não encontrado.');\r\n      const response = await axios.get(`${API_BASE_URL}/api/agendamentos/`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      let agendamentosData = response.data.results || response.data || [];\r\n      if (!Array.isArray(agendamentosData)) {\r\n        console.error(\"API não retornou um array:\", agendamentosData);\r\n        agendamentosData = [];\r\n        setError('Formato de dados inesperado da API.');\r\n      }\r\n      setAgendamentos(agendamentosData);\r\n    } catch (err) {\r\n      if (err.response && err.response.status === 401) {\r\n        console.error('Sua sessão expirou. Redirecionando para login.');\r\n        navigate('/login');\r\n      } else {\r\n        setError('Não foi possível carregar os agendamentos.');\r\n        console.error('Erro ao buscar agendamentos:', err);\r\n      }\r\n    }\r\n  }, [navigate]);\r\n\r\n  const fetchPacientes = useCallback(async () => {\r\n    setError(null);\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) throw new Error('Token de autenticação não encontrado.');\r\n      const response = await axios.get(`${API_BASE_URL}/api/pacientes/lookup/`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      setPacientes(response.data.results || response.data || []);\r\n    } catch (err) { console.error('Erro pacientes:', err); setError(\"Falha ao carregar pacientes\");}\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const initData = async () => {\r\n      await Promise.all([\r\n        fetchAgendamentos(),\r\n        fetchPacientes()\r\n      ]);\r\n      setLoading(false);\r\n    };\r\n    initData();\r\n  }, [fetchAgendamentos, fetchPacientes]);\r\n\r\n  const handleNavegacao = (diasOuMeses) => {\r\n    let novaData = new Date(dataAtual);\r\n    if (view === 'mensal') {\r\n      if (diasOuMeses > 0) {\r\n        novaData = addMonths(dataAtual, 1);\r\n      } else {\r\n        novaData = subMonths(dataAtual, 1);\r\n      }\r\n    } else if (view === 'semanal') {\r\n      novaData.setDate(dataAtual.getDate() + diasOuMeses);\r\n    } else {\r\n      novaData.setDate(dataAtual.getDate() + (diasOuMeses > 0 ? 1 : -1));\r\n    }\r\n    setDataAtual(novaData);\r\n  };\r\n\r\n  const isPrevDisabled = () => {\r\n    const today = startOfDay(new Date());\r\n    if (view === 'mensal') {\r\n      return isBefore(startOfMonth(subMonths(dataAtual, 1)), startOfMonth(today));\r\n    } else if (view === 'semanal') {\r\n      return isBefore(startOfDay(subDays(dataAtual, 7)), today);\r\n    } else {\r\n      return isBefore(startOfDay(subDays(dataAtual, 1)), today);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNovoAgendamento(prevState => ({ ...prevState, [name]: value }));\r\n  };\r\n\r\n  const handleSubmitAgendamento = async (e) => {\r\n    e.preventDefault();\r\n    const userId = localStorage.getItem('user_id');\r\n    if (!userId) {\r\n      alert(\"Erro: ID do usuário não encontrado. Faça login novamente.\");\r\n      return;\r\n    }\r\n\r\n    let agendamentoData = {\r\n      data_consulta: novoAgendamento.data_consulta,\r\n      horario_consulta: novoAgendamento.horario_consulta,\r\n      observacoes: novoAgendamento.observacoes || null,\r\n      usuario: parseInt(userId),\r\n    };\r\n\r\n    if (isUnregisteredPatient) {\r\n      if (!unregisteredPatientName.trim()) {\r\n        alert('Por favor, insira o nome do paciente não cadastrado.');\r\n        return;\r\n      }\r\n      agendamentoData.nome_paciente_temp = unregisteredPatientName.trim();\r\n      agendamentoData.paciente = null;\r\n    } else {\r\n      if (!novoAgendamento.paciente) {\r\n        alert('Por favor, selecione um paciente cadastrado.');\r\n        return;\r\n      }\r\n      agendamentoData.paciente = parseInt(novoAgendamento.paciente);\r\n      agendamentoData.nome_paciente_temp = null;\r\n    }\r\n    \r\n    const dataConsulta = parseISO(novoAgendamento.data_consulta);\r\n    if (getDay(dataConsulta) === 0 || getDay(dataConsulta) === 6) { \r\n      alert('Não é possível agendar consultas aos Sábados ou Domingos.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      await axios.post(`${API_BASE_URL}/api/agendamentos/`, agendamentoData, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      alert('Consulta agendada com sucesso!');\r\n      setIsUnregisteredPatient(false);\r\n      setUnregisteredPatientName(\"\");\r\n      setShowForm(false);\r\n      fetchAgendamentos();\r\n    } catch (err) {\r\n      let errorMessage = \"Ocorreu um erro desconhecido.\";\r\n      if (err.response && err.response.data) {\r\n        const responseData = err.response.data;\r\n        if (responseData.non_field_errors) {\r\n          errorMessage = responseData.non_field_errors.join(' ');\r\n        } else if (responseData.detail) {\r\n          errorMessage = responseData.detail;\r\n        } else if (typeof responseData === 'object') {\r\n          const firstKey = Object.keys(responseData)[0];\r\n          errorMessage = Array.isArray(responseData[firstKey]) ? `${firstKey}: ${responseData[firstKey].join(' ')}` : `${firstKey}: ${responseData[firstKey]}`;\r\n        } else {\r\n          errorMessage = JSON.stringify(err.response.data);\r\n        }\r\n      } else {\r\n        errorMessage = err.message;\r\n      }\r\n      alert(`Erro ao criar agendamento: ${errorMessage}`);\r\n    }\r\n  };\r\n\r\n  const weekDays = useMemo(() => getWeekDays(dataAtual), [dataAtual]);\r\n  const monthDays = useMemo(() => getDaysInMonthGrid(dataAtual), [dataAtual]);\r\n\r\n  const handleAppointmentClick = (agendamento) => {\r\n    const paciente = pacientes.find(p => p.id_paciente === agendamento.paciente);\r\n    setSelectedAgendamento(agendamento);\r\n    setSelectedPaciente(paciente);\r\n    setNewStatus(agendamento.status || 'pendente');\r\n    setModalView('details');\r\n    setShowDetailModal(true);\r\n  };\r\n\r\n  const handleSaveStatus = async () => {\r\n    if (!selectedAgendamento || !newStatus) return;\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      const agendamentoId = selectedAgendamento.id_consulta;\r\n      const response = await axios.patch(\r\n        `${API_BASE_URL}/api/agendamentos/${agendamentoId}/`,\r\n        { status: newStatus },\r\n        { headers: { 'Authorization': `Bearer ${token}` } }\r\n      );\r\n      setAgendamentos(prevAgendamentos =>\r\n        prevAgendamentos.map(ag =>\r\n          ag.id_consulta === agendamentoId ? response.data : ag\r\n        )\r\n      );\r\n      setShowDetailModal(false);\r\n      setSelectedAgendamento(null);\r\n      setSelectedPaciente(null);\r\n    } catch (err) {\r\n      console.error(\"Erro ao atualizar o status:\", err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAppointment = async () => {\r\n    if (!selectedAgendamento) return;\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      const agendamentoId = selectedAgendamento.id_consulta;\r\n      await axios.delete(\r\n        `${API_BASE_URL}/api/agendamentos/${agendamentoId}/`,\r\n        { headers: { 'Authorization': `Bearer ${token}` } }\r\n      );\r\n      setAgendamentos(prevAgendamentos =>\r\n        prevAgendamentos.filter(ag => ag.id_consulta !== agendamentoId)\r\n      );\r\n      setShowDetailModal(false);\r\n      setSelectedAgendamento(null);\r\n      setSelectedPaciente(null);\r\n    } catch (err) {\r\n      console.error(\"Erro ao excluir a consulta:\", err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n  const handleCellClick = (day, hora) => {\r\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\r\n    const slotTime = new Date(day);\r\n    slotTime.setHours(slotHour, slotMinute, 0, 0);\r\n    const now = new Date();\r\n    \r\n    if (getDay(day) === 0 || getDay(day) === 6) {\r\n      return; \r\n    }\r\n    if (isBefore(slotTime, now)) {\r\n      return; \r\n    }\r\n\r\n    const dataFormatada = format(day, 'yyyy-MM-dd');\r\n    const horaFormatada = hora.substring(0, 5);\r\n    setNovoAgendamento(prevState => ({\r\n      ...prevState,\r\n      data_consulta: dataFormatada,\r\n      horario_consulta: horaFormatada,\r\n      paciente: \"\",\r\n    }));\r\n    setShowForm(true);\r\n  };\r\n\r\n  const renderHeaders = () => {\r\n    if (view === 'semanal') {\r\n      return weekDays.map(day => (\r\n        <th key={day.toISOString()}>\r\n          <div>{capitalize(getDayName(getDay(day)))}</div>\r\n          <div className=\"day-number\">{format(day, 'dd', { locale: ptBR })}</div>\r\n        </th>\r\n      ));\r\n    } else {\r\n      const dayToShow = dataAtual;\r\n      return (\r\n        <th key={dayToShow.toISOString()}>\r\n          <div>{capitalize(getDayName(getDay(dayToShow)))}</div>\r\n          <div className=\"day-number\">{format(dayToShow, 'dd', { locale: ptBR })}</div>\r\n        </th>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderCells = (hora) => {\r\n    const daysToRender = view === 'semanal' ? weekDays : [dataAtual];\r\n    const [slotHour, slotMinute] = hora.split(':').map(Number);\r\n    const now = new Date();\r\n    return daysToRender.map(day => {\r\n      const slotStart = new Date(day);\r\n      slotStart.setHours(slotHour, slotMinute, 0, 0);\r\n      const slotEnd = new Date(slotStart);\r\n      slotEnd.setMinutes(slotStart.getMinutes() + 30);\r\n      \r\n      const agendamento = agendamentos.find(ag => {\r\n        const agendamentoDate = parseISO(ag.data_consulta);\r\n        const [agHour, agMinute] = ag.horario_consulta.split(':').map(Number);\r\n        const agendamentoTime = new Date(agendamentoDate);\r\n        agendamentoTime.setHours(agHour, agMinute, 0, 0);\r\n        return isSameDay(agendamentoDate, day) &&\r\n          agendamentoTime >= slotStart &&\r\n          agendamentoTime < slotEnd;\r\n      });\r\n\r\n      const isPastSlot = isBefore(slotStart, now);\r\n      const isSunday = getDay(day) === 0;\r\n      const isSaturday = getDay(day) === 6;\r\n      const isClickable = !agendamento && !isPastSlot && !isSunday && !isSaturday;\r\n\r\n      return (\r\n        <td\r\n          key={`${day.toISOString()}-${hora}`}\r\n          onClick={isClickable ? () => handleCellClick(day, hora) : null}\r\n          className={\r\n            !agendamento\r\n              ? (isPastSlot || isSunday || isSaturday ? 'cell-past' : 'cell-empty')\r\n              : 'cell-filled'\r\n          }\r\n        >\r\n          {agendamento && (\r\n            <div\r\n              className={`appointment-cell status-${agendamento.status || 'pendente'}`}\r\n              onClick={(e) => { e.stopPropagation(); handleAppointmentClick(agendamento); }}\r\n              title={`Clique para ver detalhes de: ${getNomeConsulta(agendamento, pacientes)}`}\r\n            >\r\n              {agendamento.horario_consulta.substring(0, 5)} -\r\n              {getNomeConsulta(agendamento, pacientes)}\r\n            </div>\r\n          )}\r\n          {!agendamento && (isSunday || isSaturday) && <div className=\"cell-closed-text\">Fechado</div>}\r\n          {!agendamento && isPastSlot && !isSunday && !isSaturday && <div className=\"cell-past-text\">Encerrado</div>}\r\n        </td>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderMonthlyView = () => {\r\n    const appointmentsByDay = agendamentos.reduce((acc, ag) => {\r\n      const dateKey = format(parseISO(ag.data_consulta), 'yyyy-MM-dd');\r\n      acc[dateKey] = (acc[dateKey] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n    const startOfCurrentMonth = startOfMonth(dataAtual);\r\n    const endOfCurrentMonth = endOfMonth(dataAtual);\r\n    const weekDaysNames = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'];\r\n    return (\r\n      <div className=\"monthly-grid-wrapper\">\r\n        <div className=\"month-header-row\">\r\n          {weekDaysNames.map(day => (\r\n            <div key={day} className=\"month-day-name\">{capitalize(day)}</div>\r\n          ))}\r\n        </div>\r\n        <div className=\"month-days-grid\">\r\n          {monthDays.map(day => {\r\n            const dateKey = format(day, 'yyyy-MM-dd');\r\n            const isCurrentMonth = day >= startOfCurrentMonth && day <= endOfCurrentMonth;\r\n            const isPastDay = isBefore(startOfDay(day), todayStartOfDay);\r\n            const isTodayMark = isToday(day);\r\n            const appointmentCount = appointmentsByDay[dateKey] || 0;\r\n            let dayClasses = 'month-day-cell';\r\n            if (!isCurrentMonth) dayClasses += ' outside-month';\r\n            if (isPastDay) dayClasses += ' cell-past-monthly';\r\n            if (isTodayMark) dayClasses += ' is-today';\r\n            \r\n            const isSunday = getDay(day) === 0;\r\n            const isSaturday = getDay(day) === 6;\r\n            const isClickable = isCurrentMonth && !isPastDay && !isSunday && !isSaturday;\r\n            \r\n            return (\r\n              <div\r\n                key={dateKey}\r\n                className={dayClasses}\r\n                onClick={() => {\r\n                  if (isClickable) {\r\n                    setDataAtual(day);\r\n                    setView('diaria');\r\n                  }\r\n                }}\r\n                title={isClickable ? \"Ver detalhes do dia\" : (isSunday || isSaturday ? \"Fechado\" : \"Dia passado\")}\r\n              >\r\n                <div className=\"day-number-monthly\">{format(day, 'd')}</div>\r\n                {isCurrentMonth && (\r\n                  <div className=\"monthly-status-footer\">\r\n                    {appointmentCount > 0 ? (\r\n                      <div className=\"appointment-count\">\r\n                        {appointmentCount} {appointmentCount === 1 ? 'consulta' : 'consultas'}\r\n                      </div>\r\n                    ) : (\r\n                      isSunday || isSaturday ? (\r\n                        <div className=\"cell-closed-text\">Fechado</div>\r\n                      ) : isPastDay ? (\r\n                        <div className=\"cell-past-text\">Encerrado</div>\r\n                      ) : (\r\n                        <div className=\"no-appointment-label\">Livre</div>\r\n                      )\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const formatAndCapitalizeHeader = (date, view) => {\r\n    if (view === 'semanal') {\r\n      const weekStartsOn = 1;\r\n      const start = startOfWeek(date, { weekStartsOn, locale: ptBR });\r\n      const end = endOfWeek(date, { weekStartsOn, locale: ptBR });\r\n      const startDateFormatted = format(start, 'dd/MM');\r\n      const endDateFormatted = format(end, 'dd/MM');\r\n      return `${startDateFormatted} - ${endDateFormatted}`;\r\n    }\r\n    const fullHeaderDate = format(date, \"EEEE, d 'de' MMMM 'de' yyyy\", { locale: ptBR });\r\n    return capitalize(fullHeaderDate);\r\n  };\r\n\r\n  if (loading) return <div className=\"loading-message\">Carregando agenda...</div>;\r\n  \r\n  return (\r\n    <div className=\"agenda-container\">\r\n      <div className=\"agenda-header-content\">\r\n        <div className=\"date-navigation\">\r\n          <button\r\n            className=\"nav-button\"\r\n            onClick={() => handleNavegacao(view === 'semanal' ? -7 : (view === 'mensal' ? -1 : -1))}\r\n            disabled={isPrevDisabled()}\r\n            title={view === 'mensal' ? \"Mês anterior\" : (view === 'semanal' ? \"Semana anterior\" : \"Dia anterior\")}\r\n          >\r\n            <FontAwesomeIcon icon={faChevronLeft} />\r\n          </button>\r\n          <span className=\"current-display-date\">\r\n            {view === 'mensal'\r\n              ? capitalize(format(dataAtual, 'MMMM yyyy', { locale: ptBR }))\r\n              : formatAndCapitalizeHeader(dataAtual, view)}\r\n          </span>\r\n          <button \r\n            className=\"nav-button\" \r\n            onClick={() => handleNavegacao(view === 'semanal' ? 7 : (view === 'mensal' ? 1 : 1))}\r\n            title={view === 'mensal' ? \"Próximo mês\" : (view === 'semanal' ? \"Próxima semana\" : \"Próximo dia\")}\r\n          >\r\n            <FontAwesomeIcon icon={faChevronRight} />\r\n          </button>\r\n        </div>\r\n        <button \r\n          className=\"novo-agendamento-button\" \r\n          onClick={() => setShowForm(true)}\r\n          title=\"Adicionar uma nova consulta na agenda\"\r\n        >\r\n          <FontAwesomeIcon icon={faPlus} /> Nova consulta\r\n        </button>\r\n      </div>\r\n      \r\n      {error && <p className=\"error-message\">{error}</p>}\r\n      \r\n      {showForm && (\r\n        <div className=\"modal-backdrop\" onClick={() => setShowForm(false)}>\r\n          <div className=\"nova-consulta-card\" onClick={(e) => e.stopPropagation()}>\r\n            <h3>Nova Consulta</h3>\r\n            <form onSubmit={handleSubmitAgendamento} className=\"nova-consulta-form\">\r\n              <div className=\"form-group-compact\">\r\n                <div className=\"form-label-with-action\" style={{ display: 'block' }}>\r\n                  <label htmlFor=\"paciente\">Nome do Paciente:</label>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"link-button\"\r\n                    onClick={toggleUnregistered}\r\n                    title={isUnregisteredPatient ? \"Selecionar Paciente Cadastrado\" : \"Habilitar nome manual\"}\r\n                    style={{ paddingLeft: '0', textDecoration: 'underline', marginTop: '2px' }} \r\n                  >\r\n                    {isUnregisteredPatient ? '<< Usar Lista de Cadastrados' : 'Agendar paciente não cadastrado'}\r\n                  </button>\r\n                </div>\r\n                {isUnregisteredPatient ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"unregistered_paciente_name\"\r\n                    name=\"unregistered_paciente_name\"\r\n                    value={unregisteredPatientName}\r\n                    onChange={(e) => setUnregisteredPatientName(e.target.value)}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Digite o nome do paciente...\"\r\n                    required\r\n                    title=\"Nome do paciente que não possui cadastro.\"\r\n                  />\r\n                ) : (\r\n                  <select\r\n                    id=\"paciente\"\r\n                    name=\"paciente\"\r\n                    value={novoAgendamento.paciente}\r\n                    onChange={handleInputChange}\r\n                    className=\"input-field\"\r\n                    required\r\n                    title=\"Selecione um paciente já cadastrado.\"\r\n                  >\r\n                    <option value=\"\">Selecione um paciente</option>\r\n                    {pacientes.map(p => (<option key={p.id_paciente} value={p.id_paciente}>{p.nome}</option>))}\r\n                  </select>\r\n                )}\r\n              </div>\r\n              <div className=\"form-group-inline\">\r\n                <div className=\"form-group-compact\">\r\n                  <label htmlFor=\"data_consulta\">Data: *</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    id=\"data_consulta\"\r\n                    name=\"data_consulta\"\r\n                    value={novoAgendamento.data_consulta}\r\n                    onChange={handleInputChange}\r\n                    className=\"input-field\"\r\n                    required\r\n                    min={minDate}\r\n                    title=\"Data da consulta.\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group-compact\">\r\n                  <label htmlFor=\"horario_consulta\">Hora: *</label>\r\n                  <select\r\n                    id=\"horario_consulta\"\r\n                    name=\"horario_consulta\"\r\n                    value={novoAgendamento.horario_consulta}\r\n                    onChange={handleInputChange}\r\n                    className=\"input-field\"\r\n                    required\r\n                    title=\"Horário da consulta.\"\r\n                  >\r\n                    <option value=\"\">--:--</option>\r\n                    {horarios.map(hora => (\r\n                      <option key={hora} value={hora}>{hora}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-actions-footer\">\r\n                <button type=\"button\" className=\"button-secondary\" onClick={() => setShowForm(false)} title=\"Cancelar e fechar\">Cancelar</button>\r\n                <button type=\"submit\" className=\"button-primary\" title=\"Salvar a nova consulta\">Salvar</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"schedule-options\">\r\n        <div className=\"schedule-options-left\">\r\n          <span className=\"horarios-text\">\r\n            {view === 'mensal' ? 'Visualização Mensal' : 'Horários'}\r\n          </span>\r\n          <span className=\"separator-text\">|</span>\r\n          <span className=\"current-month\">\r\n            {capitalize(format(dataAtual, 'MMMM', { locale: ptBR }))}\r\n          </span>\r\n        </div>\r\n        <div className=\"view-toggle\">\r\n          <button className={`toggle-button ${view === 'mensal' ? 'active' : ''}`} onClick={() => setView('mensal')} title=\"Alternar para visualização mensal\">Mês</button>\r\n          <button className={`toggle-button ${view === 'semanal' ? 'active' : ''}`} onClick={() => setView('semanal')} title=\"Alternar para visualização semanal\">Semana</button>\r\n          <button className={`toggle-button ${view === 'diaria' ? 'active' : ''}`} onClick={() => setView('diaria')} title=\"Alternar para visualização diária\">Dia</button>\r\n        </div>\r\n      </div>\r\n      \r\n      {view === 'mensal' ? (\r\n        renderMonthlyView()\r\n      ) : (\r\n        <div className=\"schedule-table-wrapper\">\r\n          <table className=\"schedule-table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"horario-col\">Horário</th>\r\n                {renderHeaders()}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {horarios.map(hora => (\r\n                <tr key={hora}>\r\n                  <td className=\"horario-col\">{hora}</td>\r\n                  {renderCells(hora)}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n      \r\n      {view !== 'mensal' && (\r\n        <div className=\"legend-fixed-footer\">\r\n          <div className=\"legend\">\r\n            <div className=\"legend-item\"><span className=\"status-indicator confirmado\"></span> Confirmado</div>\r\n            <div className=\"legend-item\"><span className=\"status-indicator pendente\"></span> Pendente</div>\r\n            <div className=\"legend-item\"><span className=\"status-indicator cancelado\"></span> Cancelado</div>\r\n            <div className=\"legend-item\"><span className=\"status-indicator reagendado\"></span> Reagendado</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {showDetailModal && selectedAgendamento && (\r\n        <div className=\"modal-backdrop\" onClick={() => setShowDetailModal(false)}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            {modalView === 'details' ? (\r\n              <>\r\n                <h3>Detalhes da Consulta</h3>\r\n                <p>\r\n                  <strong>Paciente:</strong>{' '}\r\n                  {selectedPaciente?.nome\r\n                    ? selectedPaciente.nome\r\n                    : selectedAgendamento?.nome_paciente_temp\r\n                      ? `${selectedAgendamento.nome_paciente_temp} (Não Cad.)`\r\n                      : 'Paciente Indefinido'}\r\n                </p>\r\n                <p><strong>Data:</strong> {format(parseISO(selectedAgendamento.data_consulta), 'dd/MM/yyyy')}</p>\r\n                <p><strong>Hora:</strong> {selectedAgendamento.horario_consulta.substring(0, 5)}</p>\r\n                <div className=\"form-group-compact\">\r\n                  <label htmlFor=\"status\" title=\"Mude o status da consulta (Ex: de Pendente para Confirmado)\">Alterar Status:</label>\r\n                  <select\r\n                    id=\"status\"\r\n                    className=\"input-field\"\r\n                    value={newStatus}\r\n                    onChange={(e) => setNewStatus(e.target.value)}\r\n                  >\r\n                    <option value=\"pendente\">Pendente</option>\r\n                    <option value=\"confirmado\">Confirmado</option>\r\n                    <option value=\"cancelado\">Cancelado</option>\r\n                    <option value=\"reagendado\">Reagendado</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-actions-footer\" style={{ justifyContent: 'space-between', marginTop: '2rem' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"button-danger\"\r\n                    onClick={() => setModalView('confirmDelete')}\r\n                    title=\"Excluir esta consulta permanentemente\"\r\n                  >\r\n                    Excluir\r\n                  </button>\r\n                  <div>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"button-secondary\"\r\n                      onClick={() => setShowDetailModal(false)}\r\n                      title=\"Fechar esta janela\"\r\n                    >\r\n                      Fechar\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"button-primary\"\r\n                      onClick={handleSaveStatus}\r\n                      style={{ marginLeft: '10px' }}\r\n                      title=\"Salvar o novo status desta consulta\"\r\n                    >\r\n                      Salvar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <h3>Confirmar Exclusão</h3>\r\n                <p>Tem certeza que deseja excluir esta consulta?</p>\r\n                <p style={{ fontSize: '0.9rem', color: '#666' }}>Esta ação não pode ser desfeita.</p>\r\n                <div className=\"form-actions-footer\" style={{ justifyContent: 'flex-end', marginTop: '2rem' }}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"button-secondary\"\r\n                    onClick={() => setModalView('details')}\r\n                    title=\"Não excluir e voltar\"\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"button-danger\"\r\n                    onClick={handleDeleteAppointment}\r\n                    style={{ marginLeft: '10px' }}\r\n                    title=\"Confirmar exclusão\"\r\n                  >\r\n                    Sim, Excluir\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* --- BOTÃO E MODAL DE AJUDA --- */}\r\n      <button \r\n        className=\"floating-help-button\" \r\n        onClick={() => setIsAjudaOpen(true)}\r\n        title=\"Ajuda sobre esta página\"\r\n      >\r\n        <FontAwesomeIcon icon={faQuestionCircle} />\r\n      </button>\r\n\r\n      <Modal\r\n        isOpen={isAjudaOpen}\r\n        onClose={() => setIsAjudaOpen(false)}\r\n        titulo=\"Ajuda - Agenda\"\r\n        footer={\r\n          <button \r\n            className=\"modal-button modal-button-secondary\" \r\n            onClick={() => setIsAjudaOpen(false)}\r\n            title=\"Fechar esta janela.\"\r\n          >\r\n            Fechar\r\n          </button>\r\n        }\r\n      >\r\n        <p>Esta é a sua agenda. Por padrão, ela bloqueia agendamentos em dias passados, Sábados e Domingos.</p>\r\n        <ul style={{ paddingLeft: '20px', lineHeight: '1.6' }}>\r\n          <li>\r\n            <strong>Navegação:</strong> Use as setas (❮ ❯) para mudar o dia, semana ou mês.\r\n          </li>\r\n          <li>\r\n            <strong>Visões:</strong> Alterne entre as visualizações \"Mês\", \"Semana\" e \"Dia\" no canto superior direito.\r\n          </li>\r\n          <li>\r\n            <strong>Agendar:</strong> Clique em um horário vago (na visão de Semana ou Dia) ou em um dia livre (na visão de Mês) para abrir o formulário de \"Nova Consulta\".\r\n          </li>\r\n          <li>\r\n            <strong>Pacientes Não Cadastrados:</strong> No formulário de \"Nova Consulta\", você pode usar o link \"(Paciente não cadastrado)\" para digitar o nome de um paciente que apenas ligou.\r\n          </li>\r\n          <li>\r\n            <strong>Ver Detalhes:</strong> Clique em um agendamento já existente na grade para ver seus detalhes, alterar o status (ex: Pendente para Confirmado) ou excluir a consulta.\r\n          </li>\r\n        </ul>\r\n      </Modal>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Agenda;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}