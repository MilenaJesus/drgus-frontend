{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import'./ListaTratamentos.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faEye,faQuestionCircle}from'@fortawesome/free-solid-svg-icons';import Modal from'../componentes/Modal';import{useToast}from'../context/ToastContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;function ListaTratamentos(){const[tratamentos,setTratamentos]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();const{showToast}=useToast();const[filtroPaciente,setFiltroPaciente]=useState('');const[filtroStatus,setFiltroStatus]=useState('');const[isAjudaOpen,setIsAjudaOpen]=useState(false);const[itemExpandidoId,setItemExpandidoId]=useState(null);const[limit]=useState(10);const[offset,setOffset]=useState(0);const[totalTratamentos,setTotalTratamentos]=useState(0);const formatDate=dateString=>{if(!dateString)return'-';const dateOnly=dateString.split('T')[0];const[year,month,day]=dateOnly.split('-');return\"\".concat(day,\"/\").concat(month,\"/\").concat(year);};const fetchTratamentos=useCallback(async()=>{console.log(\"Buscando tratamentos em:\",\"\".concat(API_BASE_URL,\"/api/tratamentos/\"));setLoading(true);setError(null);try{const token=localStorage.getItem('access_token');if(!token)throw new Error('Token de autenticação não encontrado.');let params={limit:limit,offset:offset};if(filtroPaciente){params.paciente_nome=filtroPaciente;}if(filtroStatus){params.status=filtroStatus;}const response=await axios.get(\"\".concat(API_BASE_URL,\"/api/tratamentos/\"),{headers:{'Authorization':\"Bearer \".concat(token)},params:params});console.log(\"Resposta da API:\",response.data);setTratamentos(response.data.results||[]);setTotalTratamentos(response.data.count||0);}catch(err){if(err.response&&err.response.status===401){showToast('Sua sessão expirou.');navigate('/login');}else{setError('Não foi possível carregar os tratamentos.');}}finally{setLoading(false);}},[navigate,filtroPaciente,filtroStatus,limit,offset,showToast]);useEffect(()=>{fetchTratamentos();},[fetchTratamentos]);const handleIniciarTratamento=async tratamentoId=>{const token=localStorage.getItem('access_token');if(!token){showToast('Sessão expirada. Faça login novamente.','error');return;}try{await axios.post(\"\".concat(API_BASE_URL,\"/api/tratamentos/\").concat(tratamentoId,\"/iniciar/\"),{},{headers:{'Authorization':\"Bearer \".concat(token)}});showToast('Tratamento iniciado com sucesso!','success');fetchTratamentos();}catch(err){var _err$response,_err$response$data;console.error(\"Erro ao iniciar tratamento:\",err);const erroMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Não foi possível iniciar o tratamento.';showToast(erroMsg,'error');}};const handleEncerrarTratamento=async tratamentoId=>{const token=localStorage.getItem('access_token');if(!token){showToast('Sessão expirada. Faça login novamente.','error');return;}try{await axios.post(\"\".concat(API_BASE_URL,\"/api/tratamentos/\").concat(tratamentoId,\"/encerrar/\"),{},{headers:{'Authorization':\"Bearer \".concat(token)}});showToast('Tratamento encerrado com sucesso!','success');fetchTratamentos();}catch(err){var _err$response2,_err$response2$data;console.error(\"Erro ao encerrar tratamento:\",err);const erroMsg=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Não foi possível encerrar o tratamento.';showToast(erroMsg,'error');}};const toggleDetalhesTratamento=tratamentoId=>{setItemExpandidoId(idAtual=>idAtual===tratamentoId?null:tratamentoId);};const handleNextPage=()=>{if(offset+limit<totalTratamentos){setOffset(prevOffset=>prevOffset+limit);}};const handlePrevPage=()=>{setOffset(prevOffset=>Math.max(0,prevOffset-limit));};const paginaAtual=Math.floor(offset/limit)+1;const totalPaginas=Math.ceil(totalTratamentos/limit);return/*#__PURE__*/_jsxs(\"div\",{className:\"tratamentos-lista-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filtros-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"filtros-inputs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filtro-grupo\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"filtro-paciente\",className:\"filtro-input\",value:filtroPaciente,onChange:e=>setFiltroPaciente(e.target.value),placeholder:\"Digite o nome do paciente...\",title:\"Buscar tratamentos pelo nome do paciente.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"filtro-grupo\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"filtro-status\",className:\"filtro-select\",value:filtroStatus,onChange:e=>setFiltroStatus(e.target.value),title:\"Exibir tratamentos com o status selecionado.\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Pendente\",children:\"Pendente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Iniciado\",children:\"Em Andamento (Iniciado)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Conclu\\xEDdo\",children:\"Conclu\\xEDdo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos os Status\"})]})})]})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"tratamentos-tabela-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"tratamentos-tabela\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID Trat.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Paciente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"In\\xEDcio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xE9rmino\"}),/*#__PURE__*/_jsx(\"th\",{className:\"actions-header-cell\",children:\" \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"loading-message\",children:\"Carregando tratamentos...\"})}):tratamentos.length>0?tratamentos.map(trat=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:itemExpandidoId===trat.id_tratamento?'#f0f8ff':'#fff'},children:[/*#__PURE__*/_jsx(\"td\",{children:trat.id_tratamento}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/patients/\".concat(trat.orcamento.paciente.id_paciente),className:\"paciente-link\",title:\"Ver os detalhes completos deste paciente.\",children:trat.orcamento.paciente.nome||'Paciente não encontrado'})}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(trat.data_ini_trat)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:trat.status==='Iniciado'?'#004085':'#155724'},title:\"Status atual: \".concat(trat.status),children:trat.status})}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(trat.data_fim_trat)}),/*#__PURE__*/_jsxs(\"td\",{className:\"actions-cell\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-button\",title:\"Ver/Ocultar os procedimentos detalhados deste tratamento.\",onClick:()=>toggleDetalhesTratamento(trat.id_tratamento),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEye})}),trat.status===\"Pendente\"&&/*#__PURE__*/_jsx(\"button\",{className:\"action-button action-button-iniciar\",title:\"Iniciar este tratamento.\",onClick:()=>handleIniciarTratamento(trat.id_tratamento),children:\"Iniciar\"}),trat.status===\"Iniciado\"&&/*#__PURE__*/_jsx(\"button\",{className:\"action-button action-button-encerrar\",title:\"Marcar este tratamento como conclu\\xEDdo.\",onClick:()=>handleEncerrarTratamento(trat.id_tratamento),children:\"Encerrar\"})]})]}),itemExpandidoId===trat.id_tratamento&&/*#__PURE__*/_jsx(\"tr\",{className:\"tratamento-itens-detalhe\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',backgroundColor:'#fdfdfd'},children:[/*#__PURE__*/_jsx(\"h5\",{style:{marginTop:0,marginBottom:'0.5rem'},children:\"Itens do Or\\xE7amento (Base):\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsx(\"th\",{children:\"Procedimento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dente / Face\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Valor (R$)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:trat.orcamento.itens.map(item=>{var _item$servico_details;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:((_item$servico_details=item.servico_details)===null||_item$servico_details===void 0?void 0:_item$servico_details.desc_servico)||'Serviço não encontrado'}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(item.n_dente||'-',\"/\").concat(item.face||'-')}),/*#__PURE__*/_jsx(\"td\",{children:parseFloat(item.valor||0).toFixed(2)})]},item.id_item);})})]})]})})})]},trat.id_tratamento)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"no-data\",children:\"Nenhum tratamento encontrado.\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Mostrando \",Math.min(offset+1,totalTratamentos),\" - \",Math.min(offset+limit,totalTratamentos),\" de \",totalTratamentos]}),totalPaginas>1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,disabled:offset===0,className:\"pagination-button\",children:\"Anterior\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"pagination-info\",children:[\"P\\xE1gina \",paginaAtual,\" de \",totalPaginas]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:offset+limit>=totalTratamentos,className:\"pagination-button\",children:\"Pr\\xF3ximo\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"floating-help-button\",onClick:()=>setIsAjudaOpen(true),title:\"Ajuda sobre esta p\\xE1gina\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faQuestionCircle})}),/*#__PURE__*/_jsxs(Modal,{isOpen:isAjudaOpen,onClose:()=>setIsAjudaOpen(false),titulo:\"Ajuda - Gerenciador de Tratamentos\",footer:/*#__PURE__*/_jsx(\"button\",{className:\"modal-button modal-button-secondary\",onClick:()=>setIsAjudaOpen(false),title:\"Fechar esta janela.\",children:\"Fechar\"}),children:[/*#__PURE__*/_jsx(\"p\",{children:\"Esta tela centraliza todos os tratamentos cl\\xEDnicos em andamento ou conclu\\xEDdos.\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{paddingLeft:'20px',lineHeight:'1.6'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vis\\xE3o Geral:\"}),\" Por padr\\xE3o, a tabela lista os tratamentos \\\"Em Andamento\\\".\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Filtros:\"}),\" Voc\\xEA pode filtrar a lista pelo \",/*#__PURE__*/_jsx(\"b\",{children:\"Nome do Paciente\"}),\" ou pelo \",/*#__PURE__*/_jsx(\"b\",{children:\"Status\"}),\" (Em Andamento ou Conclu\\xEDdo).\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"A\\xE7\\xF5es:\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{paddingLeft:'20px',margin:'5px 0'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"(Olho):\"}),\" Expande a linha para mostrar os itens do or\\xE7amento original que deu origem a este tratamento.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Encerrar:\"}),\" Finaliza um tratamento \\\"Em Andamento\\\" e o move para \\\"Conclu\\xEDdo\\\".\"]})]})]})]})]})]});}export default ListaTratamentos;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useNavigate","axios","FontAwesomeIcon","faEye","faQuestionCircle","Modal","useToast","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","ListaTratamentos","tratamentos","setTratamentos","loading","setLoading","error","setError","navigate","showToast","filtroPaciente","setFiltroPaciente","filtroStatus","setFiltroStatus","isAjudaOpen","setIsAjudaOpen","itemExpandidoId","setItemExpandidoId","limit","offset","setOffset","totalTratamentos","setTotalTratamentos","formatDate","dateString","dateOnly","split","year","month","day","concat","fetchTratamentos","console","log","token","localStorage","getItem","Error","params","paciente_nome","status","response","get","headers","data","results","count","err","handleIniciarTratamento","tratamentoId","post","_err$response","_err$response$data","erroMsg","handleEncerrarTratamento","_err$response2","_err$response2$data","toggleDetalhesTratamento","idAtual","handleNextPage","prevOffset","handlePrevPage","Math","max","paginaAtual","floor","totalPaginas","ceil","className","children","type","id","value","onChange","e","target","placeholder","title","colSpan","length","map","trat","Fragment","style","backgroundColor","id_tratamento","to","orcamento","paciente","id_paciente","nome","data_ini_trat","fontWeight","color","data_fim_trat","onClick","icon","padding","marginTop","marginBottom","width","itens","item","_item$servico_details","servico_details","desc_servico","n_dente","face","parseFloat","valor","toFixed","id_item","min","disabled","isOpen","onClose","titulo","footer","paddingLeft","lineHeight","margin"],"sources":["C:/Users/milen/Desktop/4º ano/projeto/ProjetoDrGus/frontend/src/paginas/ListaTratamentos.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './ListaTratamentos.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEye, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport Modal from '../componentes/Modal';\r\nimport { useToast } from '../context/ToastContext';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\nfunction ListaTratamentos() {\r\n    const [tratamentos, setTratamentos] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const navigate = useNavigate();\r\n    const { showToast } = useToast();\r\n\r\n    const [filtroPaciente, setFiltroPaciente] = useState('');\r\n    const [filtroStatus, setFiltroStatus] = useState('');\r\n\r\n    const [isAjudaOpen, setIsAjudaOpen] = useState(false);\r\n    const [itemExpandidoId, setItemExpandidoId] = useState(null);\r\n\r\n    const [limit] = useState(10);\r\n    const [offset, setOffset] = useState(0);\r\n    const [totalTratamentos, setTotalTratamentos] = useState(0);\r\n\r\n    const formatDate = (dateString) => {\r\n        if (!dateString) return '-';\r\n        const dateOnly = dateString.split('T')[0];\r\n        const [year, month, day] = dateOnly.split('-');\r\n        return `${day}/${month}/${year}`;\r\n    };\r\n\r\n    const fetchTratamentos = useCallback(async () => {\r\n        console.log(\"Buscando tratamentos em:\", `${API_BASE_URL}/api/tratamentos/`);\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n        const token = localStorage.getItem('access_token');\r\n        if (!token) throw new Error('Token de autenticação não encontrado.');\r\n\r\n        let params = {\r\n            limit: limit,\r\n            offset: offset,\r\n        };\r\n        \r\n        if (filtroPaciente) {\r\n            params.paciente_nome = filtroPaciente; \r\n        }\r\n        if (filtroStatus) {\r\n            params.status = filtroStatus; \r\n        }\r\n\r\n        const response = await axios.get(`${API_BASE_URL}/api/tratamentos/`, {\r\n            headers: { 'Authorization': `Bearer ${token}` },\r\n            params: params\r\n        });\r\n        console.log(\"Resposta da API:\", response.data);\r\n        \r\n        setTratamentos(response.data.results || []);\r\n        setTotalTratamentos(response.data.count || 0);\r\n\r\n        } catch (err) {\r\n        if (err.response && err.response.status === 401) {\r\n            showToast('Sua sessão expirou.');\r\n            navigate('/login');\r\n        } else {\r\n            setError('Não foi possível carregar os tratamentos.');\r\n        }\r\n        } finally {\r\n        setLoading(false);\r\n        }\r\n    }, [navigate, filtroPaciente, filtroStatus, limit, offset, showToast]);\r\n\r\n    useEffect(() => {\r\n        fetchTratamentos();\r\n    }, [fetchTratamentos]);\r\n    \r\n    const handleIniciarTratamento = async (tratamentoId) => {\r\n        const token = localStorage.getItem('access_token');\r\n        if (!token) {\r\n            showToast('Sessão expirada. Faça login novamente.', 'error');\r\n            return; \r\n        }\r\n\r\n        try {\r\n            await axios.post(`${API_BASE_URL}/api/tratamentos/${tratamentoId}/iniciar/`, \r\n            {}, \r\n            { headers: { 'Authorization': `Bearer ${token}` } }\r\n            );\r\n\r\n            showToast('Tratamento iniciado com sucesso!', 'success');\r\n            fetchTratamentos();\r\n\r\n        } catch (err) {\r\n            console.error(\"Erro ao iniciar tratamento:\", err);\r\n            const erroMsg = err.response?.data?.error || 'Não foi possível iniciar o tratamento.';\r\n            showToast(erroMsg, 'error');\r\n        }\r\n        };\r\n\r\n\r\n    const handleEncerrarTratamento = async (tratamentoId) => {\r\n        const token = localStorage.getItem('access_token');\r\n        if (!token) {\r\n        showToast('Sessão expirada. Faça login novamente.', 'error');\r\n        return; \r\n        }\r\n\r\n        try {\r\n        await axios.post(`${API_BASE_URL}/api/tratamentos/${tratamentoId}/encerrar/`, \r\n            {}, \r\n            { headers: { 'Authorization': `Bearer ${token}` } }\r\n        );\r\n\r\n        showToast('Tratamento encerrado com sucesso!', 'success');\r\n        \r\n        fetchTratamentos(); \r\n\r\n        } catch (err) {\r\n        console.error(\"Erro ao encerrar tratamento:\", err);\r\n        const erroMsg = err.response?.data?.error || 'Não foi possível encerrar o tratamento.';\r\n        showToast(erroMsg, 'error');\r\n        }\r\n    };\r\n\r\n    const toggleDetalhesTratamento = (tratamentoId) => {\r\n        setItemExpandidoId(idAtual => \r\n        idAtual === tratamentoId ? null : tratamentoId\r\n        );\r\n    };\r\n\r\n    const handleNextPage = () => {\r\n        if (offset + limit < totalTratamentos) {\r\n        setOffset(prevOffset => prevOffset + limit);\r\n        }\r\n    };\r\n\r\n    const handlePrevPage = () => {\r\n        setOffset(prevOffset => Math.max(0, prevOffset - limit));\r\n    };\r\n\r\n    const paginaAtual = Math.floor(offset / limit) + 1;\r\n    const totalPaginas = Math.ceil(totalTratamentos / limit);\r\n\r\n    return (\r\n        <div className=\"tratamentos-lista-container\">\r\n        \r\n            <div className=\"filtros-container\">\r\n                \r\n                <div className=\"filtros-inputs\">\r\n                    <div className=\"filtro-grupo\">\r\n                        <input \r\n                            type=\"text\"\r\n                            id=\"filtro-paciente\"\r\n                            className=\"filtro-input\" \r\n                            value={filtroPaciente}\r\n                            onChange={(e) => setFiltroPaciente(e.target.value)}\r\n                            placeholder=\"Digite o nome do paciente...\"\r\n                            title=\"Buscar tratamentos pelo nome do paciente.\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"filtro-grupo\">\r\n                        <select \r\n                            id=\"filtro-status\" \r\n                            className=\"filtro-select\"\r\n                            value={filtroStatus}\r\n                            onChange={(e) => setFiltroStatus(e.target.value)}\r\n                            title=\"Exibir tratamentos com o status selecionado.\"\r\n                        >\r\n                            <option value=\"Pendente\">Pendente</option>\r\n                            <option value=\"Iniciado\">Em Andamento (Iniciado)</option>\r\n                            <option value=\"Concluído\">Concluído</option>\r\n                            <option value=\"\">Todos os Status</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n        {error && <p className=\"error-message\">{error}</p>}\r\n        \r\n        <div className=\"tratamentos-tabela-wrapper\">\r\n            <table className=\"tratamentos-tabela\">\r\n            <thead>\r\n                <tr>\r\n                <th>ID Trat.</th>\r\n                <th>Paciente</th>\r\n                <th>Início</th>\r\n                <th>Status</th>\r\n                <th>Término</th>\r\n                <th className=\"actions-header-cell\"> </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {loading ? (\r\n                    <tr><td colSpan=\"6\" className=\"loading-message\">Carregando tratamentos...</td></tr>\r\n                ) : tratamentos.length > 0 ? (\r\n                    tratamentos.map((trat) => (\r\n                        <React.Fragment key={trat.id_tratamento}>\r\n                        <tr style={{backgroundColor: itemExpandidoId === trat.id_tratamento ? '#f0f8ff' : '#fff'}}>\r\n                            <td>{trat.id_tratamento}</td>\r\n                            <td>\r\n                                <Link \r\n                                    to={`/patients/${trat.orcamento.paciente.id_paciente}`} \r\n                                    className=\"paciente-link\"\r\n                                    title=\"Ver os detalhes completos deste paciente.\"\r\n                                >\r\n                                    {trat.orcamento.paciente.nome || 'Paciente não encontrado'}\r\n                                </Link>\r\n                            </td>\r\n                            <td>{formatDate(trat.data_ini_trat)}</td>\r\n                            <td>\r\n                                <span \r\n                                    style={{fontWeight: 'bold', color: trat.status === 'Iniciado' ? '#004085' : '#155724'}}\r\n                                    title={`Status atual: ${trat.status}`}\r\n                                >\r\n                                    {trat.status}\r\n                                </span>\r\n                            </td>\r\n                            <td>{formatDate(trat.data_fim_trat)}</td>\r\n                            <td className=\"actions-cell\">\r\n                                <button \r\n                                    className=\"action-button\"\r\n                                    title=\"Ver/Ocultar os procedimentos detalhados deste tratamento.\"\r\n                                    onClick={() => toggleDetalhesTratamento(trat.id_tratamento)} \r\n                                >\r\n                                    <FontAwesomeIcon icon={faEye} /> \r\n                                </button>\r\n                                {trat.status === \"Pendente\" && (\r\n                                    <button \r\n                                        className=\"action-button action-button-iniciar\"\r\n                                        title=\"Iniciar este tratamento.\"\r\n                                        onClick={() => handleIniciarTratamento(trat.id_tratamento)}\r\n                                    >\r\n                                        Iniciar\r\n                                    </button>\r\n                                    )}\r\n                                {trat.status === \"Iniciado\" && (\r\n                                    <button \r\n                                        className=\"action-button action-button-encerrar\"\r\n                                        title=\"Marcar este tratamento como concluído.\"\r\n                                        onClick={() => handleEncerrarTratamento(trat.id_tratamento)}\r\n                                        >\r\n                                        Encerrar\r\n                                    </button>\r\n                                )}\r\n                            </td>\r\n                        </tr>\r\n                        \r\n                        {itemExpandidoId === trat.id_tratamento && (\r\n                            <tr className=\"tratamento-itens-detalhe\">\r\n                                <td colSpan=\"6\">\r\n                                    <div style={{padding: '1rem', backgroundColor: '#fdfdfd'}}>\r\n                                        <h5 style={{marginTop: 0, marginBottom: '0.5rem'}}>Itens do Orçamento (Base):</h5>\r\n                                        <table style={{width: '100%'}}>\r\n                                            <thead>\r\n                                                <tr style={{backgroundColor: '#f9f9f9'}}>\r\n                                                    <th>Procedimento</th>\r\n                                                    <th>Dente / Face</th>\r\n                                                    <th>Valor (R$)</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {trat.orcamento.itens.map(item => (\r\n                                                    <tr key={item.id_item}>\r\n                                                    <td>{item.servico_details?.desc_servico || 'Serviço não encontrado'}</td>\r\n                                                    <td>{`${item.n_dente || '-'}/${item.face || '-'}`}</td>\r\n                                                    <td>{parseFloat(item.valor || 0).toFixed(2)}</td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                    )}\r\n                    </React.Fragment>\r\n                ))\r\n                ) : (\r\n                <tr><td colSpan=\"6\" className=\"no-data\">Nenhum tratamento encontrado.</td></tr>\r\n                )}\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <div className=\"pagination-controls\">\r\n            <span>\r\n            Mostrando {Math.min(offset + 1, totalTratamentos)} - {Math.min(offset + limit, totalTratamentos)} de {totalTratamentos}\r\n            </span>\r\n            \r\n            {totalPaginas > 1 && (\r\n            <div>\r\n                <button \r\n                onClick={handlePrevPage} \r\n                disabled={offset === 0}\r\n                className=\"pagination-button\"\r\n                >\r\n                Anterior\r\n                </button>\r\n                <span className=\"pagination-info\">\r\n                Página {paginaAtual} de {totalPaginas}\r\n                </span>\r\n                <button \r\n                onClick={handleNextPage} \r\n                disabled={offset + limit >= totalTratamentos}\r\n                className=\"pagination-button\"\r\n                >\r\n                Próximo\r\n                </button>\r\n            </div>\r\n            )}\r\n        </div>\r\n\r\n        <button \r\n            className=\"floating-help-button\" \r\n            onClick={() => setIsAjudaOpen(true)}\r\n            title=\"Ajuda sobre esta página\"\r\n        >\r\n            <FontAwesomeIcon icon={faQuestionCircle} />\r\n        </button>\r\n\r\n        <Modal\r\n            isOpen={isAjudaOpen}\r\n            onClose={() => setIsAjudaOpen(false)}\r\n            titulo=\"Ajuda - Gerenciador de Tratamentos\"\r\n            footer={\r\n            <button \r\n                className=\"modal-button modal-button-secondary\" \r\n                onClick={() => setIsAjudaOpen(false)}\r\n                title=\"Fechar esta janela.\"\r\n            >\r\n                Fechar\r\n            </button>\r\n            }\r\n        >\r\n            <p>Esta tela centraliza todos os tratamentos clínicos em andamento ou concluídos.</p>\r\n            <ul style={{ paddingLeft: '20px', lineHeight: '1.6' }}>\r\n            <li>\r\n                <strong>Visão Geral:</strong> Por padrão, a tabela lista os tratamentos \"Em Andamento\".\r\n            </li>\r\n            <li>\r\n                <strong>Filtros:</strong> Você pode filtrar a lista pelo <b>Nome do Paciente</b> ou pelo <b>Status</b> (Em Andamento ou Concluído).\r\n            </li>\r\n            <li>\r\n                <strong>Ações:</strong>\r\n                <ul style={{ paddingLeft: '20px', margin: '5px 0' }}>\r\n                <li><b>(Olho):</b> Expande a linha para mostrar os itens do orçamento original que deu origem a este tratamento.</li>\r\n                <li><b>Encerrar:</b> Finaliza um tratamento \"Em Andamento\" e o move para \"Concluído\".</li>\r\n                </ul>\r\n            </li>\r\n            </ul>\r\n        </Modal>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListaTratamentos;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}