{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import Login from'./componentes/Login';import Menu from'./componentes/Menu';import Topo from'./componentes/Topo';import{BrowserRouter as Router,Routes,Route,Navigate,Outlet}from'react-router-dom';import Inicio from'./paginas/Inicio';import ListaPacientes from'./paginas/ListaPacientes';import DetalhesPacientes from'./paginas/DetalhesPacientes';import RegistroPacientes from'./paginas/RegistroPacientes';import EditarPaciente from'./paginas/EditarPaciente';import Agenda from'./paginas/Agenda';import Orcamentos from'./paginas/Orcamentos';import ListaOrcamentos from'./paginas/ListaOrcamentos';import Pagamentos from'./paginas/Pagamentos';import Notificacoes from'./paginas/Notificacoes';import{NotificacaoProvider}from'./context/NotificacaoContext';import AjudaGeral from'./paginas/AjudaGeral';import ListaTratamentos from'./paginas/ListaTratamentos';import{ToastProvider}from'./context/ToastContext';import Toast from'./componentes/Toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{const accessToken=localStorage.getItem('access_token');if(accessToken){setIsLoggedIn(true);}},[]);const handleLoginSuccess=()=>{setIsLoggedIn(true);};const handleLogout=()=>{localStorage.removeItem('access_token');localStorage.removeItem('refresh_token');setIsLoggedIn(false);};const MainLayout=()=>{if(!isLoggedIn){// Se não estiver logado, redireciona para a página de login\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app-main-layout\",children:[/*#__PURE__*/_jsx(Menu,{onLogout:handleLogout}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-area\",children:[/*#__PURE__*/_jsx(Topo,{}),/*#__PURE__*/_jsx(Outlet,{})]})]});};return/*#__PURE__*/_jsx(ToastProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(NotificacaoProvider,{children:[/*#__PURE__*/_jsx(Toast,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isLoggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/inicio\",replace:true}):/*#__PURE__*/_jsx(Login,{onLoginSuccess:handleLoginSuccess})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(MainLayout,{}),children:[\" \",/*#__PURE__*/_jsx(Route,{path:\"inicio\",element:/*#__PURE__*/_jsx(Inicio,{})}),/*#__PURE__*/_jsx(Route,{path:\"pacientes\",element:/*#__PURE__*/_jsx(ListaPacientes,{})}),/*#__PURE__*/_jsx(Route,{path:\"patients/new\",element:/*#__PURE__*/_jsx(RegistroPacientes,{})}),/*#__PURE__*/_jsx(Route,{path:\"patients/:id\",element:/*#__PURE__*/_jsx(DetalhesPacientes,{})}),/*#__PURE__*/_jsx(Route,{path:\"patients/:id/edit\",element:/*#__PURE__*/_jsx(EditarPaciente,{})}),/*#__PURE__*/_jsx(Route,{path:\"agenda\",element:/*#__PURE__*/_jsx(Agenda,{})}),\"3\",/*#__PURE__*/_jsx(Route,{path:\"orcamentos\",element:/*#__PURE__*/_jsx(ListaOrcamentos,{})}),/*#__PURE__*/_jsx(Route,{path:\"orcamentos/novo\",element:/*#__PURE__*/_jsx(Orcamentos,{})}),/*#__PURE__*/_jsx(Route,{path:\"tratamentos\",element:/*#__PURE__*/_jsx(ListaTratamentos,{})}),/*#__PURE__*/_jsx(Route,{path:\"pagamentos\",element:/*#__PURE__*/_jsx(Pagamentos,{})}),/*#__PURE__*/_jsx(Route,{path:\"notificacoes\",element:/*#__PURE__*/_jsx(Notificacoes,{})}),/*#__PURE__*/_jsx(Route,{path:\"ajuda\",element:/*#__PURE__*/_jsx(AjudaGeral,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Login","Menu","Topo","BrowserRouter","Router","Routes","Route","Navigate","Outlet","Inicio","ListaPacientes","DetalhesPacientes","RegistroPacientes","EditarPaciente","Agenda","Orcamentos","ListaOrcamentos","Pagamentos","Notificacoes","NotificacaoProvider","AjudaGeral","ListaTratamentos","ToastProvider","Toast","jsx","_jsx","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","accessToken","localStorage","getItem","handleLoginSuccess","handleLogout","removeItem","MainLayout","to","replace","className","children","onLogout","path","element","onLoginSuccess"],"sources":["C:/Users/milen/Desktop/4º ano/projeto/ProjetoDrGus/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Login from './componentes/Login';\nimport Menu from './componentes/Menu';\nimport Topo from './componentes/Topo';\nimport { BrowserRouter as Router, Routes, Route, Navigate, Outlet } from 'react-router-dom';\nimport Inicio from './paginas/Inicio';\nimport ListaPacientes from './paginas/ListaPacientes';\nimport DetalhesPacientes from './paginas/DetalhesPacientes';\nimport RegistroPacientes from './paginas/RegistroPacientes';\nimport EditarPaciente from './paginas/EditarPaciente';\nimport Agenda from './paginas/Agenda';\nimport Orcamentos from './paginas/Orcamentos';\nimport ListaOrcamentos from './paginas/ListaOrcamentos';\nimport Pagamentos from './paginas/Pagamentos';\nimport Notificacoes from './paginas/Notificacoes';\nimport { NotificacaoProvider } from './context/NotificacaoContext';\nimport AjudaGeral from './paginas/AjudaGeral';\nimport ListaTratamentos from './paginas/ListaTratamentos';\nimport { ToastProvider } from './context/ToastContext';\nimport Toast from './componentes/Toast';\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const accessToken = localStorage.getItem('access_token');\n    if (accessToken) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  const handleLoginSuccess = () => {\n    setIsLoggedIn(true);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('refresh_token');\n    setIsLoggedIn(false);\n  };\n\n  const MainLayout = () => {\n        if (!isLoggedIn) {\n            // Se não estiver logado, redireciona para a página de login\n            return <Navigate to=\"/\" replace />;\n        }\n        return (\n            <div className=\"app-main-layout\">\n                <Menu onLogout={handleLogout} />\n                <div className=\"content-area\">\n                    <Topo />\n                    {/* Outlet renderiza o componente da rota filha */}\n                    <Outlet /> \n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <ToastProvider>\n            <Router>\n            <NotificacaoProvider>\n                <Toast />\n                <Routes>\n                    {/* Rota de Login (pública) */}\n                    <Route \n                        path=\"/\" \n                        element={isLoggedIn ? <Navigate to=\"/inicio\" replace /> : <Login onLoginSuccess={handleLoginSuccess} />} \n                    />\n\n                    {/* Rotas Protegidas (dentro do MainLayout) */}\n                    <Route element={<MainLayout />}> {/* Usar element={} para layout */}\n                        <Route path=\"inicio\" element={<Inicio />} />\n                        <Route path=\"pacientes\" element={<ListaPacientes />} />\n                        <Route path=\"patients/new\" element={<RegistroPacientes />} />\n                        <Route path=\"patients/:id\" element={<DetalhesPacientes />} />\n                        <Route path=\"patients/:id/edit\" element={<EditarPaciente />} />\n                        <Route path=\"agenda\" element={<Agenda />} />3\n                        <Route path=\"orcamentos\" element={<ListaOrcamentos />} />\n                        <Route path=\"orcamentos/novo\" element={<Orcamentos />} />\n                        <Route path=\"tratamentos\" element={<ListaTratamentos />} />\n                        <Route path=\"pagamentos\" element={<Pagamentos />} />\n                        <Route path=\"notificacoes\" element={<Notificacoes />} />\n                        <Route path=\"ajuda\" element={<AjudaGeral />} />\n                    </Route>\n\n                    {/* Rota Catch-all (opcional, redireciona para login se não encontrar) */}\n                    <Route path=\"*\" element={<Navigate to=\"/\" replace />} /> \n                </Routes>\n            </NotificacaoProvider>\n        </Router>\n        </ToastProvider>\n        \n    );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}