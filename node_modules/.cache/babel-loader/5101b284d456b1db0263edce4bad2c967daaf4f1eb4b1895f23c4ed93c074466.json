{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import'./ListaPacientes.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus,faEdit,faTrash,faQuestionCircle}from'@fortawesome/free-solid-svg-icons';import Modal from'../componentes/Modal';import{useToast}from'../context/ToastContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;function ListaPacientes(){const[pacientes,setPacientes]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();const[setIsAjudaOpen]=useState(false);const[limit]=useState(10);const[offset,setOffset]=useState(0);const[totalPacientes,setTotalPacientes]=useState(0);const[isDeleteModalOpen,setIsDeleteModalOpen]=useState(false);const[pacienteParaExcluir,setPacienteParaExcluir]=useState(null);const{showToast}=useToast();const formatDate=dateString=>{if(!dateString)return'-';const dateOnly=dateString.split('T')[0];const[year,month,day]=dateOnly.split('-');return\"\".concat(day,\"/\").concat(month,\"/\").concat(year);};const fetchPacientes=useCallback(async()=>{setLoading(true);setError(null);try{const token=localStorage.getItem('access_token');if(!token){throw new Error('Token de autenticação não encontrado.');}let params={limit:limit,offset:offset,search:searchTerm};const response=await axios.get(\"\".concat(API_BASE_URL,\"/api/pacientes/\"),{headers:{'Authorization':\"Bearer \".concat(token)},params:params});const pacientesData=response.data.results;if(Array.isArray(pacientesData)){setPacientes(pacientesData);setTotalPacientes(response.data.count||0);}else{setPacientes([]);setError('Formato de dados inesperado da API.');}}catch(err){if(err.response&&err.response.status===401){showToast('Sua sessão expirou. Por favor, faça o login novamente.');navigate('/login');}else{setError('Não foi possível carregar os pacientes.');console.error('Erro ao buscar pacientes:',err);}}finally{setLoading(false);}},[navigate,limit,offset,searchTerm,showToast]);useEffect(()=>{fetchPacientes();},[fetchPacientes]);const handleDeletePaciente=paciente=>{setPacienteParaExcluir(paciente);setIsDeleteModalOpen(true);};const confirmarExclusao=async()=>{if(!pacienteParaExcluir)return;try{const token=localStorage.getItem('access_token');if(!token)throw new Error('Token não encontrado.');await axios.delete(\"\".concat(API_BASE_URL,\"/api/pacientes/\").concat(pacienteParaExcluir.id_paciente,\"/\"),{headers:{'Authorization':\"Bearer \".concat(token)}});showToast('Paciente excluído com sucesso!','success');fetchPacientes();}catch(err){console.error(\"Erro ao excluir paciente:\",err);showToast('Não foi possível excluir o paciente.','error');}finally{setIsDeleteModalOpen(false);setPacienteParaExcluir(null);}};const handleSearchSubmit=e=>{e.preventDefault();setOffset(0);fetchPacientes();};const handleNextPage=()=>{if(offset+limit<totalPacientes){setOffset(prevOffset=>prevOffset+limit);}};const handlePrevPage=()=>{setOffset(prevOffset=>Math.max(0,prevOffset-limit));};const paginaAtual=Math.floor(offset/limit)+1;const totalPaginas=Math.ceil(totalPacientes/limit);if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"pacientes-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pacientes-header\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"pacientes-header-actions\",onSubmit:handleSearchSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"filtro-grupo\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"search-paciente\",className:\"filtro-input\",placeholder:\"Digite o nome ou CPF\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),title:\"Buscar paciente por nome ou CPF.\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/patients/new\",className:\"novo-paciente-button\",title:\"Abrir o formul\\xE1rio de cadastro para um novo paciente.\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlus}),\" Novo paciente\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"pacientes-tabela-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"pacientes-tabela\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CPF\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Telefone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data de nascimento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Endere\\xE7o\"}),/*#__PURE__*/_jsx(\"th\",{className:\"actions-header-cell\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"loading-message\",children:\"Carregando pacientes...\"})}):pacientes.length>0?pacientes.map(paciente=>{var _paciente$cidade;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/patients/\".concat(paciente.id_paciente),className:\"paciente-link\",title:\"Ver detalhes, hist\\xF3rico e or\\xE7amentos deste paciente.\",children:paciente.nome})}),/*#__PURE__*/_jsx(\"td\",{children:paciente.cpf}),/*#__PURE__*/_jsx(\"td\",{children:paciente.telefone||'-'}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(paciente.data_nasc)}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(paciente.logradouro||'-',\" - \").concat(((_paciente$cidade=paciente.cidade)===null||_paciente$cidade===void 0?void 0:_paciente$cidade.nome_cidade)||'N/A')}),/*#__PURE__*/_jsxs(\"td\",{className:\"actions-cell\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-button edit-button\",onClick:()=>navigate(\"/patients/\".concat(paciente.id_paciente,\"/edit\")),title:\"Editar dados cadastrais do paciente.\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEdit})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-button delete-button\",onClick:()=>handleDeletePaciente(paciente),title:\"Excluir este paciente.\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash})})]})]},paciente.id_paciente);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"no-data\",children:\"Nenhum paciente encontrado.\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Mostrando \",Math.min(offset+1,totalPacientes),\" - \",Math.min(offset+limit,totalPacientes),\" de \",totalPacientes]}),totalPaginas>1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,disabled:offset===0,className:\"pagination-button\",children:\"Anterior\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"pagination-info\",children:[\"P\\xE1gina \",paginaAtual,\" de \",totalPaginas]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:offset+limit>=totalPacientes,className:\"pagination-button\",children:\"Pr\\xF3ximo\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"floating-help-button\",onClick:()=>setIsAjudaOpen(true),title:\"Ajuda sobre esta p\\xE1gina\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faQuestionCircle})}),/*#__PURE__*/_jsxs(Modal,{isOpen:isDeleteModalOpen,onClose:()=>setIsDeleteModalOpen(false),titulo:\"Confirmar Exclus\\xE3o\",footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-button modal-button-secondary\",onClick:()=>setIsDeleteModalOpen(false),title:\"Cancelar e fechar.\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-button modal-button-danger\",onClick:confirmarExclusao,title:\"Confirmar a exclus\\xE3o.\",children:\"Sim, Excluir\"})]}),children:[/*#__PURE__*/_jsx(\"p\",{children:\"Tem certeza que deseja excluir o paciente:\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold',fontSize:'1.1rem',color:'#000000',textAlign:'center'},children:pacienteParaExcluir===null||pacienteParaExcluir===void 0?void 0:pacienteParaExcluir.nome}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',color:'#666'},children:\"Esta a\\xE7\\xE3o n\\xE3o pode ser desfeita.\"})]})]});}export default ListaPacientes;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useNavigate","axios","FontAwesomeIcon","faPlus","faEdit","faTrash","faQuestionCircle","Modal","useToast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","ListaPacientes","pacientes","setPacientes","searchTerm","setSearchTerm","loading","setLoading","error","setError","navigate","setIsAjudaOpen","limit","offset","setOffset","totalPacientes","setTotalPacientes","isDeleteModalOpen","setIsDeleteModalOpen","pacienteParaExcluir","setPacienteParaExcluir","showToast","formatDate","dateString","dateOnly","split","year","month","day","concat","fetchPacientes","token","localStorage","getItem","Error","params","search","response","get","headers","pacientesData","data","results","Array","isArray","count","err","status","console","handleDeletePaciente","paciente","confirmarExclusao","delete","id_paciente","handleSearchSubmit","e","preventDefault","handleNextPage","prevOffset","handlePrevPage","Math","max","paginaAtual","floor","totalPaginas","ceil","className","children","onSubmit","type","id","placeholder","value","onChange","target","title","to","icon","colSpan","length","map","_paciente$cidade","nome","cpf","telefone","data_nasc","logradouro","cidade","nome_cidade","onClick","min","disabled","isOpen","onClose","titulo","footer","style","fontWeight","fontSize","color","textAlign"],"sources":["C:/Users/milen/Desktop/4º ano/projeto/ProjetoDrGus/frontend/src/paginas/ListaPacientes.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './ListaPacientes.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faEdit, faTrash, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport Modal from '../componentes/Modal';\r\nimport { useToast } from '../context/ToastContext';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\nfunction ListaPacientes() {\r\n  const [pacientes, setPacientes] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n  const [setIsAjudaOpen] = useState(false);\r\n\r\n  const [limit] = useState(10);\r\n  const [offset, setOffset] = useState(0);\r\n  const [totalPacientes, setTotalPacientes] = useState(0);\r\n\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [pacienteParaExcluir, setPacienteParaExcluir] = useState(null);\r\n\r\n  const { showToast } = useToast();\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '-';\r\n    const dateOnly = dateString.split('T')[0];\r\n    const [year, month, day] = dateOnly.split('-');\r\n    return `${day}/${month}/${year}`;\r\n  };\r\n\r\n  const fetchPacientes = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) {\r\n        throw new Error('Token de autenticação não encontrado.');\r\n      }\r\n      \r\n      let params = {\r\n        limit: limit,\r\n        offset: offset,\r\n        search: searchTerm,\r\n      };\r\n\r\n      const response = await axios.get(`${API_BASE_URL}/api/pacientes/`, {\r\n        headers: { 'Authorization': `Bearer ${token}` },\r\n        params: params\r\n      });\r\n      \r\n      const pacientesData = response.data.results;\r\n      if (Array.isArray(pacientesData)) {\r\n        setPacientes(pacientesData);\r\n        setTotalPacientes(response.data.count || 0);\r\n      } else {\r\n        setPacientes([]);\r\n        setError('Formato de dados inesperado da API.');\r\n      }\r\n    } catch (err) {\r\n      if (err.response && err.response.status === 401) {\r\n        showToast('Sua sessão expirou. Por favor, faça o login novamente.');\r\n        navigate('/login');\r\n      } else {\r\n        setError('Não foi possível carregar os pacientes.');\r\n        console.error('Erro ao buscar pacientes:', err);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [navigate, limit, offset, searchTerm, showToast]);\r\n\r\n  useEffect(() => {\r\n    fetchPacientes();\r\n  }, [fetchPacientes]);\r\n\r\n  const handleDeletePaciente = (paciente) => {\r\n    setPacienteParaExcluir(paciente);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const confirmarExclusao = async () => {\r\n    if (!pacienteParaExcluir) return;\r\n    try {\r\n      const token = localStorage.getItem('access_token');\r\n      if (!token) throw new Error('Token não encontrado.');\r\n      await axios.delete(`${API_BASE_URL}/api/pacientes/${pacienteParaExcluir.id_paciente}/`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n        showToast('Paciente excluído com sucesso!', 'success');\r\n        fetchPacientes(); \r\n      } catch (err) {\r\n        console.error(\"Erro ao excluir paciente:\", err);\r\n       showToast('Não foi possível excluir o paciente.', 'error');\r\n     } finally {\r\n      setIsDeleteModalOpen(false);\r\n      setPacienteParaExcluir(null);\r\n    }\r\n  };\r\n\r\n  const handleSearchSubmit = (e) => {\r\n    e.preventDefault();\r\n    setOffset(0); \r\n    fetchPacientes();\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    if (offset + limit < totalPacientes) {\r\n      setOffset(prevOffset => prevOffset + limit);\r\n    }\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    setOffset(prevOffset => Math.max(0, prevOffset - limit));\r\n  };\r\n\r\n  const paginaAtual = Math.floor(offset / limit) + 1;\r\n  const totalPaginas = Math.ceil(totalPacientes / limit);\r\n\r\n  if (error) {\r\n    return <div className=\"error-message\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"pacientes-container\">\r\n      <div className=\"pacientes-header\">\r\n        <form className=\"pacientes-header-actions\" onSubmit={handleSearchSubmit}>\r\n          <div className=\"filtro-grupo\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"search-paciente\"\r\n              className=\"filtro-input\"\r\n              placeholder=\"Digite o nome ou CPF\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              title=\"Buscar paciente por nome ou CPF.\"\r\n            />\r\n          </div>\r\n          \r\n          <Link \r\n            to=\"/patients/new\" \r\n            className=\"novo-paciente-button\"\r\n            title=\"Abrir o formulário de cadastro para um novo paciente.\"\r\n          >\r\n            <FontAwesomeIcon icon={faPlus} /> Novo paciente\r\n          </Link>\r\n        </form>\r\n      </div>\r\n      \r\n      <div className=\"pacientes-tabela-wrapper\">\r\n        <table className=\"pacientes-tabela\">\r\n          <thead>\r\n            <tr>\r\n              <th>Nome</th>\r\n              <th>CPF</th>\r\n              <th>Telefone</th>\r\n              <th>Data de nascimento</th>\r\n              <th>Endereço</th>\r\n              <th className=\"actions-header-cell\">Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {loading ? (\r\n              <tr><td colSpan=\"6\" className=\"loading-message\">Carregando pacientes...</td></tr>\r\n            ) : pacientes.length > 0 ? (\r\n              pacientes.map(paciente => (\r\n                <tr key={paciente.id_paciente}>\r\n                  <td>\r\n                    <Link \r\n                      to={`/patients/${paciente.id_paciente}`} \r\n                      className=\"paciente-link\"\r\n                      title=\"Ver detalhes, histórico e orçamentos deste paciente.\"\r\n                    >\r\n                      {paciente.nome}\r\n                    </Link>\r\n                  </td>\r\n                  <td>{paciente.cpf}</td>\r\n                  <td>{paciente.telefone || '-'}</td>\r\n                  <td>{formatDate(paciente.data_nasc)}</td>\r\n                  <td>{`${paciente.logradouro || '-'} - ${paciente.cidade?.nome_cidade || 'N/A'}`}</td>\r\n                  \r\n                  <td className=\"actions-cell\">\r\n                    <button \r\n                      className=\"action-button edit-button\" \r\n                      onClick={() => navigate(`/patients/${paciente.id_paciente}/edit`)}\r\n                      title=\"Editar dados cadastrais do paciente.\"\r\n                    >\r\n                      <FontAwesomeIcon icon={faEdit} />\r\n                    </button>\r\n                    <button \r\n                      className=\"action-button delete-button\" \r\n                      onClick={() => handleDeletePaciente(paciente)}\r\n                      title=\"Excluir este paciente.\"\r\n                    >\r\n                      <FontAwesomeIcon icon={faTrash} />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan=\"6\" className=\"no-data\">Nenhum paciente encontrado.</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"pagination-controls\">\r\n        <span>\r\n          Mostrando {Math.min(offset + 1, totalPacientes)} - {Math.min(offset + limit, totalPacientes)} de {totalPacientes}\r\n        </span>\r\n        \r\n        {totalPaginas > 1 && (\r\n          <div>\r\n            <button \r\n              onClick={handlePrevPage} \r\n              disabled={offset === 0}\r\n              className=\"pagination-button\"\r\n            >\r\n              Anterior\r\n            </button>\r\n            <span className=\"pagination-info\">\r\n              Página {paginaAtual} de {totalPaginas}\r\n            </span>\r\n            <button \r\n              onClick={handleNextPage} \r\n              disabled={offset + limit >= totalPacientes}\r\n              className=\"pagination-button\"\r\n            >\r\n              Próximo\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <button \r\n        className=\"floating-help-button\" \r\n        onClick={() => setIsAjudaOpen(true)}\r\n        title=\"Ajuda sobre esta página\"\r\n      >\r\n        <FontAwesomeIcon icon={faQuestionCircle} />\r\n      </button>\r\n\r\n      <Modal\r\n        isOpen={isDeleteModalOpen}\r\n        onClose={() => setIsDeleteModalOpen(false)}\r\n        titulo=\"Confirmar Exclusão\"\r\n        footer={\r\n          <>\r\n            <button \r\n              className=\"modal-button modal-button-secondary\" \r\n              onClick={() => setIsDeleteModalOpen(false)}\r\n              title=\"Cancelar e fechar.\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button \r\n              className=\"modal-button modal-button-danger\" \r\n              onClick={confirmarExclusao}\r\n              title=\"Confirmar a exclusão.\"\r\n            >\r\n              Sim, Excluir\r\n            </button>\r\n          </>\r\n        }\r\n      >\r\n        <p>Tem certeza que deseja excluir o paciente:</p>\r\n        <p style={{fontWeight: 'bold', fontSize: '1.1rem', color: '#000000', textAlign: 'center'}}>\r\n          {pacienteParaExcluir?.nome}\r\n        </p>\r\n        <p style={{fontSize: '0.9rem', color: '#666'}}>Esta ação não pode ser desfeita.</p>\r\n      </Modal>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListaPacientes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}